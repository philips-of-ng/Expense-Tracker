(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function LS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Lp={exports:{}},Yl={},Vp={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function VS(){if(F0)return Oe;F0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,A={};function I($,X,be){this.props=$,this.context=X,this.refs=A,this.updater=be||T}I.prototype.isReactComponent={},I.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function V(){}V.prototype=I.prototype;function F($,X,be){this.props=$,this.context=X,this.refs=A,this.updater=be||T}var U=F.prototype=new V;U.constructor=F,N(U,I.prototype),U.isPureReactComponent=!0;var B=Array.isArray,q=Object.prototype.hasOwnProperty,Y={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function b($,X,be){var xe,Ne={},Ce=null,qe=null;if(X!=null)for(xe in X.ref!==void 0&&(qe=X.ref),X.key!==void 0&&(Ce=""+X.key),X)q.call(X,xe)&&!R.hasOwnProperty(xe)&&(Ne[xe]=X[xe]);var Ue=arguments.length-2;if(Ue===1)Ne.children=be;else if(1<Ue){for(var Ye=Array(Ue),sn=0;sn<Ue;sn++)Ye[sn]=arguments[sn+2];Ne.children=Ye}if($&&$.defaultProps)for(xe in Ue=$.defaultProps,Ue)Ne[xe]===void 0&&(Ne[xe]=Ue[xe]);return{$$typeof:n,type:$,key:Ce,ref:qe,props:Ne,_owner:Y.current}}function D($,X){return{$$typeof:n,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function P($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function C($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(be){return X[be]})}var L=/\/+/g;function O($,X){return typeof $=="object"&&$!==null&&$.key!=null?C(""+$.key):X.toString(36)}function ke($,X,be,xe,Ne){var Ce=typeof $;(Ce==="undefined"||Ce==="boolean")&&($=null);var qe=!1;if($===null)qe=!0;else switch(Ce){case"string":case"number":qe=!0;break;case"object":switch($.$$typeof){case n:case e:qe=!0}}if(qe)return qe=$,Ne=Ne(qe),$=xe===""?"."+O(qe,0):xe,B(Ne)?(be="",$!=null&&(be=$.replace(L,"$&/")+"/"),ke(Ne,X,be,"",function(sn){return sn})):Ne!=null&&(P(Ne)&&(Ne=D(Ne,be+(!Ne.key||qe&&qe.key===Ne.key?"":(""+Ne.key).replace(L,"$&/")+"/")+$)),X.push(Ne)),1;if(qe=0,xe=xe===""?".":xe+":",B($))for(var Ue=0;Ue<$.length;Ue++){Ce=$[Ue];var Ye=xe+O(Ce,Ue);qe+=ke(Ce,X,be,Ye,Ne)}else if(Ye=w($),typeof Ye=="function")for($=Ye.call($),Ue=0;!(Ce=$.next()).done;)Ce=Ce.value,Ye=xe+O(Ce,Ue++),qe+=ke(Ce,X,be,Ye,Ne);else if(Ce==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return qe}function me($,X,be){if($==null)return $;var xe=[],Ne=0;return ke($,xe,"","",function(Ce){return X.call(be,Ce,Ne++)}),xe}function Ae($){if($._status===-1){var X=$._result;X=X(),X.then(function(be){($._status===0||$._status===-1)&&($._status=1,$._result=be)},function(be){($._status===0||$._status===-1)&&($._status=2,$._result=be)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var we={current:null},re={transition:null},ae={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:re,ReactCurrentOwner:Y};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:me,forEach:function($,X,be){me($,function(){X.apply(this,arguments)},be)},count:function($){var X=0;return me($,function(){X++}),X},toArray:function($){return me($,function(X){return X})||[]},only:function($){if(!P($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Oe.Component=I,Oe.Fragment=t,Oe.Profiler=i,Oe.PureComponent=F,Oe.StrictMode=r,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Oe.act=oe,Oe.cloneElement=function($,X,be){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var xe=N({},$.props),Ne=$.key,Ce=$.ref,qe=$._owner;if(X!=null){if(X.ref!==void 0&&(Ce=X.ref,qe=Y.current),X.key!==void 0&&(Ne=""+X.key),$.type&&$.type.defaultProps)var Ue=$.type.defaultProps;for(Ye in X)q.call(X,Ye)&&!R.hasOwnProperty(Ye)&&(xe[Ye]=X[Ye]===void 0&&Ue!==void 0?Ue[Ye]:X[Ye])}var Ye=arguments.length-2;if(Ye===1)xe.children=be;else if(1<Ye){Ue=Array(Ye);for(var sn=0;sn<Ye;sn++)Ue[sn]=arguments[sn+2];xe.children=Ue}return{$$typeof:n,type:$.type,key:Ne,ref:Ce,props:xe,_owner:qe}},Oe.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Oe.createElement=b,Oe.createFactory=function($){var X=b.bind(null,$);return X.type=$,X},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function($){return{$$typeof:c,render:$}},Oe.isValidElement=P,Oe.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:Ae}},Oe.memo=function($,X){return{$$typeof:f,type:$,compare:X===void 0?null:X}},Oe.startTransition=function($){var X=re.transition;re.transition={};try{$()}finally{re.transition=X}},Oe.unstable_act=oe,Oe.useCallback=function($,X){return we.current.useCallback($,X)},Oe.useContext=function($){return we.current.useContext($)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function($){return we.current.useDeferredValue($)},Oe.useEffect=function($,X){return we.current.useEffect($,X)},Oe.useId=function(){return we.current.useId()},Oe.useImperativeHandle=function($,X,be){return we.current.useImperativeHandle($,X,be)},Oe.useInsertionEffect=function($,X){return we.current.useInsertionEffect($,X)},Oe.useLayoutEffect=function($,X){return we.current.useLayoutEffect($,X)},Oe.useMemo=function($,X){return we.current.useMemo($,X)},Oe.useReducer=function($,X,be){return we.current.useReducer($,X,be)},Oe.useRef=function($){return we.current.useRef($)},Oe.useState=function($){return we.current.useState($)},Oe.useSyncExternalStore=function($,X,be){return we.current.useSyncExternalStore($,X,be)},Oe.useTransition=function(){return we.current.useTransition()},Oe.version="18.3.1",Oe}var j0;function Ld(){return j0||(j0=1,Vp.exports=VS()),Vp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function FS(){if(U0)return Yl;U0=1;var n=Ld(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,f){var g,y={},w=null,T=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(g in h)r.call(h,g)&&!o.hasOwnProperty(g)&&(y[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:c,key:w,ref:T,props:y,_owner:i.current}}return Yl.Fragment=t,Yl.jsx=l,Yl.jsxs=l,Yl}var z0;function jS(){return z0||(z0=1,Lp.exports=FS()),Lp.exports}var S=jS(),ce=Ld();const et=LS(ce);var yh={},Fp={exports:{}},mn={},jp={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function US(){return B0||(B0=1,(function(n){function e(re,ae){var oe=re.length;re.push(ae);e:for(;0<oe;){var $=oe-1>>>1,X=re[$];if(0<i(X,ae))re[$]=ae,re[oe]=X,oe=$;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ae=re[0],oe=re.pop();if(oe!==ae){re[0]=oe;e:for(var $=0,X=re.length,be=X>>>1;$<be;){var xe=2*($+1)-1,Ne=re[xe],Ce=xe+1,qe=re[Ce];if(0>i(Ne,oe))Ce<X&&0>i(qe,Ne)?(re[$]=qe,re[Ce]=oe,$=Ce):(re[$]=Ne,re[xe]=oe,$=xe);else if(Ce<X&&0>i(qe,oe))re[$]=qe,re[Ce]=oe,$=Ce;else break e}}return ae}function i(re,ae){var oe=re.sortIndex-ae.sortIndex;return oe!==0?oe:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,y=null,w=3,T=!1,N=!1,A=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(re){for(var ae=t(f);ae!==null;){if(ae.callback===null)r(f);else if(ae.startTime<=re)r(f),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(f)}}function B(re){if(A=!1,U(re),!N)if(t(h)!==null)N=!0,Ae(q);else{var ae=t(f);ae!==null&&we(B,ae.startTime-re)}}function q(re,ae){N=!1,A&&(A=!1,V(b),b=-1),T=!0;var oe=w;try{for(U(ae),y=t(h);y!==null&&(!(y.expirationTime>ae)||re&&!C());){var $=y.callback;if(typeof $=="function"){y.callback=null,w=y.priorityLevel;var X=$(y.expirationTime<=ae);ae=n.unstable_now(),typeof X=="function"?y.callback=X:y===t(h)&&r(h),U(ae)}else r(h);y=t(h)}if(y!==null)var be=!0;else{var xe=t(f);xe!==null&&we(B,xe.startTime-ae),be=!1}return be}finally{y=null,w=oe,T=!1}}var Y=!1,R=null,b=-1,D=5,P=-1;function C(){return!(n.unstable_now()-P<D)}function L(){if(R!==null){var re=n.unstable_now();P=re;var ae=!0;try{ae=R(!0,re)}finally{ae?O():(Y=!1,R=null)}}else Y=!1}var O;if(typeof F=="function")O=function(){F(L)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,me=ke.port2;ke.port1.onmessage=L,O=function(){me.postMessage(null)}}else O=function(){I(L,0)};function Ae(re){R=re,Y||(Y=!0,O())}function we(re,ae){b=I(function(){re(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){N||T||(N=!0,Ae(q))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var oe=w;w=ae;try{return re()}finally{w=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=w;w=re;try{return ae()}finally{w=oe}},n.unstable_scheduleCallback=function(re,ae,oe){var $=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,re={id:g++,callback:ae,priorityLevel:re,startTime:oe,expirationTime:X,sortIndex:-1},oe>$?(re.sortIndex=oe,e(f,re),t(h)===null&&re===t(f)&&(A?(V(b),b=-1):A=!0,we(B,oe-$))):(re.sortIndex=X,e(h,re),N||T||(N=!0,Ae(q))),re},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(re){var ae=w;return function(){var oe=w;w=ae;try{return re.apply(this,arguments)}finally{w=oe}}}})(Up)),Up}var $0;function zS(){return $0||($0=1,jp.exports=US()),jp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function BS(){if(H0)return mn;H0=1;var n=Ld(),e=zS();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(s){return h.call(y,s)?!0:h.call(g,s)?!1:f.test(s)?y[s]=!0:(g[s]=!0,!1)}function T(s,a,u,p){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,a,u,p){if(a===null||typeof a>"u"||T(s,a,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function A(s,a,u,p,m,_,E){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=E}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){I[s]=new A(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];I[a]=new A(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){I[s]=new A(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){I[s]=new A(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){I[s]=new A(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){I[s]=new A(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){I[s]=new A(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){I[s]=new A(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){I[s]=new A(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,F);I[a]=new A(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,F);I[a]=new A(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,F);I[a]=new A(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){I[s]=new A(s,1,!1,s.toLowerCase(),null,!1,!1)}),I.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){I[s]=new A(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,u,p){var m=I.hasOwnProperty(a)?I[a]:null;(m!==null?m.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(N(a,u,m,p)&&(u=null),p||m===null?w(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(a=m.attributeName,p=m.attributeNamespace,u===null?s.removeAttribute(a):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,p?s.setAttributeNS(p,a,u):s.setAttribute(a,u))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Y=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),C=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),re=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,$;function X(s){if($===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var be=!1;function xe(s,a){if(!s||be)return"";be=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var p=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){p=G}s.call(a.prototype)}else{try{throw Error()}catch(G){p=G}s()}}catch(G){if(G&&p&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),_=p.stack.split(`
`),E=m.length-1,M=_.length-1;1<=E&&0<=M&&m[E]!==_[M];)M--;for(;1<=E&&0<=M;E--,M--)if(m[E]!==_[M]){if(E!==1||M!==1)do if(E--,M--,0>M||m[E]!==_[M]){var j=`
`+m[E].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=E&&0<=M);break}}}finally{be=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?X(s):""}function Ne(s){switch(s.tag){case 5:return X(s.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return s=xe(s.type,!1),s;case 11:return s=xe(s.type.render,!1),s;case 1:return s=xe(s.type,!0),s;default:return""}}function Ce(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case Y:return"Portal";case D:return"Profiler";case b:return"StrictMode";case O:return"Suspense";case ke:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case C:return(s.displayName||"Context")+".Consumer";case P:return(s._context.displayName||"Context")+".Provider";case L:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case me:return a=s.displayName||null,a!==null?a:Ce(s.type)||"Memo";case Ae:a=s._payload,s=s._init;try{return Ce(s(a))}catch{}}return null}function qe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ce(a);case 8:return a===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ye(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function sn(s){var a=Ye(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,_=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){p=""+E,_.call(this,E)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Mo(s){s._valueTracker||(s._valueTracker=sn(s))}function nl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),p="";return s&&(p=Ye(s)?s.checked?"true":"false":s.value),s=p,s!==u?(a.setValue(s),!0):!1}function Si(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Lo(s,a){var u=a.checked;return oe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function nu(s,a){var u=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;u=Ue(a.value!=null?a.value:u),s._wrapperState={initialChecked:p,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Vo(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function Is(s,a){Vo(s,a);var u=Ue(a.value),p=a.type;if(u!=null)p==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?xt(s,a.type,u):a.hasOwnProperty("defaultValue")&&xt(s,a.type,Ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function rl(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function xt(s,a,u){(a!=="number"||Si(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var mt=Array.isArray;function Xn(s,a,u,p){if(s=s.options,a){a={};for(var m=0;m<u.length;m++)a["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=a.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&p&&(s[u].defaultSelected=!0)}else{for(u=""+Ue(u),a=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,p&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function il(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function sl(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(t(92));if(mt(u)){if(1<u.length)throw Error(t(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:Ue(u)}}function ru(s,a){var u=Ue(a.value),p=Ue(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),p!=null&&(s.defaultValue=""+p)}function ki(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ol(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fo(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ol(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ai,iu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,p,m){MSApp.execUnsafeLocalFunction(function(){return s(a,u,p,m)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Ai=Ai||document.createElement("div"),Ai.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ai.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ss(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},su=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(s){su.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Ci[a]=Ci[s]})});function Ri(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Ci.hasOwnProperty(s)&&Ci[s]?(""+a).trim():a+"px"}function jo(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var p=u.indexOf("--")===0,m=Ri(u,a[u],p);u==="float"&&(u="cssFloat"),p?s.setProperty(u,m):s[u]=m}}var al=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(s,a){if(a){if(al[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Uo(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pi=null;function zo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Hr=null,Wr=null,dt=null;function ll(s){if(s=Ml(s)){if(typeof Hr!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Nu(a),Hr(s.stateNode,s.type,a))}}function Ni(s){Wr?dt?dt.push(s):dt=[s]:Wr=s}function Di(){if(Wr){var s=Wr,a=dt;if(dt=Wr=null,ll(s),a)for(s=0;s<a.length;s++)ll(a[s])}}function ou(s,a){return s(a)}function au(){}var dr=!1;function lu(s,a,u){if(dr)return s(a,u);dr=!0;try{return ou(s,a,u)}finally{dr=!1,(Wr!==null||dt!==null)&&(au(),Di())}}function ks(s,a){var u=s.stateNode;if(u===null)return null;var p=Nu(u);if(p===null)return null;u=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,a,typeof u));return u}var Oi=!1;if(c)try{var Mi={};Object.defineProperty(Mi,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Mi,Mi),window.removeEventListener("test",Mi,Mi)}catch{Oi=!1}function cu(s,a,u,p,m,_,E,M,j){var G=Array.prototype.slice.call(arguments,3);try{a.apply(u,G)}catch(ee){this.onError(ee)}}var qr=!1,fr=null,Bo=!1,On=null,uu={onError:function(s){qr=!0,fr=s}};function hu(s,a,u,p,m,_,E,M,j){qr=!1,fr=null,cu.apply(uu,arguments)}function cl(s,a,u,p,m,_,E,M,j){if(hu.apply(this,arguments),qr){if(qr){var G=fr;qr=!1,fr=null}else throw Error(t(198));Bo||(Bo=!0,On=G)}}function Zn(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function ul(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function du(s){if(Zn(s)!==s)throw Error(t(188))}function fu(s){var a=s.alternate;if(!a){if(a=Zn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var u=s,p=a;;){var m=u.return;if(m===null)break;var _=m.alternate;if(_===null){if(p=m.return,p!==null){u=p;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===u)return du(m),s;if(_===p)return du(m),a;_=_.sibling}throw Error(t(188))}if(u.return!==p.return)u=m,p=_;else{for(var E=!1,M=m.child;M;){if(M===u){E=!0,u=m,p=_;break}if(M===p){E=!0,p=m,u=_;break}M=M.sibling}if(!E){for(M=_.child;M;){if(M===u){E=!0,u=_,p=m;break}if(M===p){E=!0,p=_,u=m;break}M=M.sibling}if(!E)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:a}function pu(s){return s=fu(s),s!==null?As(s):null}function As(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=As(s);if(a!==null)return a;s=s.sibling}return null}var hl=e.unstable_scheduleCallback,$o=e.unstable_cancelCallback,Cs=e.unstable_shouldYield,Kr=e.unstable_requestPaint,nt=e.unstable_now,ff=e.unstable_getCurrentPriorityLevel,Ho=e.unstable_ImmediatePriority,dl=e.unstable_UserBlockingPriority,Rs=e.unstable_NormalPriority,fl=e.unstable_LowPriority,Wo=e.unstable_IdlePriority,Ps=null,Tn=null;function gu(s){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Ps,s,void 0,(s.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:Ns,pr=Math.log,Mn=Math.LN2;function Ns(s){return s>>>=0,s===0?32:31-(pr(s)/Mn|0)|0}var gr=64,Li=4194304;function We(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gr(s,a){var u=s.pendingLanes;if(u===0)return 0;var p=0,m=s.suspendedLanes,_=s.pingedLanes,E=u&268435455;if(E!==0){var M=E&~m;M!==0?p=We(M):(_&=E,_!==0&&(p=We(_)))}else E=u&~m,E!==0?p=We(E):_!==0&&(p=We(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&m)===0&&(m=p&-p,_=a&-a,m>=_||m===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)u=31-En(a),m=1<<u,p|=s[u],a&=~m;return p}function Ds(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(s,a){for(var u=s.suspendedLanes,p=s.pingedLanes,m=s.expirationTimes,_=s.pendingLanes;0<_;){var E=31-En(_),M=1<<E,j=m[E];j===-1?((M&u)===0||(M&p)!==0)&&(m[E]=Ds(M,a)):j<=a&&(s.expiredLanes|=M),_&=~M}}function pl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function gl(){var s=gr;return gr<<=1,(gr&4194240)===0&&(gr=64),s}function ml(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ms(s,a,u){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-En(a),s[a]=u}function pf(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-En(u),_=1<<m;a[m]=0,p[m]=-1,s[m]=-1,u&=~_}}function yl(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var p=31-En(u),m=1<<p;m&a|s[p]&a&&(s[p]|=a),u&=~m}}var Fe=0;function mr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var _l,qo,vl,wl,xl,yr=!1,Ko=[],_r=null,vr=null,jt=null,Ls=new Map,Qr=new Map,bn=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vi(s,a){switch(s){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":Ls.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(a.pointerId)}}function er(s,a,u,p,m,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:u,eventSystemFlags:p,nativeEvent:_,targetContainers:[m]},a!==null&&(a=Ml(a),a!==null&&qo(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function yu(s,a,u,p,m){switch(a){case"focusin":return _r=er(_r,s,a,u,p,m),!0;case"dragenter":return vr=er(vr,s,a,u,p,m),!0;case"mouseover":return jt=er(jt,s,a,u,p,m),!0;case"pointerover":var _=m.pointerId;return Ls.set(_,er(Ls.get(_)||null,s,a,u,p,m)),!0;case"gotpointercapture":return _=m.pointerId,Qr.set(_,er(Qr.get(_)||null,s,a,u,p,m)),!0}return!1}function Go(s){var a=Us(s.target);if(a!==null){var u=Zn(a);if(u!==null){if(a=u.tag,a===13){if(a=ul(u),a!==null){s.blockedOn=a,xl(s.priority,function(){vl(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Xe(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Qo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var p=new u.constructor(u.type,u);Pi=p,u.target.dispatchEvent(p),Pi=null}else return a=Ml(u),a!==null&&qo(a),s.blockedOn=u,!1;a.shift()}return!0}function _u(s,a,u){Xe(s)&&u.delete(a)}function gf(){yr=!1,_r!==null&&Xe(_r)&&(_r=null),vr!==null&&Xe(vr)&&(vr=null),jt!==null&&Xe(jt)&&(jt=null),Ls.forEach(_u),Qr.forEach(_u)}function Fi(s,a){s.blockedOn===a&&(s.blockedOn=null,yr||(yr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gf)))}function ji(s){function a(m){return Fi(m,s)}if(0<Ko.length){Fi(Ko[0],s);for(var u=1;u<Ko.length;u++){var p=Ko[u];p.blockedOn===s&&(p.blockedOn=null)}}for(_r!==null&&Fi(_r,s),vr!==null&&Fi(vr,s),jt!==null&&Fi(jt,s),Ls.forEach(a),Qr.forEach(a),u=0;u<bn.length;u++)p=bn[u],p.blockedOn===s&&(p.blockedOn=null);for(;0<bn.length&&(u=bn[0],u.blockedOn===null);)Go(u),u.blockedOn===null&&bn.shift()}var Yr=B.ReactCurrentBatchConfig,Xr=!0;function wr(s,a,u,p){var m=Fe,_=Yr.transition;Yr.transition=null;try{Fe=1,Tl(s,a,u,p)}finally{Fe=m,Yr.transition=_}}function vu(s,a,u,p){var m=Fe,_=Yr.transition;Yr.transition=null;try{Fe=4,Tl(s,a,u,p)}finally{Fe=m,Yr.transition=_}}function Tl(s,a,u,p){if(Xr){var m=Qo(s,a,u,p);if(m===null)Sf(s,a,p,xr,u),Vi(s,p);else if(yu(m,s,a,u,p))p.stopPropagation();else if(Vi(s,p),a&4&&-1<mu.indexOf(s)){for(;m!==null;){var _=Ml(m);if(_!==null&&_l(_),_=Qo(s,a,u,p),_===null&&Sf(s,a,p,xr,u),_===m)break;m=_}m!==null&&p.stopPropagation()}else Sf(s,a,p,null,u)}}var xr=null;function Qo(s,a,u,p){if(xr=null,s=zo(p),s=Us(s),s!==null)if(a=Zn(s),a===null)s=null;else if(u=a.tag,u===13){if(s=ul(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return xr=s,null}function Yo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ff()){case Ho:return 1;case dl:return 4;case Rs:case fl:return 16;case Wo:return 536870912;default:return 16}default:return 16}}var In=null,Xo=null,Jr=null;function wu(){if(Jr)return Jr;var s,a=Xo,u=a.length,p,m="value"in In?In.value:In.textContent,_=m.length;for(s=0;s<u&&a[s]===m[s];s++);var E=u-s;for(p=1;p<=E&&a[u-p]===m[_-p];p++);return Jr=m.slice(s,1<p?1-p:void 0)}function Vs(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Tr(){return!0}function El(){return!1}function Kt(s){function a(u,p,m,_,E){this._reactName=u,this._targetInst=m,this.type=p,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(u=s[M],this[M]=u?u(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Tr:El,this.isPropagationStopped=El,this}return oe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),a}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fs=Kt(Er),Ui=oe({},Er,{view:0,detail:0}),Jo=Kt(Ui),Zo,ea,Sn,js=oe({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Re,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Sn&&(Sn&&s.type==="mousemove"?(Zo=s.screenX-Sn.screenX,ea=s.screenY-Sn.screenY):ea=Zo=0,Sn=s),Zo)},movementY:function(s){return"movementY"in s?s.movementY:ea}}),bl=Kt(js),xu=oe({},js,{dataTransfer:0}),Tu=Kt(xu),ta=oe({},Ui,{relatedTarget:0}),Ut=Kt(ta),Eu=oe({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Kt(Eu),zi=oe({},Er,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=Kt(zi),v=oe({},Er,{data:0}),x=Kt(v),k={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function se(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Q[s])?!!a[s]:!1}function Re(){return se}var yt=oe({},Ui,{key:function(s){if(s.key){var a=k[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Vs(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Re,charCode:function(s){return s.type==="keypress"?Vs(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vs(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ge=Kt(yt),Tt=oe({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kn=Kt(Tt),Zr=oe({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Re}),br=Kt(Zr),Ir=oe({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),na=Kt(Ir),Il=oe({},js,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),RI=Kt(Il),PI=[9,13,27,32],mf=c&&"CompositionEvent"in window,Sl=null;c&&"documentMode"in document&&(Sl=document.documentMode);var NI=c&&"TextEvent"in window&&!Sl,Ry=c&&(!mf||Sl&&8<Sl&&11>=Sl),Py=" ",Ny=!1;function Dy(s,a){switch(s){case"keyup":return PI.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ra=!1;function DI(s,a){switch(s){case"compositionend":return Oy(a);case"keypress":return a.which!==32?null:(Ny=!0,Py);case"textInput":return s=a.data,s===Py&&Ny?null:s;default:return null}}function OI(s,a){if(ra)return s==="compositionend"||!mf&&Dy(s,a)?(s=wu(),Jr=Xo=In=null,ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ry&&a.locale!=="ko"?null:a.data;default:return null}}var MI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!MI[s.type]:a==="textarea"}function Ly(s,a,u,p){Ni(p),a=Cu(a,"onChange"),0<a.length&&(u=new Fs("onChange","change",null,u,p),s.push({event:u,listeners:a}))}var kl=null,Al=null;function LI(s){e_(s,0)}function Iu(s){var a=la(s);if(nl(a))return s}function VI(s,a){if(s==="change")return a}var Vy=!1;if(c){var yf;if(c){var _f="oninput"in document;if(!_f){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),_f=typeof Fy.oninput=="function"}yf=_f}else yf=!1;Vy=yf&&(!document.documentMode||9<document.documentMode)}function jy(){kl&&(kl.detachEvent("onpropertychange",Uy),Al=kl=null)}function Uy(s){if(s.propertyName==="value"&&Iu(Al)){var a=[];Ly(a,Al,s,zo(s)),lu(LI,a)}}function FI(s,a,u){s==="focusin"?(jy(),kl=a,Al=u,kl.attachEvent("onpropertychange",Uy)):s==="focusout"&&jy()}function jI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Iu(Al)}function UI(s,a){if(s==="click")return Iu(a)}function zI(s,a){if(s==="input"||s==="change")return Iu(a)}function BI(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var tr=typeof Object.is=="function"?Object.is:BI;function Cl(s,a){if(tr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),p=Object.keys(a);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var m=u[p];if(!h.call(a,m)||!tr(s[m],a[m]))return!1}return!0}function zy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function By(s,a){var u=zy(s);s=0;for(var p;u;){if(u.nodeType===3){if(p=s+u.textContent.length,s<=a&&p>=a)return{node:u,offset:a-s};s=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zy(u)}}function $y(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?$y(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Hy(){for(var s=window,a=Si();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Si(s.document)}return a}function vf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function $I(s){var a=Hy(),u=s.focusedElem,p=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&$y(u.ownerDocument.documentElement,u)){if(p!==null&&vf(u)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,_=Math.min(p.start,m);p=p.end===void 0?_:Math.min(p.end,m),!s.extend&&_>p&&(m=p,p=_,_=m),m=By(u,_);var E=By(u,p);m&&E&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(a=a.createRange(),a.setStart(m.node,m.offset),s.removeAllRanges(),_>p?(s.addRange(a),s.extend(E.node,E.offset)):(a.setEnd(E.node,E.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var HI=c&&"documentMode"in document&&11>=document.documentMode,ia=null,wf=null,Rl=null,xf=!1;function Wy(s,a,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xf||ia==null||ia!==Si(p)||(p=ia,"selectionStart"in p&&vf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Rl&&Cl(Rl,p)||(Rl=p,p=Cu(wf,"onSelect"),0<p.length&&(a=new Fs("onSelect","select",null,a,u),s.push({event:a,listeners:p}),a.target=ia)))}function Su(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var sa={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},Tf={},qy={};c&&(qy=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function ku(s){if(Tf[s])return Tf[s];if(!sa[s])return s;var a=sa[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in qy)return Tf[s]=a[u];return s}var Ky=ku("animationend"),Gy=ku("animationiteration"),Qy=ku("animationstart"),Yy=ku("transitionend"),Xy=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(s,a){Xy.set(s,a),o(a,[s])}for(var Ef=0;Ef<Jy.length;Ef++){var bf=Jy[Ef],WI=bf.toLowerCase(),qI=bf[0].toUpperCase()+bf.slice(1);Bi(WI,"on"+qI)}Bi(Ky,"onAnimationEnd"),Bi(Gy,"onAnimationIteration"),Bi(Qy,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(Yy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Zy(s,a,u){var p=s.type||"unknown-event";s.currentTarget=u,cl(p,a,void 0,s),s.currentTarget=null}function e_(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var p=s[u],m=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var E=p.length-1;0<=E;E--){var M=p[E],j=M.instance,G=M.currentTarget;if(M=M.listener,j!==_&&m.isPropagationStopped())break e;Zy(m,M,G),_=j}else for(E=0;E<p.length;E++){if(M=p[E],j=M.instance,G=M.currentTarget,M=M.listener,j!==_&&m.isPropagationStopped())break e;Zy(m,M,G),_=j}}}if(Bo)throw s=On,Bo=!1,On=null,s}function rt(s,a){var u=a[Nf];u===void 0&&(u=a[Nf]=new Set);var p=s+"__bubble";u.has(p)||(t_(a,s,2,!1),u.add(p))}function If(s,a,u){var p=0;a&&(p|=4),t_(u,s,p,a)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Nl(s){if(!s[Au]){s[Au]=!0,r.forEach(function(u){u!=="selectionchange"&&(KI.has(u)||If(u,!1,s),If(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Au]||(a[Au]=!0,If("selectionchange",!1,a))}}function t_(s,a,u,p){switch(Yo(a)){case 1:var m=wr;break;case 4:m=vu;break;default:m=Tl}u=m.bind(null,a,u,s),m=void 0,!Oi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),p?m!==void 0?s.addEventListener(a,u,{capture:!0,passive:m}):s.addEventListener(a,u,!0):m!==void 0?s.addEventListener(a,u,{passive:m}):s.addEventListener(a,u,!1)}function Sf(s,a,u,p,m){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var M=p.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(E===4)for(E=p.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;E=E.return}for(;M!==null;){if(E=Us(M),E===null)return;if(j=E.tag,j===5||j===6){p=_=E;continue e}M=M.parentNode}}p=p.return}lu(function(){var G=_,ee=zo(u),ne=[];e:{var Z=Xy.get(s);if(Z!==void 0){var le=Fs,de=s;switch(s){case"keypress":if(Vs(u)===0)break e;case"keydown":case"keyup":le=Ge;break;case"focusin":de="focus",le=Ut;break;case"focusout":de="blur",le=Ut;break;case"beforeblur":case"afterblur":le=Ut;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=br;break;case Ky:case Gy:case Qy:le=bu;break;case Yy:le=na;break;case"scroll":le=Jo;break;case"wheel":le=RI;break;case"copy":case"cut":case"paste":le=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=kn}var fe=(a&4)!==0,_t=!fe&&s==="scroll",H=fe?Z!==null?Z+"Capture":null:Z;fe=[];for(var z=G,K;z!==null;){K=z;var ie=K.stateNode;if(K.tag===5&&ie!==null&&(K=ie,H!==null&&(ie=ks(z,H),ie!=null&&fe.push(Dl(z,ie,K)))),_t)break;z=z.return}0<fe.length&&(Z=new le(Z,de,null,u,ee),ne.push({event:Z,listeners:fe}))}}if((a&7)===0){e:{if(Z=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Z&&u!==Pi&&(de=u.relatedTarget||u.fromElement)&&(Us(de)||de[ei]))break e;if((le||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(de=u.relatedTarget||u.toElement,le=G,de=de?Us(de):null,de!==null&&(_t=Zn(de),de!==_t||de.tag!==5&&de.tag!==6)&&(de=null)):(le=null,de=G),le!==de)){if(fe=bl,ie="onMouseLeave",H="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(fe=kn,ie="onPointerLeave",H="onPointerEnter",z="pointer"),_t=le==null?Z:la(le),K=de==null?Z:la(de),Z=new fe(ie,z+"leave",le,u,ee),Z.target=_t,Z.relatedTarget=K,ie=null,Us(ee)===G&&(fe=new fe(H,z+"enter",de,u,ee),fe.target=K,fe.relatedTarget=_t,ie=fe),_t=ie,le&&de)t:{for(fe=le,H=de,z=0,K=fe;K;K=oa(K))z++;for(K=0,ie=H;ie;ie=oa(ie))K++;for(;0<z-K;)fe=oa(fe),z--;for(;0<K-z;)H=oa(H),K--;for(;z--;){if(fe===H||H!==null&&fe===H.alternate)break t;fe=oa(fe),H=oa(H)}fe=null}else fe=null;le!==null&&n_(ne,Z,le,fe,!1),de!==null&&_t!==null&&n_(ne,_t,de,fe,!0)}}e:{if(Z=G?la(G):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var pe=VI;else if(My(Z))if(Vy)pe=zI;else{pe=jI;var ye=FI}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(pe=UI);if(pe&&(pe=pe(s,G))){Ly(ne,pe,u,ee);break e}ye&&ye(s,Z,G),s==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&xt(Z,"number",Z.value)}switch(ye=G?la(G):window,s){case"focusin":(My(ye)||ye.contentEditable==="true")&&(ia=ye,wf=G,Rl=null);break;case"focusout":Rl=wf=ia=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,Wy(ne,u,ee);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":Wy(ne,u,ee)}var _e;if(mf)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else ra?Dy(s,u)&&(Ie="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(Ry&&u.locale!=="ko"&&(ra||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&ra&&(_e=wu()):(In=ee,Xo="value"in In?In.value:In.textContent,ra=!0)),ye=Cu(G,Ie),0<ye.length&&(Ie=new x(Ie,s,null,u,ee),ne.push({event:Ie,listeners:ye}),_e?Ie.data=_e:(_e=Oy(u),_e!==null&&(Ie.data=_e)))),(_e=NI?DI(s,u):OI(s,u))&&(G=Cu(G,"onBeforeInput"),0<G.length&&(ee=new x("onBeforeInput","beforeinput",null,u,ee),ne.push({event:ee,listeners:G}),ee.data=_e))}e_(ne,a)})}function Dl(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Cu(s,a){for(var u=a+"Capture",p=[];s!==null;){var m=s,_=m.stateNode;m.tag===5&&_!==null&&(m=_,_=ks(s,u),_!=null&&p.unshift(Dl(s,_,m)),_=ks(s,a),_!=null&&p.push(Dl(s,_,m))),s=s.return}return p}function oa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function n_(s,a,u,p,m){for(var _=a._reactName,E=[];u!==null&&u!==p;){var M=u,j=M.alternate,G=M.stateNode;if(j!==null&&j===p)break;M.tag===5&&G!==null&&(M=G,m?(j=ks(u,_),j!=null&&E.unshift(Dl(u,j,M))):m||(j=ks(u,_),j!=null&&E.push(Dl(u,j,M)))),u=u.return}E.length!==0&&s.push({event:a,listeners:E})}var GI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function r_(s){return(typeof s=="string"?s:""+s).replace(GI,`
`).replace(QI,"")}function Ru(s,a,u){if(a=r_(a),r_(s)!==a&&u)throw Error(t(425))}function Pu(){}var kf=null,Af=null;function Cf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rf=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,XI=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(s){return i_.resolve(null).then(s).catch(JI)}:Rf;function JI(s){setTimeout(function(){throw s})}function Pf(s,a){var u=a,p=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(p===0){s.removeChild(m),ji(a);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=m}while(u);ji(a)}function $i(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function s_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var aa=Math.random().toString(36).slice(2),Sr="__reactFiber$"+aa,Ol="__reactProps$"+aa,ei="__reactContainer$"+aa,Nf="__reactEvents$"+aa,ZI="__reactListeners$"+aa,eS="__reactHandles$"+aa;function Us(s){var a=s[Sr];if(a)return a;for(var u=s.parentNode;u;){if(a=u[ei]||u[Sr]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=s_(s);s!==null;){if(u=s[Sr])return u;s=s_(s)}return a}s=u,u=s.parentNode}return null}function Ml(s){return s=s[Sr]||s[ei],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function la(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Nu(s){return s[Ol]||null}var Df=[],ca=-1;function Hi(s){return{current:s}}function it(s){0>ca||(s.current=Df[ca],Df[ca]=null,ca--)}function tt(s,a){ca++,Df[ca]=s.current,s.current=a}var Wi={},Gt=Hi(Wi),hn=Hi(!1),zs=Wi;function ua(s,a){var u=s.type.contextTypes;if(!u)return Wi;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var m={},_;for(_ in u)m[_]=a[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=m),m}function dn(s){return s=s.childContextTypes,s!=null}function Du(){it(hn),it(Gt)}function o_(s,a,u){if(Gt.current!==Wi)throw Error(t(168));tt(Gt,a),tt(hn,u)}function a_(s,a,u){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var m in p)if(!(m in a))throw Error(t(108,qe(s)||"Unknown",m));return oe({},u,p)}function Ou(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Wi,zs=Gt.current,tt(Gt,s),tt(hn,hn.current),!0}function l_(s,a,u){var p=s.stateNode;if(!p)throw Error(t(169));u?(s=a_(s,a,zs),p.__reactInternalMemoizedMergedChildContext=s,it(hn),it(Gt),tt(Gt,s)):it(hn),tt(hn,u)}var ti=null,Mu=!1,Of=!1;function c_(s){ti===null?ti=[s]:ti.push(s)}function tS(s){Mu=!0,c_(s)}function qi(){if(!Of&&ti!==null){Of=!0;var s=0,a=Fe;try{var u=ti;for(Fe=1;s<u.length;s++){var p=u[s];do p=p(!0);while(p!==null)}ti=null,Mu=!1}catch(m){throw ti!==null&&(ti=ti.slice(s+1)),hl(Ho,qi),m}finally{Fe=a,Of=!1}}return null}var ha=[],da=0,Lu=null,Vu=0,Ln=[],Vn=0,Bs=null,ni=1,ri="";function $s(s,a){ha[da++]=Vu,ha[da++]=Lu,Lu=s,Vu=a}function u_(s,a,u){Ln[Vn++]=ni,Ln[Vn++]=ri,Ln[Vn++]=Bs,Bs=s;var p=ni;s=ri;var m=32-En(p)-1;p&=~(1<<m),u+=1;var _=32-En(a)+m;if(30<_){var E=m-m%5;_=(p&(1<<E)-1).toString(32),p>>=E,m-=E,ni=1<<32-En(a)+m|u<<m|p,ri=_+s}else ni=1<<_|u<<m|p,ri=s}function Mf(s){s.return!==null&&($s(s,1),u_(s,1,0))}function Lf(s){for(;s===Lu;)Lu=ha[--da],ha[da]=null,Vu=ha[--da],ha[da]=null;for(;s===Bs;)Bs=Ln[--Vn],Ln[Vn]=null,ri=Ln[--Vn],Ln[Vn]=null,ni=Ln[--Vn],Ln[Vn]=null}var An=null,Cn=null,at=!1,nr=null;function h_(s,a){var u=zn(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function d_(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,An=s,Cn=$i(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,An=s,Cn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=Bs!==null?{id:ni,overflow:ri}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:1073741824},u=zn(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,An=s,Cn=null,!0):!1;default:return!1}}function Vf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ff(s){if(at){var a=Cn;if(a){var u=a;if(!d_(s,a)){if(Vf(s))throw Error(t(418));a=$i(u.nextSibling);var p=An;a&&d_(s,a)?h_(p,u):(s.flags=s.flags&-4097|2,at=!1,An=s)}}else{if(Vf(s))throw Error(t(418));s.flags=s.flags&-4097|2,at=!1,An=s}}}function f_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;An=s}function Fu(s){if(s!==An)return!1;if(!at)return f_(s),at=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Cf(s.type,s.memoizedProps)),a&&(a=Cn)){if(Vf(s))throw p_(),Error(t(418));for(;a;)h_(s,a),a=$i(a.nextSibling)}if(f_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Cn=$i(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Cn=null}}else Cn=An?$i(s.stateNode.nextSibling):null;return!0}function p_(){for(var s=Cn;s;)s=$i(s.nextSibling)}function fa(){Cn=An=null,at=!1}function jf(s){nr===null?nr=[s]:nr.push(s)}var nS=B.ReactCurrentBatchConfig;function Ll(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,s));var m=p,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(E){var M=m.refs;E===null?delete M[_]:M[_]=E},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function ju(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function g_(s){var a=s._init;return a(s._payload)}function m_(s){function a(H,z){if(s){var K=H.deletions;K===null?(H.deletions=[z],H.flags|=16):K.push(z)}}function u(H,z){if(!s)return null;for(;z!==null;)a(H,z),z=z.sibling;return null}function p(H,z){for(H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function m(H,z){return H=es(H,z),H.index=0,H.sibling=null,H}function _(H,z,K){return H.index=K,s?(K=H.alternate,K!==null?(K=K.index,K<z?(H.flags|=2,z):K):(H.flags|=2,z)):(H.flags|=1048576,z)}function E(H){return s&&H.alternate===null&&(H.flags|=2),H}function M(H,z,K,ie){return z===null||z.tag!==6?(z=Rp(K,H.mode,ie),z.return=H,z):(z=m(z,K),z.return=H,z)}function j(H,z,K,ie){var pe=K.type;return pe===R?ee(H,z,K.props.children,ie,K.key):z!==null&&(z.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ae&&g_(pe)===z.type)?(ie=m(z,K.props),ie.ref=Ll(H,z,K),ie.return=H,ie):(ie=ch(K.type,K.key,K.props,null,H.mode,ie),ie.ref=Ll(H,z,K),ie.return=H,ie)}function G(H,z,K,ie){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Pp(K,H.mode,ie),z.return=H,z):(z=m(z,K.children||[]),z.return=H,z)}function ee(H,z,K,ie,pe){return z===null||z.tag!==7?(z=Xs(K,H.mode,ie,pe),z.return=H,z):(z=m(z,K),z.return=H,z)}function ne(H,z,K){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Rp(""+z,H.mode,K),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case q:return K=ch(z.type,z.key,z.props,null,H.mode,K),K.ref=Ll(H,null,z),K.return=H,K;case Y:return z=Pp(z,H.mode,K),z.return=H,z;case Ae:var ie=z._init;return ne(H,ie(z._payload),K)}if(mt(z)||ae(z))return z=Xs(z,H.mode,K,null),z.return=H,z;ju(H,z)}return null}function Z(H,z,K,ie){var pe=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return pe!==null?null:M(H,z,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return K.key===pe?j(H,z,K,ie):null;case Y:return K.key===pe?G(H,z,K,ie):null;case Ae:return pe=K._init,Z(H,z,pe(K._payload),ie)}if(mt(K)||ae(K))return pe!==null?null:ee(H,z,K,ie,null);ju(H,K)}return null}function le(H,z,K,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return H=H.get(K)||null,M(z,H,""+ie,pe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case q:return H=H.get(ie.key===null?K:ie.key)||null,j(z,H,ie,pe);case Y:return H=H.get(ie.key===null?K:ie.key)||null,G(z,H,ie,pe);case Ae:var ye=ie._init;return le(H,z,K,ye(ie._payload),pe)}if(mt(ie)||ae(ie))return H=H.get(K)||null,ee(z,H,ie,pe,null);ju(z,ie)}return null}function de(H,z,K,ie){for(var pe=null,ye=null,_e=z,Ie=z=0,Lt=null;_e!==null&&Ie<K.length;Ie++){_e.index>Ie?(Lt=_e,_e=null):Lt=_e.sibling;var He=Z(H,_e,K[Ie],ie);if(He===null){_e===null&&(_e=Lt);break}s&&_e&&He.alternate===null&&a(H,_e),z=_(He,z,Ie),ye===null?pe=He:ye.sibling=He,ye=He,_e=Lt}if(Ie===K.length)return u(H,_e),at&&$s(H,Ie),pe;if(_e===null){for(;Ie<K.length;Ie++)_e=ne(H,K[Ie],ie),_e!==null&&(z=_(_e,z,Ie),ye===null?pe=_e:ye.sibling=_e,ye=_e);return at&&$s(H,Ie),pe}for(_e=p(H,_e);Ie<K.length;Ie++)Lt=le(_e,H,Ie,K[Ie],ie),Lt!==null&&(s&&Lt.alternate!==null&&_e.delete(Lt.key===null?Ie:Lt.key),z=_(Lt,z,Ie),ye===null?pe=Lt:ye.sibling=Lt,ye=Lt);return s&&_e.forEach(function(ts){return a(H,ts)}),at&&$s(H,Ie),pe}function fe(H,z,K,ie){var pe=ae(K);if(typeof pe!="function")throw Error(t(150));if(K=pe.call(K),K==null)throw Error(t(151));for(var ye=pe=null,_e=z,Ie=z=0,Lt=null,He=K.next();_e!==null&&!He.done;Ie++,He=K.next()){_e.index>Ie?(Lt=_e,_e=null):Lt=_e.sibling;var ts=Z(H,_e,He.value,ie);if(ts===null){_e===null&&(_e=Lt);break}s&&_e&&ts.alternate===null&&a(H,_e),z=_(ts,z,Ie),ye===null?pe=ts:ye.sibling=ts,ye=ts,_e=Lt}if(He.done)return u(H,_e),at&&$s(H,Ie),pe;if(_e===null){for(;!He.done;Ie++,He=K.next())He=ne(H,He.value,ie),He!==null&&(z=_(He,z,Ie),ye===null?pe=He:ye.sibling=He,ye=He);return at&&$s(H,Ie),pe}for(_e=p(H,_e);!He.done;Ie++,He=K.next())He=le(_e,H,Ie,He.value,ie),He!==null&&(s&&He.alternate!==null&&_e.delete(He.key===null?Ie:He.key),z=_(He,z,Ie),ye===null?pe=He:ye.sibling=He,ye=He);return s&&_e.forEach(function(MS){return a(H,MS)}),at&&$s(H,Ie),pe}function _t(H,z,K,ie){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case q:e:{for(var pe=K.key,ye=z;ye!==null;){if(ye.key===pe){if(pe=K.type,pe===R){if(ye.tag===7){u(H,ye.sibling),z=m(ye,K.props.children),z.return=H,H=z;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Ae&&g_(pe)===ye.type){u(H,ye.sibling),z=m(ye,K.props),z.ref=Ll(H,ye,K),z.return=H,H=z;break e}u(H,ye);break}else a(H,ye);ye=ye.sibling}K.type===R?(z=Xs(K.props.children,H.mode,ie,K.key),z.return=H,H=z):(ie=ch(K.type,K.key,K.props,null,H.mode,ie),ie.ref=Ll(H,z,K),ie.return=H,H=ie)}return E(H);case Y:e:{for(ye=K.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){u(H,z.sibling),z=m(z,K.children||[]),z.return=H,H=z;break e}else{u(H,z);break}else a(H,z);z=z.sibling}z=Pp(K,H.mode,ie),z.return=H,H=z}return E(H);case Ae:return ye=K._init,_t(H,z,ye(K._payload),ie)}if(mt(K))return de(H,z,K,ie);if(ae(K))return fe(H,z,K,ie);ju(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(u(H,z.sibling),z=m(z,K),z.return=H,H=z):(u(H,z),z=Rp(K,H.mode,ie),z.return=H,H=z),E(H)):u(H,z)}return _t}var pa=m_(!0),y_=m_(!1),Uu=Hi(null),zu=null,ga=null,Uf=null;function zf(){Uf=ga=zu=null}function Bf(s){var a=Uu.current;it(Uu),s._currentValue=a}function $f(s,a,u){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===u)break;s=s.return}}function ma(s,a){zu=s,Uf=ga=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(fn=!0),s.firstContext=null)}function Fn(s){var a=s._currentValue;if(Uf!==s)if(s={context:s,memoizedValue:a,next:null},ga===null){if(zu===null)throw Error(t(308));ga=s,zu.dependencies={lanes:0,firstContext:s}}else ga=ga.next=s;return a}var Hs=null;function Hf(s){Hs===null?Hs=[s]:Hs.push(s)}function __(s,a,u,p){var m=a.interleaved;return m===null?(u.next=u,Hf(a)):(u.next=m.next,m.next=u),a.interleaved=u,ii(s,p)}function ii(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ki=!1;function Wf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function si(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Gi(s,a,u){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(ze&2)!==0){var m=p.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),p.pending=a,ii(s,u)}return m=p.interleaved,m===null?(a.next=a,Hf(p)):(a.next=m.next,m.next=a),p.interleaved=a,ii(s,u)}function Bu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,yl(s,u)}}function w_(s,a){var u=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var m=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?m=_=E:_=_.next=E,u=u.next}while(u!==null);_===null?m=_=a:_=_.next=a}else m=_=a;u={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function $u(s,a,u,p){var m=s.updateQueue;Ki=!1;var _=m.firstBaseUpdate,E=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,G=j.next;j.next=null,E===null?_=G:E.next=G,E=j;var ee=s.alternate;ee!==null&&(ee=ee.updateQueue,M=ee.lastBaseUpdate,M!==E&&(M===null?ee.firstBaseUpdate=G:M.next=G,ee.lastBaseUpdate=j))}if(_!==null){var ne=m.baseState;E=0,ee=G=j=null,M=_;do{var Z=M.lane,le=M.eventTime;if((p&Z)===Z){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var de=s,fe=M;switch(Z=a,le=u,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ne=de.call(le,ne,Z);break e}ne=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Z=typeof de=="function"?de.call(le,ne,Z):de,Z==null)break e;ne=oe({},ne,Z);break e;case 2:Ki=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,Z=m.effects,Z===null?m.effects=[M]:Z.push(M))}else le={eventTime:le,lane:Z,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ee===null?(G=ee=le,j=ne):ee=ee.next=le,E|=Z;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;Z=M,M=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(j=ne),m.baseState=j,m.firstBaseUpdate=G,m.lastBaseUpdate=ee,a=m.shared.interleaved,a!==null){m=a;do E|=m.lane,m=m.next;while(m!==a)}else _===null&&(m.shared.lanes=0);Ks|=E,s.lanes=E,s.memoizedState=ne}}function x_(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],m=p.callback;if(m!==null){if(p.callback=null,p=u,typeof m!="function")throw Error(t(191,m));m.call(p)}}}var Vl={},kr=Hi(Vl),Fl=Hi(Vl),jl=Hi(Vl);function Ws(s){if(s===Vl)throw Error(t(174));return s}function qf(s,a){switch(tt(jl,a),tt(Fl,s),tt(kr,Vl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Fo(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Fo(a,s)}it(kr),tt(kr,a)}function ya(){it(kr),it(Fl),it(jl)}function T_(s){Ws(jl.current);var a=Ws(kr.current),u=Fo(a,s.type);a!==u&&(tt(Fl,s),tt(kr,u))}function Kf(s){Fl.current===s&&(it(kr),it(Fl))}var lt=Hi(0);function Hu(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gf=[];function Qf(){for(var s=0;s<Gf.length;s++)Gf[s]._workInProgressVersionPrimary=null;Gf.length=0}var Wu=B.ReactCurrentDispatcher,Yf=B.ReactCurrentBatchConfig,qs=0,ct=null,At=null,Ot=null,qu=!1,Ul=!1,zl=0,rS=0;function Qt(){throw Error(t(321))}function Xf(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!tr(s[u],a[u]))return!1;return!0}function Jf(s,a,u,p,m,_){if(qs=_,ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Wu.current=s===null||s.memoizedState===null?aS:lS,s=u(p,m),Ul){_=0;do{if(Ul=!1,zl=0,25<=_)throw Error(t(301));_+=1,Ot=At=null,a.updateQueue=null,Wu.current=cS,s=u(p,m)}while(Ul)}if(Wu.current=Qu,a=At!==null&&At.next!==null,qs=0,Ot=At=ct=null,qu=!1,a)throw Error(t(300));return s}function Zf(){var s=zl!==0;return zl=0,s}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ct.memoizedState=Ot=s:Ot=Ot.next=s,Ot}function jn(){if(At===null){var s=ct.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var a=Ot===null?ct.memoizedState:Ot.next;if(a!==null)Ot=a,At=s;else{if(s===null)throw Error(t(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ot===null?ct.memoizedState=Ot=s:Ot=Ot.next=s}return Ot}function Bl(s,a){return typeof a=="function"?a(s):a}function ep(s){var a=jn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=At,m=p.baseQueue,_=u.pending;if(_!==null){if(m!==null){var E=m.next;m.next=_.next,_.next=E}p.baseQueue=m=_,u.pending=null}if(m!==null){_=m.next,p=p.baseState;var M=E=null,j=null,G=_;do{var ee=G.lane;if((qs&ee)===ee)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),p=G.hasEagerState?G.eagerState:s(p,G.action);else{var ne={lane:ee,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(M=j=ne,E=p):j=j.next=ne,ct.lanes|=ee,Ks|=ee}G=G.next}while(G!==null&&G!==_);j===null?E=p:j.next=M,tr(p,a.memoizedState)||(fn=!0),a.memoizedState=p,a.baseState=E,a.baseQueue=j,u.lastRenderedState=p}if(s=u.interleaved,s!==null){m=s;do _=m.lane,ct.lanes|=_,Ks|=_,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function tp(s){var a=jn(),u=a.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var p=u.dispatch,m=u.pending,_=a.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do _=s(_,E.action),E=E.next;while(E!==m);tr(_,a.memoizedState)||(fn=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),u.lastRenderedState=_}return[_,p]}function E_(){}function b_(s,a){var u=ct,p=jn(),m=a(),_=!tr(p.memoizedState,m);if(_&&(p.memoizedState=m,fn=!0),p=p.queue,np(k_.bind(null,u,p,s),[s]),p.getSnapshot!==a||_||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,$l(9,S_.bind(null,u,p,m,a),void 0,null),Mt===null)throw Error(t(349));(qs&30)!==0||I_(u,a,m)}return m}function I_(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function S_(s,a,u,p){a.value=u,a.getSnapshot=p,A_(a)&&C_(s)}function k_(s,a,u){return u(function(){A_(a)&&C_(s)})}function A_(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!tr(s,u)}catch{return!0}}function C_(s){var a=ii(s,1);a!==null&&or(a,s,1,-1)}function R_(s){var a=Ar();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:s},a.queue=s,s=s.dispatch=oS.bind(null,ct,s),[a.memoizedState,s]}function $l(s,a,u,p){return s={tag:s,create:a,destroy:u,deps:p,next:null},a=ct.updateQueue,a===null?(a={lastEffect:null,stores:null},ct.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(p=u.next,u.next=s,s.next=p,a.lastEffect=s)),s}function P_(){return jn().memoizedState}function Ku(s,a,u,p){var m=Ar();ct.flags|=s,m.memoizedState=$l(1|a,u,void 0,p===void 0?null:p)}function Gu(s,a,u,p){var m=jn();p=p===void 0?null:p;var _=void 0;if(At!==null){var E=At.memoizedState;if(_=E.destroy,p!==null&&Xf(p,E.deps)){m.memoizedState=$l(a,u,_,p);return}}ct.flags|=s,m.memoizedState=$l(1|a,u,_,p)}function N_(s,a){return Ku(8390656,8,s,a)}function np(s,a){return Gu(2048,8,s,a)}function D_(s,a){return Gu(4,2,s,a)}function O_(s,a){return Gu(4,4,s,a)}function M_(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function L_(s,a,u){return u=u!=null?u.concat([s]):null,Gu(4,4,M_.bind(null,a,s),u)}function rp(){}function V_(s,a){var u=jn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Xf(a,p[1])?p[0]:(u.memoizedState=[s,a],s)}function F_(s,a){var u=jn();a=a===void 0?null:a;var p=u.memoizedState;return p!==null&&a!==null&&Xf(a,p[1])?p[0]:(s=s(),u.memoizedState=[s,a],s)}function j_(s,a,u){return(qs&21)===0?(s.baseState&&(s.baseState=!1,fn=!0),s.memoizedState=u):(tr(u,a)||(u=gl(),ct.lanes|=u,Ks|=u,s.baseState=!0),a)}function iS(s,a){var u=Fe;Fe=u!==0&&4>u?u:4,s(!0);var p=Yf.transition;Yf.transition={};try{s(!1),a()}finally{Fe=u,Yf.transition=p}}function U_(){return jn().memoizedState}function sS(s,a,u){var p=Ji(s);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},z_(s))B_(a,u);else if(u=__(s,a,u,p),u!==null){var m=an();or(u,s,p,m),$_(u,a,p)}}function oS(s,a,u){var p=Ji(s),m={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(z_(s))B_(a,m);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var E=a.lastRenderedState,M=_(E,u);if(m.hasEagerState=!0,m.eagerState=M,tr(M,E)){var j=a.interleaved;j===null?(m.next=m,Hf(a)):(m.next=j.next,j.next=m),a.interleaved=m;return}}catch{}finally{}u=__(s,a,m,p),u!==null&&(m=an(),or(u,s,p,m),$_(u,a,p))}}function z_(s){var a=s.alternate;return s===ct||a!==null&&a===ct}function B_(s,a){Ul=qu=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function $_(s,a,u){if((u&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,u|=p,a.lanes=u,yl(s,u)}}var Qu={readContext:Fn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},aS={readContext:Fn,useCallback:function(s,a){return Ar().memoizedState=[s,a===void 0?null:a],s},useContext:Fn,useEffect:N_,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,Ku(4194308,4,M_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Ku(4194308,4,s,a)},useInsertionEffect:function(s,a){return Ku(4,2,s,a)},useMemo:function(s,a){var u=Ar();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var p=Ar();return a=u!==void 0?u(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=sS.bind(null,ct,s),[p.memoizedState,s]},useRef:function(s){var a=Ar();return s={current:s},a.memoizedState=s},useState:R_,useDebugValue:rp,useDeferredValue:function(s){return Ar().memoizedState=s},useTransition:function(){var s=R_(!1),a=s[0];return s=iS.bind(null,s[1]),Ar().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var p=ct,m=Ar();if(at){if(u===void 0)throw Error(t(407));u=u()}else{if(u=a(),Mt===null)throw Error(t(349));(qs&30)!==0||I_(p,a,u)}m.memoizedState=u;var _={value:u,getSnapshot:a};return m.queue=_,N_(k_.bind(null,p,_,s),[s]),p.flags|=2048,$l(9,S_.bind(null,p,_,u,a),void 0,null),u},useId:function(){var s=Ar(),a=Mt.identifierPrefix;if(at){var u=ri,p=ni;u=(p&~(1<<32-En(p)-1)).toString(32)+u,a=":"+a+"R"+u,u=zl++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=rS++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},lS={readContext:Fn,useCallback:V_,useContext:Fn,useEffect:np,useImperativeHandle:L_,useInsertionEffect:D_,useLayoutEffect:O_,useMemo:F_,useReducer:ep,useRef:P_,useState:function(){return ep(Bl)},useDebugValue:rp,useDeferredValue:function(s){var a=jn();return j_(a,At.memoizedState,s)},useTransition:function(){var s=ep(Bl)[0],a=jn().memoizedState;return[s,a]},useMutableSource:E_,useSyncExternalStore:b_,useId:U_,unstable_isNewReconciler:!1},cS={readContext:Fn,useCallback:V_,useContext:Fn,useEffect:np,useImperativeHandle:L_,useInsertionEffect:D_,useLayoutEffect:O_,useMemo:F_,useReducer:tp,useRef:P_,useState:function(){return tp(Bl)},useDebugValue:rp,useDeferredValue:function(s){var a=jn();return At===null?a.memoizedState=s:j_(a,At.memoizedState,s)},useTransition:function(){var s=tp(Bl)[0],a=jn().memoizedState;return[s,a]},useMutableSource:E_,useSyncExternalStore:b_,useId:U_,unstable_isNewReconciler:!1};function rr(s,a){if(s&&s.defaultProps){a=oe({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function ip(s,a,u,p){a=s.memoizedState,u=u(p,a),u=u==null?a:oe({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Yu={isMounted:function(s){return(s=s._reactInternals)?Zn(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var p=an(),m=Ji(s),_=si(p,m);_.payload=a,u!=null&&(_.callback=u),a=Gi(s,_,m),a!==null&&(or(a,s,m,p),Bu(a,s,m))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var p=an(),m=Ji(s),_=si(p,m);_.tag=1,_.payload=a,u!=null&&(_.callback=u),a=Gi(s,_,m),a!==null&&(or(a,s,m,p),Bu(a,s,m))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=an(),p=Ji(s),m=si(u,p);m.tag=2,a!=null&&(m.callback=a),a=Gi(s,m,p),a!==null&&(or(a,s,p,u),Bu(a,s,p))}};function H_(s,a,u,p,m,_,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,E):a.prototype&&a.prototype.isPureReactComponent?!Cl(u,p)||!Cl(m,_):!0}function W_(s,a,u){var p=!1,m=Wi,_=a.contextType;return typeof _=="object"&&_!==null?_=Fn(_):(m=dn(a)?zs:Gt.current,p=a.contextTypes,_=(p=p!=null)?ua(s,m):Wi),a=new a(u,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Yu,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=_),a}function q_(s,a,u,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,p),a.state!==s&&Yu.enqueueReplaceState(a,a.state,null)}function sp(s,a,u,p){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Wf(s);var _=a.contextType;typeof _=="object"&&_!==null?m.context=Fn(_):(_=dn(a)?zs:Gt.current,m.context=ua(s,_)),m.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ip(s,a,_,u),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(a=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),a!==m.state&&Yu.enqueueReplaceState(m,m.state,null),$u(s,u,m,p),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function _a(s,a){try{var u="",p=a;do u+=Ne(p),p=p.return;while(p);var m=u}catch(_){m=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:m,digest:null}}function op(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function ap(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var uS=typeof WeakMap=="function"?WeakMap:Map;function K_(s,a,u){u=si(-1,u),u.tag=3,u.payload={element:null};var p=a.value;return u.callback=function(){rh||(rh=!0,Tp=p),ap(s,a)},u}function G_(s,a,u){u=si(-1,u),u.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var m=a.value;u.payload=function(){return p(m)},u.callback=function(){ap(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){ap(s,a),typeof p!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),u}function Q_(s,a,u){var p=s.pingCache;if(p===null){p=s.pingCache=new uS;var m=new Set;p.set(a,m)}else m=p.get(a),m===void 0&&(m=new Set,p.set(a,m));m.has(u)||(m.add(u),s=bS.bind(null,s,a,u),a.then(s,s))}function Y_(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function X_(s,a,u,p,m){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=si(-1,1),a.tag=2,Gi(u,a,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var hS=B.ReactCurrentOwner,fn=!1;function on(s,a,u,p){a.child=s===null?y_(a,null,u,p):pa(a,s.child,u,p)}function J_(s,a,u,p,m){u=u.render;var _=a.ref;return ma(a,m),p=Jf(s,a,u,p,_,m),u=Zf(),s!==null&&!fn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,oi(s,a,m)):(at&&u&&Mf(a),a.flags|=1,on(s,a,p,m),a.child)}function Z_(s,a,u,p,m){if(s===null){var _=u.type;return typeof _=="function"&&!Cp(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=_,e0(s,a,_,p,m)):(s=ch(u.type,null,p,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&m)===0){var E=_.memoizedProps;if(u=u.compare,u=u!==null?u:Cl,u(E,p)&&s.ref===a.ref)return oi(s,a,m)}return a.flags|=1,s=es(_,p),s.ref=a.ref,s.return=a,a.child=s}function e0(s,a,u,p,m){if(s!==null){var _=s.memoizedProps;if(Cl(_,p)&&s.ref===a.ref)if(fn=!1,a.pendingProps=p=_,(s.lanes&m)!==0)(s.flags&131072)!==0&&(fn=!0);else return a.lanes=s.lanes,oi(s,a,m)}return lp(s,a,u,p,m)}function t0(s,a,u){var p=a.pendingProps,m=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(wa,Rn),Rn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,tt(wa,Rn),Rn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:u,tt(wa,Rn),Rn|=p}else _!==null?(p=_.baseLanes|u,a.memoizedState=null):p=u,tt(wa,Rn),Rn|=p;return on(s,a,m,u),a.child}function n0(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function lp(s,a,u,p,m){var _=dn(u)?zs:Gt.current;return _=ua(a,_),ma(a,m),u=Jf(s,a,u,p,_,m),p=Zf(),s!==null&&!fn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~m,oi(s,a,m)):(at&&p&&Mf(a),a.flags|=1,on(s,a,u,m),a.child)}function r0(s,a,u,p,m){if(dn(u)){var _=!0;Ou(a)}else _=!1;if(ma(a,m),a.stateNode===null)Ju(s,a),W_(a,u,p),sp(a,u,p,m),p=!0;else if(s===null){var E=a.stateNode,M=a.memoizedProps;E.props=M;var j=E.context,G=u.contextType;typeof G=="object"&&G!==null?G=Fn(G):(G=dn(u)?zs:Gt.current,G=ua(a,G));var ee=u.getDerivedStateFromProps,ne=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";ne||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==p||j!==G)&&q_(a,E,p,G),Ki=!1;var Z=a.memoizedState;E.state=Z,$u(a,p,E,m),j=a.memoizedState,M!==p||Z!==j||hn.current||Ki?(typeof ee=="function"&&(ip(a,u,ee,p),j=a.memoizedState),(M=Ki||H_(a,u,M,p,Z,j,G))?(ne||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4194308)):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=j),E.props=p,E.state=j,E.context=G,p=M):(typeof E.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{E=a.stateNode,v_(s,a),M=a.memoizedProps,G=a.type===a.elementType?M:rr(a.type,M),E.props=G,ne=a.pendingProps,Z=E.context,j=u.contextType,typeof j=="object"&&j!==null?j=Fn(j):(j=dn(u)?zs:Gt.current,j=ua(a,j));var le=u.getDerivedStateFromProps;(ee=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==ne||Z!==j)&&q_(a,E,p,j),Ki=!1,Z=a.memoizedState,E.state=Z,$u(a,p,E,m);var de=a.memoizedState;M!==ne||Z!==de||hn.current||Ki?(typeof le=="function"&&(ip(a,u,le,p),de=a.memoizedState),(G=Ki||H_(a,u,G,p,Z,de,j)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,de,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,de,j)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof E.componentDidUpdate!="function"||M===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=de),E.props=p,E.state=de,E.context=j,p=G):(typeof E.componentDidUpdate!="function"||M===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),p=!1)}return cp(s,a,u,p,_,m)}function cp(s,a,u,p,m,_){n0(s,a);var E=(a.flags&128)!==0;if(!p&&!E)return m&&l_(a,u,!1),oi(s,a,_);p=a.stateNode,hS.current=a;var M=E&&typeof u.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&E?(a.child=pa(a,s.child,null,_),a.child=pa(a,null,M,_)):on(s,a,M,_),a.memoizedState=p.state,m&&l_(a,u,!0),a.child}function i0(s){var a=s.stateNode;a.pendingContext?o_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&o_(s,a.context,!1),qf(s,a.containerInfo)}function s0(s,a,u,p,m){return fa(),jf(m),a.flags|=256,on(s,a,u,p),a.child}var up={dehydrated:null,treeContext:null,retryLane:0};function hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function o0(s,a,u){var p=a.pendingProps,m=lt.current,_=!1,E=(a.flags&128)!==0,M;if((M=E)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),tt(lt,m&1),s===null)return Ff(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(E=p.children,s=p.fallback,_?(p=a.mode,_=a.child,E={mode:"hidden",children:E},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=E):_=uh(E,p,0,null),s=Xs(s,p,u,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=hp(u),a.memoizedState=up,s):dp(a,E));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return dS(s,a,E,p,M,m,u);if(_){_=p.fallback,E=a.mode,m=s.child,M=m.sibling;var j={mode:"hidden",children:p.children};return(E&1)===0&&a.child!==m?(p=a.child,p.childLanes=0,p.pendingProps=j,a.deletions=null):(p=es(m,j),p.subtreeFlags=m.subtreeFlags&14680064),M!==null?_=es(M,_):(_=Xs(_,E,u,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,E=s.child.memoizedState,E=E===null?hp(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},_.memoizedState=E,_.childLanes=s.childLanes&~u,a.memoizedState=up,p}return _=s.child,s=_.sibling,p=es(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=u),p.return=a,p.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=p,a.memoizedState=null,p}function dp(s,a){return a=uh({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Xu(s,a,u,p){return p!==null&&jf(p),pa(a,s.child,null,u),s=dp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function dS(s,a,u,p,m,_,E){if(u)return a.flags&256?(a.flags&=-257,p=op(Error(t(422))),Xu(s,a,E,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=p.fallback,m=a.mode,p=uh({mode:"visible",children:p.children},m,0,null),_=Xs(_,m,E,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&pa(a,s.child,null,E),a.child.memoizedState=hp(E),a.memoizedState=up,_);if((a.mode&1)===0)return Xu(s,a,E,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var M=p.dgst;return p=M,_=Error(t(419)),p=op(_,p,void 0),Xu(s,a,E,p)}if(M=(E&s.childLanes)!==0,fn||M){if(p=Mt,p!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(p.suspendedLanes|E))!==0?0:m,m!==0&&m!==_.retryLane&&(_.retryLane=m,ii(s,m),or(p,s,m,-1))}return Ap(),p=op(Error(t(421))),Xu(s,a,E,p)}return m.data==="$?"?(a.flags|=128,a.child=s.child,a=IS.bind(null,s),m._reactRetry=a,null):(s=_.treeContext,Cn=$i(m.nextSibling),An=a,at=!0,nr=null,s!==null&&(Ln[Vn++]=ni,Ln[Vn++]=ri,Ln[Vn++]=Bs,ni=s.id,ri=s.overflow,Bs=a),a=dp(a,p.children),a.flags|=4096,a)}function a0(s,a,u){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),$f(s.return,a,u)}function fp(s,a,u,p,m){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:m}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=u,_.tailMode=m)}function l0(s,a,u){var p=a.pendingProps,m=p.revealOrder,_=p.tail;if(on(s,a,p.children,u),p=lt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&a0(s,u,a);else if(s.tag===19)a0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(tt(lt,p),(a.mode&1)===0)a.memoizedState=null;else switch(m){case"forwards":for(u=a.child,m=null;u!==null;)s=u.alternate,s!==null&&Hu(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=a.child,a.child=null):(m=u.sibling,u.sibling=null),fp(a,!1,m,u,_);break;case"backwards":for(u=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Hu(s)===null){a.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}fp(a,!0,u,null,_);break;case"together":fp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ju(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function oi(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ks|=a.lanes,(u&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,u=es(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=es(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function fS(s,a,u){switch(a.tag){case 3:i0(a),fa();break;case 5:T_(a);break;case 1:dn(a.type)&&Ou(a);break;case 4:qf(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,m=a.memoizedProps.value;tt(Uu,p._currentValue),p._currentValue=m;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(tt(lt,lt.current&1),a.flags|=128,null):(u&a.child.childLanes)!==0?o0(s,a,u):(tt(lt,lt.current&1),s=oi(s,a,u),s!==null?s.sibling:null);tt(lt,lt.current&1);break;case 19:if(p=(u&a.childLanes)!==0,(s.flags&128)!==0){if(p)return l0(s,a,u);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),tt(lt,lt.current),p)break;return null;case 22:case 23:return a.lanes=0,t0(s,a,u)}return oi(s,a,u)}var c0,pp,u0,h0;c0=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},pp=function(){},u0=function(s,a,u,p){var m=s.memoizedProps;if(m!==p){s=a.stateNode,Ws(kr.current);var _=null;switch(u){case"input":m=Lo(s,m),p=Lo(s,p),_=[];break;case"select":m=oe({},m,{value:void 0}),p=oe({},p,{value:void 0}),_=[];break;case"textarea":m=il(s,m),p=il(s,p),_=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=Pu)}Jn(u,p);var E;u=null;for(G in m)if(!p.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var M=m[G];for(E in M)M.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in p){var j=p[G];if(M=m?.[G],p.hasOwnProperty(G)&&j!==M&&(j!=null||M!=null))if(G==="style")if(M){for(E in M)!M.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in j)j.hasOwnProperty(E)&&M[E]!==j[E]&&(u||(u={}),u[E]=j[E])}else u||(_||(_=[]),_.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(_=_||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&rt("scroll",s),_||M===j||(_=[])):(_=_||[]).push(G,j))}u&&(_=_||[]).push("style",u);var G=_;(a.updateQueue=G)&&(a.flags|=4)}},h0=function(s,a,u,p){u!==p&&(a.flags|=4)};function Hl(s,a){if(!at)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function Yt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,p=0;if(a)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=p,s.childLanes=u,a}function pS(s,a,u){var p=a.pendingProps;switch(Lf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(a),null;case 1:return dn(a.type)&&Du(),Yt(a),null;case 3:return p=a.stateNode,ya(),it(hn),it(Gt),Qf(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Fu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,nr!==null&&(Ip(nr),nr=null))),pp(s,a),Yt(a),null;case 5:Kf(a);var m=Ws(jl.current);if(u=a.type,s!==null&&a.stateNode!=null)u0(s,a,u,p,m),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return Yt(a),null}if(s=Ws(kr.current),Fu(a)){p=a.stateNode,u=a.type;var _=a.memoizedProps;switch(p[Sr]=a,p[Ol]=_,s=(a.mode&1)!==0,u){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(m=0;m<Pl.length;m++)rt(Pl[m],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":nu(p,_),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},rt("invalid",p);break;case"textarea":sl(p,_),rt("invalid",p)}Jn(u,_),m=null;for(var E in _)if(_.hasOwnProperty(E)){var M=_[E];E==="children"?typeof M=="string"?p.textContent!==M&&(_.suppressHydrationWarning!==!0&&Ru(p.textContent,M,s),m=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&Ru(p.textContent,M,s),m=["children",""+M]):i.hasOwnProperty(E)&&M!=null&&E==="onScroll"&&rt("scroll",p)}switch(u){case"input":Mo(p),rl(p,_,!0);break;case"textarea":Mo(p),ki(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=Pu)}p=m,a.updateQueue=p,p!==null&&(a.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ol(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=E.createElement(u,{is:p.is}):(s=E.createElement(u),u==="select"&&(E=s,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):s=E.createElementNS(s,u),s[Sr]=a,s[Ol]=p,c0(s,a,!1,!1),a.stateNode=s;e:{switch(E=Uo(u,p),u){case"dialog":rt("cancel",s),rt("close",s),m=p;break;case"iframe":case"object":case"embed":rt("load",s),m=p;break;case"video":case"audio":for(m=0;m<Pl.length;m++)rt(Pl[m],s);m=p;break;case"source":rt("error",s),m=p;break;case"img":case"image":case"link":rt("error",s),rt("load",s),m=p;break;case"details":rt("toggle",s),m=p;break;case"input":nu(s,p),m=Lo(s,p),rt("invalid",s);break;case"option":m=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},m=oe({},p,{value:void 0}),rt("invalid",s);break;case"textarea":sl(s,p),m=il(s,p),rt("invalid",s);break;default:m=p}Jn(u,m),M=m;for(_ in M)if(M.hasOwnProperty(_)){var j=M[_];_==="style"?jo(s,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&iu(s,j)):_==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Ss(s,j):typeof j=="number"&&Ss(s,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?j!=null&&_==="onScroll"&&rt("scroll",s):j!=null&&U(s,_,j,E))}switch(u){case"input":Mo(s),rl(s,p,!1);break;case"textarea":Mo(s),ki(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Ue(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?Xn(s,!!p.multiple,_,!1):p.defaultValue!=null&&Xn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Pu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Yt(a),null;case 6:if(s&&a.stateNode!=null)h0(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(u=Ws(jl.current),Ws(kr.current),Fu(a)){if(p=a.stateNode,u=a.memoizedProps,p[Sr]=a,(_=p.nodeValue!==u)&&(s=An,s!==null))switch(s.tag){case 3:Ru(p.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ru(p.nodeValue,u,(s.mode&1)!==0)}_&&(a.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Sr]=a,a.stateNode=p}return Yt(a),null;case 13:if(it(lt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Cn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)p_(),fa(),a.flags|=98560,_=!1;else if(_=Fu(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Sr]=a}else fa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Yt(a),_=!1}else nr!==null&&(Ip(nr),nr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=u,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(lt.current&1)!==0?Ct===0&&(Ct=3):Ap())),a.updateQueue!==null&&(a.flags|=4),Yt(a),null);case 4:return ya(),pp(s,a),s===null&&Nl(a.stateNode.containerInfo),Yt(a),null;case 10:return Bf(a.type._context),Yt(a),null;case 17:return dn(a.type)&&Du(),Yt(a),null;case 19:if(it(lt),_=a.memoizedState,_===null)return Yt(a),null;if(p=(a.flags&128)!==0,E=_.rendering,E===null)if(p)Hl(_,!1);else{if(Ct!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(E=Hu(s),E!==null){for(a.flags|=128,Hl(_,!1),p=E.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=u,u=a.child;u!==null;)_=u,s=p,_.flags&=14680066,E=_.alternate,E===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=E.childLanes,_.lanes=E.lanes,_.child=E.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=E.memoizedProps,_.memoizedState=E.memoizedState,_.updateQueue=E.updateQueue,_.type=E.type,s=E.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return tt(lt,lt.current&1|2),a.child}s=s.sibling}_.tail!==null&&nt()>xa&&(a.flags|=128,p=!0,Hl(_,!1),a.lanes=4194304)}else{if(!p)if(s=Hu(E),s!==null){if(a.flags|=128,p=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Hl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!at)return Yt(a),null}else 2*nt()-_.renderingStartTime>xa&&u!==1073741824&&(a.flags|=128,p=!0,Hl(_,!1),a.lanes=4194304);_.isBackwards?(E.sibling=a.child,a.child=E):(u=_.last,u!==null?u.sibling=E:a.child=E,_.last=E)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=nt(),a.sibling=null,u=lt.current,tt(lt,p?u&1|2:u&1),a):(Yt(a),null);case 22:case 23:return kp(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Rn&1073741824)!==0&&(Yt(a),a.subtreeFlags&6&&(a.flags|=8192)):Yt(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function gS(s,a){switch(Lf(a),a.tag){case 1:return dn(a.type)&&Du(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ya(),it(hn),it(Gt),Qf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Kf(a),null;case 13:if(it(lt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));fa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return it(lt),null;case 4:return ya(),null;case 10:return Bf(a.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var Zu=!1,Xt=!1,mS=typeof WeakSet=="function"?WeakSet:Set,he=null;function va(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){ft(s,a,p)}else u.current=null}function gp(s,a,u){try{u()}catch(p){ft(s,a,p)}}var d0=!1;function yS(s,a){if(kf=Xr,s=Hy(),vf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var m=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var E=0,M=-1,j=-1,G=0,ee=0,ne=s,Z=null;t:for(;;){for(var le;ne!==u||m!==0&&ne.nodeType!==3||(M=E+m),ne!==_||p!==0&&ne.nodeType!==3||(j=E+p),ne.nodeType===3&&(E+=ne.nodeValue.length),(le=ne.firstChild)!==null;)Z=ne,ne=le;for(;;){if(ne===s)break t;if(Z===u&&++G===m&&(M=E),Z===_&&++ee===p&&(j=E),(le=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=le}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(Af={focusedElem:s,selectionRange:u},Xr=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var de=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,_t=de.memoizedState,H=a.stateNode,z=H.getSnapshotBeforeUpdate(a.elementType===a.type?fe:rr(a.type,fe),_t);H.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var K=a.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ft(a,a.return,ie)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return de=d0,d0=!1,de}function Wl(s,a,u){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&s)===s){var _=m.destroy;m.destroy=void 0,_!==void 0&&gp(a,u,_)}m=m.next}while(m!==p)}}function eh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var p=u.create;u.destroy=p()}u=u.next}while(u!==a)}}function mp(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function f0(s){var a=s.alternate;a!==null&&(s.alternate=null,f0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Sr],delete a[Ol],delete a[Nf],delete a[ZI],delete a[eS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function p0(s){return s.tag===5||s.tag===3||s.tag===4}function g0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||p0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yp(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Pu));else if(p!==4&&(s=s.child,s!==null))for(yp(s,a,u),s=s.sibling;s!==null;)yp(s,a,u),s=s.sibling}function _p(s,a,u){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(_p(s,a,u),s=s.sibling;s!==null;)_p(s,a,u),s=s.sibling}var zt=null,ir=!1;function Qi(s,a,u){for(u=u.child;u!==null;)m0(s,a,u),u=u.sibling}function m0(s,a,u){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Ps,u)}catch{}switch(u.tag){case 5:Xt||va(u,a);case 6:var p=zt,m=ir;zt=null,Qi(s,a,u),zt=p,ir=m,zt!==null&&(ir?(s=zt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):zt.removeChild(u.stateNode));break;case 18:zt!==null&&(ir?(s=zt,u=u.stateNode,s.nodeType===8?Pf(s.parentNode,u):s.nodeType===1&&Pf(s,u),ji(s)):Pf(zt,u.stateNode));break;case 4:p=zt,m=ir,zt=u.stateNode.containerInfo,ir=!0,Qi(s,a,u),zt=p,ir=m;break;case 0:case 11:case 14:case 15:if(!Xt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var _=m,E=_.destroy;_=_.tag,E!==void 0&&((_&2)!==0||(_&4)!==0)&&gp(u,a,E),m=m.next}while(m!==p)}Qi(s,a,u);break;case 1:if(!Xt&&(va(u,a),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(M){ft(u,a,M)}Qi(s,a,u);break;case 21:Qi(s,a,u);break;case 22:u.mode&1?(Xt=(p=Xt)||u.memoizedState!==null,Qi(s,a,u),Xt=p):Qi(s,a,u);break;default:Qi(s,a,u)}}function y0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new mS),a.forEach(function(p){var m=SS.bind(null,s,p);u.has(p)||(u.add(p),p.then(m,m))})}}function sr(s,a){var u=a.deletions;if(u!==null)for(var p=0;p<u.length;p++){var m=u[p];try{var _=s,E=a,M=E;e:for(;M!==null;){switch(M.tag){case 5:zt=M.stateNode,ir=!1;break e;case 3:zt=M.stateNode.containerInfo,ir=!0;break e;case 4:zt=M.stateNode.containerInfo,ir=!0;break e}M=M.return}if(zt===null)throw Error(t(160));m0(_,E,m),zt=null,ir=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(G){ft(m,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)_0(a,s),a=a.sibling}function _0(s,a){var u=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(sr(a,s),Cr(s),p&4){try{Wl(3,s,s.return),eh(3,s)}catch(fe){ft(s,s.return,fe)}try{Wl(5,s,s.return)}catch(fe){ft(s,s.return,fe)}}break;case 1:sr(a,s),Cr(s),p&512&&u!==null&&va(u,u.return);break;case 5:if(sr(a,s),Cr(s),p&512&&u!==null&&va(u,u.return),s.flags&32){var m=s.stateNode;try{Ss(m,"")}catch(fe){ft(s,s.return,fe)}}if(p&4&&(m=s.stateNode,m!=null)){var _=s.memoizedProps,E=u!==null?u.memoizedProps:_,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&Vo(m,_),Uo(M,E);var G=Uo(M,_);for(E=0;E<j.length;E+=2){var ee=j[E],ne=j[E+1];ee==="style"?jo(m,ne):ee==="dangerouslySetInnerHTML"?iu(m,ne):ee==="children"?Ss(m,ne):U(m,ee,ne,G)}switch(M){case"input":Is(m,_);break;case"textarea":ru(m,_);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!_.multiple;var le=_.value;le!=null?Xn(m,!!_.multiple,le,!1):Z!==!!_.multiple&&(_.defaultValue!=null?Xn(m,!!_.multiple,_.defaultValue,!0):Xn(m,!!_.multiple,_.multiple?[]:"",!1))}m[Ol]=_}catch(fe){ft(s,s.return,fe)}}break;case 6:if(sr(a,s),Cr(s),p&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,_=s.memoizedProps;try{m.nodeValue=_}catch(fe){ft(s,s.return,fe)}}break;case 3:if(sr(a,s),Cr(s),p&4&&u!==null&&u.memoizedState.isDehydrated)try{ji(a.containerInfo)}catch(fe){ft(s,s.return,fe)}break;case 4:sr(a,s),Cr(s);break;case 13:sr(a,s),Cr(s),m=s.child,m.flags&8192&&(_=m.memoizedState!==null,m.stateNode.isHidden=_,!_||m.alternate!==null&&m.alternate.memoizedState!==null||(xp=nt())),p&4&&y0(s);break;case 22:if(ee=u!==null&&u.memoizedState!==null,s.mode&1?(Xt=(G=Xt)||ee,sr(a,s),Xt=G):sr(a,s),Cr(s),p&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ee&&(s.mode&1)!==0)for(he=s,ee=s.child;ee!==null;){for(ne=he=ee;he!==null;){switch(Z=he,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:Wl(4,Z,Z.return);break;case 1:va(Z,Z.return);var de=Z.stateNode;if(typeof de.componentWillUnmount=="function"){p=Z,u=Z.return;try{a=p,de.props=a.memoizedProps,de.state=a.memoizedState,de.componentWillUnmount()}catch(fe){ft(p,u,fe)}}break;case 5:va(Z,Z.return);break;case 22:if(Z.memoizedState!==null){x0(ne);continue}}le!==null?(le.return=Z,he=le):x0(ne)}ee=ee.sibling}e:for(ee=null,ne=s;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,G?(_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=ne.stateNode,j=ne.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=Ri("display",E))}catch(fe){ft(s,s.return,fe)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=G?"":ne.memoizedProps}catch(fe){ft(s,s.return,fe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===s)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===s)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===s)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:sr(a,s),Cr(s),p&4&&y0(s);break;case 21:break;default:sr(a,s),Cr(s)}}function Cr(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(p0(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(Ss(m,""),p.flags&=-33);var _=g0(s);_p(s,_,m);break;case 3:case 4:var E=p.stateNode.containerInfo,M=g0(s);yp(s,M,E);break;default:throw Error(t(161))}}catch(j){ft(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _S(s,a,u){he=s,v0(s)}function v0(s,a,u){for(var p=(s.mode&1)!==0;he!==null;){var m=he,_=m.child;if(m.tag===22&&p){var E=m.memoizedState!==null||Zu;if(!E){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Xt;M=Zu;var G=Xt;if(Zu=E,(Xt=j)&&!G)for(he=m;he!==null;)E=he,j=E.child,E.tag===22&&E.memoizedState!==null?T0(m):j!==null?(j.return=E,he=j):T0(m);for(;_!==null;)he=_,v0(_),_=_.sibling;he=m,Zu=M,Xt=G}w0(s)}else(m.subtreeFlags&8772)!==0&&_!==null?(_.return=m,he=_):w0(s)}}function w0(s){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var u=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Xt||eh(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Xt)if(u===null)p.componentDidMount();else{var m=a.elementType===a.type?u.memoizedProps:rr(a.type,u.memoizedProps);p.componentDidUpdate(m,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&x_(a,_,p);break;case 3:var E=a.updateQueue;if(E!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}x_(a,E,u)}break;case 5:var M=a.stateNode;if(u===null&&a.flags&4){u=M;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var ee=G.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&ji(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Xt||a.flags&512&&mp(a)}catch(Z){ft(a,a.return,Z)}}if(a===s){he=null;break}if(u=a.sibling,u!==null){u.return=a.return,he=u;break}he=a.return}}function x0(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var u=a.sibling;if(u!==null){u.return=a.return,he=u;break}he=a.return}}function T0(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{eh(4,a)}catch(j){ft(a,u,j)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var m=a.return;try{p.componentDidMount()}catch(j){ft(a,m,j)}}var _=a.return;try{mp(a)}catch(j){ft(a,_,j)}break;case 5:var E=a.return;try{mp(a)}catch(j){ft(a,E,j)}}}catch(j){ft(a,a.return,j)}if(a===s){he=null;break}var M=a.sibling;if(M!==null){M.return=a.return,he=M;break}he=a.return}}var vS=Math.ceil,th=B.ReactCurrentDispatcher,vp=B.ReactCurrentOwner,Un=B.ReactCurrentBatchConfig,ze=0,Mt=null,Et=null,Bt=0,Rn=0,wa=Hi(0),Ct=0,ql=null,Ks=0,nh=0,wp=0,Kl=null,pn=null,xp=0,xa=1/0,ai=null,rh=!1,Tp=null,Yi=null,ih=!1,Xi=null,sh=0,Gl=0,Ep=null,oh=-1,ah=0;function an(){return(ze&6)!==0?nt():oh!==-1?oh:oh=nt()}function Ji(s){return(s.mode&1)===0?1:(ze&2)!==0&&Bt!==0?Bt&-Bt:nS.transition!==null?(ah===0&&(ah=gl()),ah):(s=Fe,s!==0||(s=window.event,s=s===void 0?16:Yo(s.type)),s)}function or(s,a,u,p){if(50<Gl)throw Gl=0,Ep=null,Error(t(185));Ms(s,u,p),((ze&2)===0||s!==Mt)&&(s===Mt&&((ze&2)===0&&(nh|=u),Ct===4&&Zi(s,Bt)),gn(s,p),u===1&&ze===0&&(a.mode&1)===0&&(xa=nt()+500,Mu&&qi()))}function gn(s,a){var u=s.callbackNode;Os(s,a);var p=Gr(s,s===Mt?Bt:0);if(p===0)u!==null&&$o(u),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(u!=null&&$o(u),a===1)s.tag===0?tS(b0.bind(null,s)):c_(b0.bind(null,s)),XI(function(){(ze&6)===0&&qi()}),u=null;else{switch(mr(p)){case 1:u=Ho;break;case 4:u=dl;break;case 16:u=Rs;break;case 536870912:u=Wo;break;default:u=Rs}u=N0(u,E0.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function E0(s,a){if(oh=-1,ah=0,(ze&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Ta()&&s.callbackNode!==u)return null;var p=Gr(s,s===Mt?Bt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=lh(s,p);else{a=p;var m=ze;ze|=2;var _=S0();(Mt!==s||Bt!==a)&&(ai=null,xa=nt()+500,Qs(s,a));do try{TS();break}catch(M){I0(s,M)}while(!0);zf(),th.current=_,ze=m,Et!==null?a=0:(Mt=null,Bt=0,a=Ct)}if(a!==0){if(a===2&&(m=pl(s),m!==0&&(p=m,a=bp(s,m))),a===1)throw u=ql,Qs(s,0),Zi(s,p),gn(s,nt()),u;if(a===6)Zi(s,p);else{if(m=s.current.alternate,(p&30)===0&&!wS(m)&&(a=lh(s,p),a===2&&(_=pl(s),_!==0&&(p=_,a=bp(s,_))),a===1))throw u=ql,Qs(s,0),Zi(s,p),gn(s,nt()),u;switch(s.finishedWork=m,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Ys(s,pn,ai);break;case 3:if(Zi(s,p),(p&130023424)===p&&(a=xp+500-nt(),10<a)){if(Gr(s,0)!==0)break;if(m=s.suspendedLanes,(m&p)!==p){an(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Rf(Ys.bind(null,s,pn,ai),a);break}Ys(s,pn,ai);break;case 4:if(Zi(s,p),(p&4194240)===p)break;for(a=s.eventTimes,m=-1;0<p;){var E=31-En(p);_=1<<E,E=a[E],E>m&&(m=E),p&=~_}if(p=m,p=nt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*vS(p/1960))-p,10<p){s.timeoutHandle=Rf(Ys.bind(null,s,pn,ai),p);break}Ys(s,pn,ai);break;case 5:Ys(s,pn,ai);break;default:throw Error(t(329))}}}return gn(s,nt()),s.callbackNode===u?E0.bind(null,s):null}function bp(s,a){var u=Kl;return s.current.memoizedState.isDehydrated&&(Qs(s,a).flags|=256),s=lh(s,a),s!==2&&(a=pn,pn=u,a!==null&&Ip(a)),s}function Ip(s){pn===null?pn=s:pn.push.apply(pn,s)}function wS(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var m=u[p],_=m.getSnapshot;m=m.value;try{if(!tr(_(),m))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Zi(s,a){for(a&=~wp,a&=~nh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-En(a),p=1<<u;s[u]=-1,a&=~p}}function b0(s){if((ze&6)!==0)throw Error(t(327));Ta();var a=Gr(s,0);if((a&1)===0)return gn(s,nt()),null;var u=lh(s,a);if(s.tag!==0&&u===2){var p=pl(s);p!==0&&(a=p,u=bp(s,p))}if(u===1)throw u=ql,Qs(s,0),Zi(s,a),gn(s,nt()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ys(s,pn,ai),gn(s,nt()),null}function Sp(s,a){var u=ze;ze|=1;try{return s(a)}finally{ze=u,ze===0&&(xa=nt()+500,Mu&&qi())}}function Gs(s){Xi!==null&&Xi.tag===0&&(ze&6)===0&&Ta();var a=ze;ze|=1;var u=Un.transition,p=Fe;try{if(Un.transition=null,Fe=1,s)return s()}finally{Fe=p,Un.transition=u,ze=a,(ze&6)===0&&qi()}}function kp(){Rn=wa.current,it(wa)}function Qs(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,YI(u)),Et!==null)for(u=Et.return;u!==null;){var p=u;switch(Lf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Du();break;case 3:ya(),it(hn),it(Gt),Qf();break;case 5:Kf(p);break;case 4:ya();break;case 13:it(lt);break;case 19:it(lt);break;case 10:Bf(p.type._context);break;case 22:case 23:kp()}u=u.return}if(Mt=s,Et=s=es(s.current,null),Bt=Rn=a,Ct=0,ql=null,wp=nh=Ks=0,pn=Kl=null,Hs!==null){for(a=0;a<Hs.length;a++)if(u=Hs[a],p=u.interleaved,p!==null){u.interleaved=null;var m=p.next,_=u.pending;if(_!==null){var E=_.next;_.next=m,p.next=E}u.pending=p}Hs=null}return s}function I0(s,a){do{var u=Et;try{if(zf(),Wu.current=Qu,qu){for(var p=ct.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}qu=!1}if(qs=0,Ot=At=ct=null,Ul=!1,zl=0,vp.current=null,u===null||u.return===null){Ct=1,ql=a,Et=null;break}e:{var _=s,E=u.return,M=u,j=a;if(a=Bt,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,ee=M,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=Y_(E);if(le!==null){le.flags&=-257,X_(le,E,M,_,a),le.mode&1&&Q_(_,G,a),a=le,j=G;var de=a.updateQueue;if(de===null){var fe=new Set;fe.add(j),a.updateQueue=fe}else de.add(j);break e}else{if((a&1)===0){Q_(_,G,a),Ap();break e}j=Error(t(426))}}else if(at&&M.mode&1){var _t=Y_(E);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),X_(_t,E,M,_,a),jf(_a(j,M));break e}}_=j=_a(j,M),Ct!==4&&(Ct=2),Kl===null?Kl=[_]:Kl.push(_),_=E;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var H=K_(_,j,a);w_(_,H);break e;case 1:M=j;var z=_.type,K=_.stateNode;if((_.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Yi===null||!Yi.has(K)))){_.flags|=65536,a&=-a,_.lanes|=a;var ie=G_(_,M,a);w_(_,ie);break e}}_=_.return}while(_!==null)}A0(u)}catch(pe){a=pe,Et===u&&u!==null&&(Et=u=u.return);continue}break}while(!0)}function S0(){var s=th.current;return th.current=Qu,s===null?Qu:s}function Ap(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Mt===null||(Ks&268435455)===0&&(nh&268435455)===0||Zi(Mt,Bt)}function lh(s,a){var u=ze;ze|=2;var p=S0();(Mt!==s||Bt!==a)&&(ai=null,Qs(s,a));do try{xS();break}catch(m){I0(s,m)}while(!0);if(zf(),ze=u,th.current=p,Et!==null)throw Error(t(261));return Mt=null,Bt=0,Ct}function xS(){for(;Et!==null;)k0(Et)}function TS(){for(;Et!==null&&!Cs();)k0(Et)}function k0(s){var a=P0(s.alternate,s,Rn);s.memoizedProps=s.pendingProps,a===null?A0(s):Et=a,vp.current=null}function A0(s){var a=s;do{var u=a.alternate;if(s=a.return,(a.flags&32768)===0){if(u=pS(u,a,Rn),u!==null){Et=u;return}}else{if(u=gS(u,a),u!==null){u.flags&=32767,Et=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ct=6,Et=null;return}}if(a=a.sibling,a!==null){Et=a;return}Et=a=s}while(a!==null);Ct===0&&(Ct=5)}function Ys(s,a,u){var p=Fe,m=Un.transition;try{Un.transition=null,Fe=1,ES(s,a,u,p)}finally{Un.transition=m,Fe=p}return null}function ES(s,a,u,p){do Ta();while(Xi!==null);if((ze&6)!==0)throw Error(t(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(pf(s,_),s===Mt&&(Et=Mt=null,Bt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ih||(ih=!0,N0(Rs,function(){return Ta(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=Un.transition,Un.transition=null;var E=Fe;Fe=1;var M=ze;ze|=4,vp.current=null,yS(s,u),_0(u,s),$I(Af),Xr=!!kf,Af=kf=null,s.current=u,_S(u),Kr(),ze=M,Fe=E,Un.transition=_}else s.current=u;if(ih&&(ih=!1,Xi=s,sh=m),_=s.pendingLanes,_===0&&(Yi=null),gu(u.stateNode),gn(s,nt()),a!==null)for(p=s.onRecoverableError,u=0;u<a.length;u++)m=a[u],p(m.value,{componentStack:m.stack,digest:m.digest});if(rh)throw rh=!1,s=Tp,Tp=null,s;return(sh&1)!==0&&s.tag!==0&&Ta(),_=s.pendingLanes,(_&1)!==0?s===Ep?Gl++:(Gl=0,Ep=s):Gl=0,qi(),null}function Ta(){if(Xi!==null){var s=mr(sh),a=Un.transition,u=Fe;try{if(Un.transition=null,Fe=16>s?16:s,Xi===null)var p=!1;else{if(s=Xi,Xi=null,sh=0,(ze&6)!==0)throw Error(t(331));var m=ze;for(ze|=4,he=s.current;he!==null;){var _=he,E=_.child;if((he.flags&16)!==0){var M=_.deletions;if(M!==null){for(var j=0;j<M.length;j++){var G=M[j];for(he=G;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Wl(8,ee,_)}var ne=ee.child;if(ne!==null)ne.return=ee,he=ne;else for(;he!==null;){ee=he;var Z=ee.sibling,le=ee.return;if(f0(ee),ee===G){he=null;break}if(Z!==null){Z.return=le,he=Z;break}he=le}}}var de=_.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var _t=fe.sibling;fe.sibling=null,fe=_t}while(fe!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&E!==null)E.return=_,he=E;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Wl(9,_,_.return)}var H=_.sibling;if(H!==null){H.return=_.return,he=H;break e}he=_.return}}var z=s.current;for(he=z;he!==null;){E=he;var K=E.child;if((E.subtreeFlags&2064)!==0&&K!==null)K.return=E,he=K;else e:for(E=z;he!==null;){if(M=he,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:eh(9,M)}}catch(pe){ft(M,M.return,pe)}if(M===E){he=null;break e}var ie=M.sibling;if(ie!==null){ie.return=M.return,he=ie;break e}he=M.return}}if(ze=m,qi(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Ps,s)}catch{}p=!0}return p}finally{Fe=u,Un.transition=a}}return!1}function C0(s,a,u){a=_a(u,a),a=K_(s,a,1),s=Gi(s,a,1),a=an(),s!==null&&(Ms(s,1,a),gn(s,a))}function ft(s,a,u){if(s.tag===3)C0(s,s,u);else for(;a!==null;){if(a.tag===3){C0(a,s,u);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Yi===null||!Yi.has(p))){s=_a(u,s),s=G_(a,s,1),a=Gi(a,s,1),s=an(),a!==null&&(Ms(a,1,s),gn(a,s));break}}a=a.return}}function bS(s,a,u){var p=s.pingCache;p!==null&&p.delete(a),a=an(),s.pingedLanes|=s.suspendedLanes&u,Mt===s&&(Bt&u)===u&&(Ct===4||Ct===3&&(Bt&130023424)===Bt&&500>nt()-xp?Qs(s,0):wp|=u),gn(s,a)}function R0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Li,Li<<=1,(Li&130023424)===0&&(Li=4194304)));var u=an();s=ii(s,a),s!==null&&(Ms(s,a,u),gn(s,u))}function IS(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),R0(s,u)}function SS(s,a){var u=0;switch(s.tag){case 13:var p=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),R0(s,u)}var P0;P0=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||hn.current)fn=!0;else{if((s.lanes&u)===0&&(a.flags&128)===0)return fn=!1,fS(s,a,u);fn=(s.flags&131072)!==0}else fn=!1,at&&(a.flags&1048576)!==0&&u_(a,Vu,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Ju(s,a),s=a.pendingProps;var m=ua(a,Gt.current);ma(a,u),m=Jf(null,a,p,s,m,u);var _=Zf();return a.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dn(p)?(_=!0,Ou(a)):_=!1,a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wf(a),m.updater=Yu,a.stateNode=m,m._reactInternals=a,sp(a,p,s,u),a=cp(null,a,p,!0,_,u)):(a.tag=0,at&&_&&Mf(a),on(null,a,m,u),a=a.child),a;case 16:p=a.elementType;e:{switch(Ju(s,a),s=a.pendingProps,m=p._init,p=m(p._payload),a.type=p,m=a.tag=AS(p),s=rr(p,s),m){case 0:a=lp(null,a,p,s,u);break e;case 1:a=r0(null,a,p,s,u);break e;case 11:a=J_(null,a,p,s,u);break e;case 14:a=Z_(null,a,p,rr(p.type,s),u);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:rr(p,m),lp(s,a,p,m,u);case 1:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:rr(p,m),r0(s,a,p,m,u);case 3:e:{if(i0(a),s===null)throw Error(t(387));p=a.pendingProps,_=a.memoizedState,m=_.element,v_(s,a),$u(a,p,null,u);var E=a.memoizedState;if(p=E.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){m=_a(Error(t(423)),a),a=s0(s,a,p,u,m);break e}else if(p!==m){m=_a(Error(t(424)),a),a=s0(s,a,p,u,m);break e}else for(Cn=$i(a.stateNode.containerInfo.firstChild),An=a,at=!0,nr=null,u=y_(a,null,p,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(fa(),p===m){a=oi(s,a,u);break e}on(s,a,p,u)}a=a.child}return a;case 5:return T_(a),s===null&&Ff(a),p=a.type,m=a.pendingProps,_=s!==null?s.memoizedProps:null,E=m.children,Cf(p,m)?E=null:_!==null&&Cf(p,_)&&(a.flags|=32),n0(s,a),on(s,a,E,u),a.child;case 6:return s===null&&Ff(a),null;case 13:return o0(s,a,u);case 4:return qf(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=pa(a,null,p,u):on(s,a,p,u),a.child;case 11:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:rr(p,m),J_(s,a,p,m,u);case 7:return on(s,a,a.pendingProps,u),a.child;case 8:return on(s,a,a.pendingProps.children,u),a.child;case 12:return on(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(p=a.type._context,m=a.pendingProps,_=a.memoizedProps,E=m.value,tt(Uu,p._currentValue),p._currentValue=E,_!==null)if(tr(_.value,E)){if(_.children===m.children&&!hn.current){a=oi(s,a,u);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var M=_.dependencies;if(M!==null){E=_.child;for(var j=M.firstContext;j!==null;){if(j.context===p){if(_.tag===1){j=si(-1,u&-u),j.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var ee=G.pending;ee===null?j.next=j:(j.next=ee.next,ee.next=j),G.pending=j}}_.lanes|=u,j=_.alternate,j!==null&&(j.lanes|=u),$f(_.return,u,a),M.lanes|=u;break}j=j.next}}else if(_.tag===10)E=_.type===a.type?null:_.child;else if(_.tag===18){if(E=_.return,E===null)throw Error(t(341));E.lanes|=u,M=E.alternate,M!==null&&(M.lanes|=u),$f(E,u,a),E=_.sibling}else E=_.child;if(E!==null)E.return=_;else for(E=_;E!==null;){if(E===a){E=null;break}if(_=E.sibling,_!==null){_.return=E.return,E=_;break}E=E.return}_=E}on(s,a,m.children,u),a=a.child}return a;case 9:return m=a.type,p=a.pendingProps.children,ma(a,u),m=Fn(m),p=p(m),a.flags|=1,on(s,a,p,u),a.child;case 14:return p=a.type,m=rr(p,a.pendingProps),m=rr(p.type,m),Z_(s,a,p,m,u);case 15:return e0(s,a,a.type,a.pendingProps,u);case 17:return p=a.type,m=a.pendingProps,m=a.elementType===p?m:rr(p,m),Ju(s,a),a.tag=1,dn(p)?(s=!0,Ou(a)):s=!1,ma(a,u),W_(a,p,m),sp(a,p,m,u),cp(null,a,p,!0,s,u);case 19:return l0(s,a,u);case 22:return t0(s,a,u)}throw Error(t(156,a.tag))};function N0(s,a){return hl(s,a)}function kS(s,a,u,p){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(s,a,u,p){return new kS(s,a,u,p)}function Cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function AS(s){if(typeof s=="function")return Cp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===me)return 14}return 2}function es(s,a){var u=s.alternate;return u===null?(u=zn(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function ch(s,a,u,p,m,_){var E=2;if(p=s,typeof s=="function")Cp(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case R:return Xs(u.children,m,_,a);case b:E=8,m|=8;break;case D:return s=zn(12,u,a,m|2),s.elementType=D,s.lanes=_,s;case O:return s=zn(13,u,a,m),s.elementType=O,s.lanes=_,s;case ke:return s=zn(19,u,a,m),s.elementType=ke,s.lanes=_,s;case we:return uh(u,m,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case P:E=10;break e;case C:E=9;break e;case L:E=11;break e;case me:E=14;break e;case Ae:E=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=zn(E,u,a,m),a.elementType=s,a.type=p,a.lanes=_,a}function Xs(s,a,u,p){return s=zn(7,s,p,a),s.lanes=u,s}function uh(s,a,u,p){return s=zn(22,s,p,a),s.elementType=we,s.lanes=u,s.stateNode={isHidden:!1},s}function Rp(s,a,u){return s=zn(6,s,null,a),s.lanes=u,s}function Pp(s,a,u){return a=zn(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function CS(s,a,u,p,m){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ml(0),this.expirationTimes=ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Np(s,a,u,p,m,_,E,M,j){return s=new CS(s,a,u,M,j),a===1?(a=1,_===!0&&(a|=8)):a=0,_=zn(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(_),s}function RS(s,a,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:p==null?null:""+p,children:s,containerInfo:a,implementation:u}}function D0(s){if(!s)return Wi;s=s._reactInternals;e:{if(Zn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(dn(u))return a_(s,u,a)}return a}function O0(s,a,u,p,m,_,E,M,j){return s=Np(u,p,!0,s,m,_,E,M,j),s.context=D0(null),u=s.current,p=an(),m=Ji(u),_=si(p,m),_.callback=a??null,Gi(u,_,m),s.current.lanes=m,Ms(s,m,p),gn(s,p),s}function hh(s,a,u,p){var m=a.current,_=an(),E=Ji(m);return u=D0(u),a.context===null?a.context=u:a.pendingContext=u,a=si(_,E),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=Gi(m,a,E),s!==null&&(or(s,m,E,_),Bu(s,m,E)),E}function dh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function M0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Dp(s,a){M0(s,a),(s=s.alternate)&&M0(s,a)}function PS(){return null}var L0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Op(s){this._internalRoot=s}fh.prototype.render=Op.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));hh(s,a,null,null)},fh.prototype.unmount=Op.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Gs(function(){hh(null,s,null,null)}),a[ei]=null}};function fh(s){this._internalRoot=s}fh.prototype.unstable_scheduleHydration=function(s){if(s){var a=wl();s={blockedOn:null,target:s,priority:a};for(var u=0;u<bn.length&&a!==0&&a<bn[u].priority;u++);bn.splice(u,0,s),u===0&&Go(s)}};function Mp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function ph(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function V0(){}function NS(s,a,u,p,m){if(m){if(typeof p=="function"){var _=p;p=function(){var G=dh(E);_.call(G)}}var E=O0(a,p,s,0,null,!1,!1,"",V0);return s._reactRootContainer=E,s[ei]=E.current,Nl(s.nodeType===8?s.parentNode:s),Gs(),E}for(;m=s.lastChild;)s.removeChild(m);if(typeof p=="function"){var M=p;p=function(){var G=dh(j);M.call(G)}}var j=Np(s,0,!1,null,null,!1,!1,"",V0);return s._reactRootContainer=j,s[ei]=j.current,Nl(s.nodeType===8?s.parentNode:s),Gs(function(){hh(a,j,u,p)}),j}function gh(s,a,u,p,m){var _=u._reactRootContainer;if(_){var E=_;if(typeof m=="function"){var M=m;m=function(){var j=dh(E);M.call(j)}}hh(a,E,s,m)}else E=NS(u,a,s,m,p);return dh(E)}_l=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=We(a.pendingLanes);u!==0&&(yl(a,u|1),gn(a,nt()),(ze&6)===0&&(xa=nt()+500,qi()))}break;case 13:Gs(function(){var p=ii(s,1);if(p!==null){var m=an();or(p,s,1,m)}}),Dp(s,1)}},qo=function(s){if(s.tag===13){var a=ii(s,134217728);if(a!==null){var u=an();or(a,s,134217728,u)}Dp(s,134217728)}},vl=function(s){if(s.tag===13){var a=Ji(s),u=ii(s,a);if(u!==null){var p=an();or(u,s,a,p)}Dp(s,a)}},wl=function(){return Fe},xl=function(s,a){var u=Fe;try{return Fe=s,a()}finally{Fe=u}},Hr=function(s,a,u){switch(a){case"input":if(Is(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var p=u[a];if(p!==s&&p.form===s.form){var m=Nu(p);if(!m)throw Error(t(90));nl(p),Is(p,m)}}}break;case"textarea":ru(s,u);break;case"select":a=u.value,a!=null&&Xn(s,!!u.multiple,a,!1)}},ou=Sp,au=Gs;var DS={usingClientEntryPoint:!1,Events:[Ml,la,Nu,Ni,Di,Sp]},Ql={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OS={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=pu(s),s===null?null:s.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||PS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{Ps=mh.inject(OS),Tn=mh}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS,mn.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mp(a))throw Error(t(200));return RS(s,a,null,u)},mn.createRoot=function(s,a){if(!Mp(s))throw Error(t(299));var u=!1,p="",m=L0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),a=Np(s,1,!1,null,null,u,!1,p,m),s[ei]=a.current,Nl(s.nodeType===8?s.parentNode:s),new Op(a)},mn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=pu(a),s=s===null?null:s.stateNode,s},mn.flushSync=function(s){return Gs(s)},mn.hydrate=function(s,a,u){if(!ph(a))throw Error(t(200));return gh(null,s,a,!0,u)},mn.hydrateRoot=function(s,a,u){if(!Mp(s))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,m=!1,_="",E=L0;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),a=O0(a,null,s,1,u??null,m,!1,_,E),s[ei]=a.current,Nl(s),p)for(s=0;s<p.length;s++)u=p[s],m=u._getVersion,m=m(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,m]:a.mutableSourceEagerHydrationData.push(u,m);return new fh(a)},mn.render=function(s,a,u){if(!ph(a))throw Error(t(200));return gh(null,s,a,!1,u)},mn.unmountComponentAtNode=function(s){if(!ph(s))throw Error(t(40));return s._reactRootContainer?(Gs(function(){gh(null,null,s,!1,function(){s._reactRootContainer=null,s[ei]=null})}),!0):!1},mn.unstable_batchedUpdates=Sp,mn.unstable_renderSubtreeIntoContainer=function(s,a,u,p){if(!ph(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return gh(s,a,u,!1,p)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var W0;function $S(){if(W0)return Fp.exports;W0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fp.exports=BS(),Fp.exports}var q0;function HS(){if(q0)return yh;q0=1;var n=$S();return yh.createRoot=n.createRoot,yh.hydrateRoot=n.hydrateRoot,yh}var WS=HS();const qS=()=>{};var K0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},KS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,g=o>>2,y=(o&3)<<4|c>>4;let w=(c&15)<<2|f>>6,T=f&63;h||(T=64,l||(w=64)),r.push(t[g],t[y],t[w],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):KS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const y=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||f==null||y==null)throw new GS;const w=o<<2|c>>4;if(r.push(w),f!==64){const T=c<<4&240|f>>2;if(r.push(T),y!==64){const N=f<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QS=function(n){const e=cT(n);return uT.encodeByteArray(e,!0)},td=function(n){return QS(n).replace(/\./g,"")},hT=function(n){try{return uT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=()=>YS().__FIREBASE_DEFAULTS__,JS=()=>{if(typeof process>"u"||typeof K0>"u")return;const n=K0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&hT(n[1]);return e&&JSON.parse(e)},Vd=()=>{try{return qS()||XS()||JS()||ZS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},dT=n=>Vd()?.emulatorHosts?.[n],ek=n=>{const e=dT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fT=()=>Vd()?.config,pT=n=>Vd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[td(JSON.stringify(t)),td(JSON.stringify(l)),""].join(".")}const fc={};function rk(){const n={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?n.emulator.push(e):n.prod.push(e);return n}function ik(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let G0=!1;function mT(n,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||fc[n]===e||fc[n]||G0)return;fc[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=rk().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{G0=!0,l()},w}function g(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=ik(r),T=t("text"),N=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),I=document.getElementById(A)||document.createElement("a"),V=t("preprendIcon"),F=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;c(U),g(I,A);const B=f();h(F,V),U.append(F,N,I,B),document.body.appendChild(U)}o?(N.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function ok(){const n=Vd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ak(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function lk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ck(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function uk(){return!ok()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}function hk(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="FirebaseError";class Yn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=dk,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?fk(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Yn(i,c,r)}}function fk(n,e){return n.replace(pk,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const pk=/\{\$([^}]+)}/g;function gk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function fo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(Q0(o)&&Q0(l)){if(!fo(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Q0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ic(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mk(n,e){const t=new yk(n,e);return t.subscribe.bind(t)}class yk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_k(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zp),i.error===void 0&&(i.error=zp),i.complete===void 0&&(i.complete=zp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _k(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=1e3,wk=2,xk=14400*1e3,Tk=.5;function Y0(n,e=vk,t=wk){const r=e*Math.pow(t,n),i=Math.round(Tk*r*(Math.random()-.5)*2);return Math.min(xk,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(n){return n&&n._delegate?n._delegate:n}class Kn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ek=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new tk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ik(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=to){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=to){return this.instances.has(e)}getOptions(e=to){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=to){return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bk(n){return n===to?void 0:n}function Ik(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ek(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const kk={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Ak=Me.INFO,Ck={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},Rk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=Ck[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fd{constructor(e){this.name=e,this._logLevel=Ak,this._logHandler=Rk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const Pk=(n,e)=>e.some(t=>n instanceof t);let X0,J0;function Nk(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Dk(){return J0||(J0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wT=new WeakMap,xg=new WeakMap,xT=new WeakMap,Bp=new WeakMap,cm=new WeakMap;function Ok(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(ds(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&wT.set(t,n)}).catch(()=>{}),cm.set(e,n),e}function Mk(n){if(xg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});xg.set(n,e)}let Tg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||xT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ds(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Lk(n){Tg=n(Tg)}function Vk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call($p(this),e,...t);return xT.set(r,e.sort?e.sort():[e]),ds(r)}:Dk().includes(n)?function(...e){return n.apply($p(this),e),ds(wT.get(this))}:function(...e){return ds(n.apply($p(this),e))}}function Fk(n){return typeof n=="function"?Vk(n):(n instanceof IDBTransaction&&Mk(n),Pk(n,Nk())?new Proxy(n,Tg):n)}function ds(n){if(n instanceof IDBRequest)return Ok(n);if(Bp.has(n))return Bp.get(n);const e=Fk(n);return e!==n&&(Bp.set(n,e),cm.set(e,n)),e}const $p=n=>cm.get(n);function TT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),c=ds(l);return r&&l.addEventListener("upgradeneeded",h=>{r(ds(l.result),h.oldVersion,h.newVersion,ds(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const jk=["get","getKey","getAll","getAllKeys","count"],Uk=["put","add","delete","clear"],Hp=new Map;function Z0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Uk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jk.includes(t)))return;const o=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&h.done]))[0]};return Hp.set(e,o),o}Lk(n=>({...n,get:(e,t,r)=>Z0(e,t)||n.get(e,t,r),has:(e,t)=>!!Z0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Bk(n){return n.getComponent()?.type==="VERSION"}const Eg="@firebase/app",ev="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Fd("@firebase/app"),$k="@firebase/app-compat",Hk="@firebase/analytics-compat",Wk="@firebase/analytics",qk="@firebase/app-check-compat",Kk="@firebase/app-check",Gk="@firebase/auth",Qk="@firebase/auth-compat",Yk="@firebase/database",Xk="@firebase/data-connect",Jk="@firebase/database-compat",Zk="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",rA="@firebase/messaging",iA="@firebase/messaging-compat",sA="@firebase/performance",oA="@firebase/performance-compat",aA="@firebase/remote-config",lA="@firebase/remote-config-compat",cA="@firebase/storage",uA="@firebase/storage-compat",hA="@firebase/firestore",dA="@firebase/ai",fA="@firebase/firestore-compat",pA="firebase",gA="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="[DEFAULT]",mA={[Eg]:"fire-core",[$k]:"fire-core-compat",[Wk]:"fire-analytics",[Hk]:"fire-analytics-compat",[Kk]:"fire-app-check",[qk]:"fire-app-check-compat",[Gk]:"fire-auth",[Qk]:"fire-auth-compat",[Yk]:"fire-rtdb",[Xk]:"fire-data-connect",[Jk]:"fire-rtdb-compat",[Zk]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[rA]:"fire-fcm",[iA]:"fire-fcm-compat",[sA]:"fire-perf",[oA]:"fire-perf-compat",[aA]:"fire-rc",[lA]:"fire-rc-compat",[cA]:"fire-gcs",[uA]:"fire-gcs-compat",[hA]:"fire-fst",[fA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[pA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd=new Map,yA=new Map,Ig=new Map;function tv(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ur(n){const e=n.name;if(Ig.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,n);for(const t of nd.values())tv(t,n);for(const t of yA.values())tv(t,n);return!0}function Bc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new ko("app","Firebase",_A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=gA;function ET(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:bg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw fs.create("bad-app-name",{appName:String(i)});if(t||(t=fT()),!t)throw fs.create("no-options");const o=nd.get(i);if(o){if(fo(t,o.options)&&fo(r,o.config))return o;throw fs.create("duplicate-app",{appName:i})}const l=new Sk(i);for(const h of Ig.values())l.addComponent(h);const c=new vA(t,r,l);return nd.set(i,c),c}function bT(n=bg){const e=nd.get(n);if(!e&&n===bg&&fT())return ET();if(!e)throw fs.create("no-app",{appName:n});return e}function xn(n,e,t){let r=mA[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(l.join(" "));return}ur(new Kn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="firebase-heartbeat-database",xA=1,Ec="firebase-heartbeat-store";let Wp=null;function IT(){return Wp||(Wp=TT(wA,xA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw fs.create("idb-open",{originalErrorMessage:n.message})})),Wp}async function TA(n){try{const t=(await IT()).transaction(Ec),r=await t.objectStore(Ec).get(ST(n));return await t.done,r}catch(e){if(e instanceof Yn)vi.warn(e.message);else{const t=fs.create("idb-get",{originalErrorMessage:e?.message});vi.warn(t.message)}}}async function nv(n,e){try{const r=(await IT()).transaction(Ec,"readwrite");await r.objectStore(Ec).put(e,ST(n)),await r.done}catch(t){if(t instanceof Yn)vi.warn(t.message);else{const r=fs.create("idb-set",{originalErrorMessage:t?.message});vi.warn(r.message)}}}function ST(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1024,bA=30;class IA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>bA){const i=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rv(),{heartbeatsToSend:t,unsentEntries:r}=SA(this._heartbeatsCache.heartbeats),i=td(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return vi.warn(e),""}}}function rv(){return new Date().toISOString().substring(0,10)}function SA(n,e=EA){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),iv(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),iv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?vT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iv(n){return td(JSON.stringify({version:2,heartbeats:n})).length}function AA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(n){ur(new Kn("platform-logger",e=>new zk(e),"PRIVATE")),ur(new Kn("heartbeat",e=>new IA(e),"PRIVATE")),xn(Eg,ev,n),xn(Eg,ev,"esm2020"),xn("fire-js","")}CA("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebasestorage.googleapis.com",AT="storageBucket",RA=120*1e3,PA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends Yn{constructor(e,t,r=0){super(qp(e),`Firebase Storage: ${t} (${qp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return qp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pt||(pt={}));function qp(n){return"storage/"+n}function um(){const n="An unknown error occurred, please check the error payload for server response.";return new gt(pt.UNKNOWN,n)}function NA(n){return new gt(pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function DA(n){return new gt(pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OA(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(pt.UNAUTHENTICATED,n)}function MA(){return new gt(pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LA(n){return new gt(pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function VA(){return new gt(pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FA(){return new gt(pt.CANCELED,"User canceled the upload/download.")}function jA(n){return new gt(pt.INVALID_URL,"Invalid URL '"+n+"'.")}function UA(n){return new gt(pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function zA(){return new gt(pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AT+"' property when initializing the app?")}function BA(){return new gt(pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $A(){return new gt(pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HA(n){return new gt(pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sg(n){return new gt(pt.INVALID_ARGUMENT,n)}function CT(){return new gt(pt.APP_DELETED,"The Firebase app was deleted.")}function WA(n){return new gt(pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pc(n,e){return new gt(pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Xl(n){throw new gt(pt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Nn.makeFromUrl(e,t)}catch{return new Nn(e,"")}if(r.path==="")return r;throw UA(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),h={bucket:1,path:3};function f(B){B.path_=decodeURIComponent(B.path)}const g="v[A-Za-z0-9_]+",y=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${g}/b/${i}/o${w}`,"i"),N={bucket:1,path:3},A=t===kT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",V=new RegExp(`^https?://${A}/${i}/${I}`,"i"),U=[{regex:c,indices:h,postModify:o},{regex:T,indices:N,postModify:f},{regex:V,indices:{bucket:1,path:2},postModify:f}];for(let B=0;B<U.length;B++){const q=U[B],Y=q.regex.exec(e);if(Y){const R=Y[q.indices.bucket];let b=Y[q.indices.path];b||(b=""),r=new Nn(R,b),q.postModify(r);break}}if(r==null)throw jA(e);return r}}class qA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,e,t){let r=1,i=null,o=null,l=!1,c=0;function h(){return c===2}let f=!1;function g(...I){f||(f=!0,e.apply(null,I))}function y(I){i=setTimeout(()=>{i=null,n(T,h())},I)}function w(){o&&clearTimeout(o)}function T(I,...V){if(f){w();return}if(I){w(),g.call(null,I,...V);return}if(h()||l){w(),g.call(null,I,...V);return}r<64&&(r*=2);let U;c===1?(c=2,U=0):U=(r+Math.random())*1e3,y(U)}let N=!1;function A(I){N||(N=!0,w(),!f&&(i!==null?(I||(c=2),clearTimeout(i),y(0)):I||(c=1)))}return y(0),o=setTimeout(()=>{l=!0,A(!0)},t),A}function GA(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(n){return n!==void 0}function YA(n){return typeof n=="object"&&!Array.isArray(n)}function hm(n){return typeof n=="string"||n instanceof String}function sv(n){return dm()&&n instanceof Blob}function dm(){return typeof Blob<"u"}function ov(n,e,t,r){if(r<e)throw Sg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Sg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function RT(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var ao;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ao||(ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(n,e){const t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t,r,i,o,l,c,h,f,g,y,w=!0,T=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=g,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,A)=>{this.resolve_=N,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new _h(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const h=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===ao.NO_ERROR,h=o.getStatus();if(!c||XA(h,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===ao.ABORT;r(!1,new _h(!1,null,g));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new _h(f,o))})},t=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());QA(h)?o(h):o()}catch(h){l(h)}else if(c!==null){const h=um();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(i.canceled){const h=this.appDelete_?CT():FA();l(h)}else{const h=VA();l(h)}};this.canceled_?t(!1,new _h(!1,null,!0)):this.backoffId_=KA(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function ZA(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function eC(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tC(n,e){e&&(n["X-Firebase-GMPID"]=e)}function nC(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function rC(n,e,t,r,i,o,l=!0,c=!1){const h=RT(n.urlParams),f=n.url+h,g=Object.assign({},n.headers);return tC(g,e),ZA(g,t),eC(g,o),nC(g,r),new JA(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sC(...n){const e=iC();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(dm())return new Blob(n);throw new gt(pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oC(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(n){if(typeof atob>"u")throw HA("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,t){this.data=e,this.contentType=t||null}}function lC(n,e){switch(n){case Mr.RAW:return new Kp(PT(e));case Mr.BASE64:case Mr.BASE64URL:return new Kp(NT(n,e));case Mr.DATA_URL:return new Kp(uC(e),hC(e))}throw um()}function PT(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=n.charCodeAt(++t);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cC(n){let e;try{e=decodeURIComponent(n)}catch{throw pc(Mr.DATA_URL,"Malformed data URL.")}return PT(e)}function NT(n,e){switch(n){case Mr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw pc(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Mr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw pc(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=aC(e)}catch(i){throw i.message.includes("polyfill")?i:pc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class DT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pc(Mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=dC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uC(n){const e=new DT(n);return e.base64?NT(Mr.BASE64,e.rest):cC(e.rest)}function hC(n){return new DT(n).contentType}function dC(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){let r=0,i="";sv(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(sv(this.data_)){const r=this.data_,i=oC(r,e,t);return i===null?null:new rs(i)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new rs(r,!0)}}static getBlob(...e){if(dm()){const t=e.map(r=>r instanceof rs?r.data_:r);return new rs(sC.apply(null,t))}else{const t=e.map(l=>hm(l)?lC(Mr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new rs(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(n){let e;try{e=JSON.parse(n)}catch{return null}return YA(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function pC(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function MT(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n,e){return e}class ln{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||gC}}let vh=null;function mC(n){return!hm(n)||n.length<2?n:MT(n)}function LT(){if(vh)return vh;const n=[];n.push(new ln("bucket")),n.push(new ln("generation")),n.push(new ln("metageneration")),n.push(new ln("name","fullPath",!0));function e(o,l){return mC(l)}const t=new ln("name");t.xform=e,n.push(t);function r(o,l){return l!==void 0?Number(l):l}const i=new ln("size");return i.xform=r,n.push(i),n.push(new ln("timeCreated")),n.push(new ln("updated")),n.push(new ln("md5Hash",null,!0)),n.push(new ln("cacheControl",null,!0)),n.push(new ln("contentDisposition",null,!0)),n.push(new ln("contentEncoding",null,!0)),n.push(new ln("contentLanguage",null,!0)),n.push(new ln("contentType",null,!0)),n.push(new ln("metadata","customMetadata",!0)),vh=n,vh}function yC(n,e){function t(){const r=n.bucket,i=n.fullPath,o=new Nn(r,i);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function _C(n,e,t){const r={};r.type="file";const i=t.length;for(let o=0;o<i;o++){const l=t[o];r[l.local]=l.xform(r,e[l.server])}return yC(r,n),r}function VT(n,e,t){const r=OT(e);return r===null?null:_C(n,r,t)}function vC(n,e,t,r){const i=OT(e);if(i===null||!hm(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const g=n.bucket,y=n.fullPath,w="/b/"+l(g)+"/o/"+l(y),T=fm(w,t,r),N=RT({alt:"media",token:f});return T+N})[0]}function wC(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class FT{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(n){if(!n)throw um()}function xC(n,e){function t(r,i){const o=VT(n,i,e);return jT(o!==null),o}return t}function TC(n,e){function t(r,i){const o=VT(n,i,e);return jT(o!==null),vC(o,i,n.host,n._protocol)}return t}function UT(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=MA():i=OA():t.getStatus()===402?i=DA(n.bucket):t.getStatus()===403?i=LA(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function EC(n){const e=UT(n);function t(r,i){let o=e(r,i);return r.getStatus()===404&&(o=NA(n.path)),o.serverResponse=i.serverResponse,o}return t}function bC(n,e,t){const r=e.fullServerUrl(),i=fm(r,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,c=new FT(i,o,TC(n,t),l);return c.errorHandler=EC(e),c}function IC(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function SC(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=IC(null,e)),r}function kC(n,e,t,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let U="";for(let B=0;B<2;B++)U=U+Math.random().toString().slice(2);return U}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const f=SC(e,r,i),g=wC(f,t),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",T=rs.getBlob(y,r,w);if(T===null)throw BA();const N={name:f.fullPath},A=fm(o,n.host,n._protocol),I="POST",V=n.maxUploadRetryTime,F=new FT(A,I,xC(n,t),V);return F.urlParams=N,F.headers=l,F.body=T.uploadData(),F.errorHandler=UT(e),F}class AC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i,o){if(this.sent_)throw Xl("cannot .send() more than once");if(So(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Xl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Xl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Xl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Xl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class CC extends AC{initXhr(){this.xhr_.responseType="text"}}function zT(){return new CC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t){this._service=e,t instanceof Nn?this._location=t:this._location=Nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new po(e,t)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MT(this._location.path)}get storage(){return this._service}get parent(){const e=fC(this._location.path);if(e===null)return null;const t=new Nn(this._location.bucket,e);return new po(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw WA(e)}}function RC(n,e,t){n._throwIfRoot("uploadBytes");const r=kC(n.storage,n._location,LT(),new rs(e,!0),t);return n.storage.makeRequestWithTokens(r,zT).then(i=>({metadata:i,ref:n}))}function PC(n){n._throwIfRoot("getDownloadURL");const e=bC(n.storage,n._location,LT());return n.storage.makeRequestWithTokens(e,zT).then(t=>{if(t===null)throw $A();return t})}function NC(n,e){const t=pC(n._location.path,e),r=new Nn(n._location.bucket,t);return new po(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n){return/^[A-Za-z]+:\/\//.test(n)}function OC(n,e){return new po(n,e)}function BT(n,e){if(n instanceof pm){const t=n;if(t._bucket==null)throw zA();const r=new po(t,t._bucket);return e!=null?BT(r,e):r}else return e!==void 0?NC(n,e):n}function MC(n,e){if(e&&DC(e)){if(n instanceof pm)return OC(n,e);throw Sg("To use ref(service, url), the first argument must be a Storage instance.")}else return BT(n,e)}function av(n,e){const t=e?.[AT];return t==null?null:Nn.makeFromBucketSpec(t,n)}class pm{constructor(e,t,r,i,o,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=kT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RA,this._maxUploadRetryTime=PA,this._requests=new Set,i!=null?this._bucket=Nn.makeFromBucketSpec(i,this._host):this._bucket=av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new po(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new qA(CT());{const l=rC(e,this._appId,r,i,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}}const lv="@firebase/storage",cv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="storage";function VC(n,e,t){return n=kt(n),RC(n,e,t)}function FC(n){return n=kt(n),PC(n)}function jC(n,e){return n=kt(n),MC(n,e)}function UC(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new pm(t,r,i,e,Ao)}function zC(){ur(new Kn(LC,UC,"PUBLIC").setMultipleInstances(!0)),xn(lv,cv,""),xn(lv,cv,"esm2020")}zC();var BC="firebase",$C="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(BC,$C,"app");const $T="@firebase/installations",gm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1e4,WT=`w:${gm}`,qT="FIS_v2",HC="https://firebaseinstallations.googleapis.com/v1",WC=3600*1e3,qC="installations",KC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},go=new ko(qC,KC,GC);function KT(n){return n instanceof Yn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT({projectId:n}){return`${HC}/projects/${n}/installations`}function QT(n){return{token:n.token,requestStatus:2,expiresIn:YC(n.expiresIn),creationTime:Date.now()}}async function YT(n,e){const r=(await e.json()).error;return go.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function XT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function QC(n,{refreshToken:e}){const t=XT(n);return t.append("Authorization",XC(e)),t}async function JT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function YC(n){return Number(n.replace("s","000"))}function XC(n){return`${qT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=GT(n),i=XT(n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:t,authVersion:qT,appId:n.appId,sdkVersion:WT},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await JT(()=>fetch(r,c));if(h.ok){const f=await h.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:QT(f.authToken)}}else throw await YT("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^[cdef][\w-]{21}$/,kg="";function tR(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=nR(n);return eR.test(t)?t:kg}catch{return kg}}function nR(n){return ZC(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function tE(n,e){const t=jd(n);nE(t,e),rR(t,e)}function nE(n,e){const t=eE.get(n);if(t)for(const r of t)r(e)}function rR(n,e){const t=iR();t&&t.postMessage({key:n,fid:e}),sR()}let io=null;function iR(){return!io&&"BroadcastChannel"in self&&(io=new BroadcastChannel("[Firebase] FID Change"),io.onmessage=n=>{nE(n.data.key,n.data.fid)}),io}function sR(){eE.size===0&&io&&(io.close(),io=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="firebase-installations-database",aR=1,mo="firebase-installations-store";let Gp=null;function mm(){return Gp||(Gp=TT(oR,aR,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(mo)}}})),Gp}async function rd(n,e){const t=jd(n),i=(await mm()).transaction(mo,"readwrite"),o=i.objectStore(mo),l=await o.get(t);return await o.put(e,t),await i.done,(!l||l.fid!==e.fid)&&tE(n,e.fid),e}async function rE(n){const e=jd(n),r=(await mm()).transaction(mo,"readwrite");await r.objectStore(mo).delete(e),await r.done}async function Ud(n,e){const t=jd(n),i=(await mm()).transaction(mo,"readwrite"),o=i.objectStore(mo),l=await o.get(t),c=e(l);return c===void 0?await o.delete(t):await o.put(c,t),await i.done,c&&(!l||l.fid!==c.fid)&&tE(n,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(n){let e;const t=await Ud(n.appConfig,r=>{const i=lR(r),o=cR(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===kg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function lR(n){const e=n||{fid:tR(),registrationStatus:0};return iE(e)}function cR(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(go.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=uR(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hR(n)}:{installationEntry:e}}async function uR(n,e){try{const t=await JC(n,e);return rd(n.appConfig,t)}catch(t){throw KT(t)&&t.customData.serverCode===409?await rE(n.appConfig):await rd(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function hR(n){let e=await uv(n.appConfig);for(;e.registrationStatus===1;)await ZT(100),e=await uv(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await ym(n);return r||t}return e}function uv(n){return Ud(n,e=>{if(!e)throw go.create("installation-not-found");return iE(e)})}function iE(n){return dR(n)?{fid:n.fid,registrationStatus:0}:n}function dR(n){return n.registrationStatus===1&&n.registrationTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR({appConfig:n,heartbeatServiceProvider:e},t){const r=pR(n,t),i=QC(n,t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:WT,appId:n.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},h=await JT(()=>fetch(r,c));if(h.ok){const f=await h.json();return QT(f)}else throw await YT("Generate Auth Token",h)}function pR(n,{fid:e}){return`${GT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _m(n,e=!1){let t;const r=await Ud(n.appConfig,o=>{if(!sE(o))throw go.create("not-registered");const l=o.authToken;if(!e&&yR(l))return o;if(l.requestStatus===1)return t=gR(n,e),o;{if(!navigator.onLine)throw go.create("app-offline");const c=vR(o);return t=mR(n,c),c}});return t?await t:r.authToken}async function gR(n,e){let t=await hv(n.appConfig);for(;t.authToken.requestStatus===1;)await ZT(100),t=await hv(n.appConfig);const r=t.authToken;return r.requestStatus===0?_m(n,e):r}function hv(n){return Ud(n,e=>{if(!sE(e))throw go.create("not-registered");const t=e.authToken;return wR(t)?{...e,authToken:{requestStatus:0}}:e})}async function mR(n,e){try{const t=await fR(n,e),r={...e,authToken:t};return await rd(n.appConfig,r),t}catch(t){if(KT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await rE(n.appConfig);else{const r={...e,authToken:{requestStatus:0}};await rd(n.appConfig,r)}throw t}}function sE(n){return n!==void 0&&n.registrationStatus===2}function yR(n){return n.requestStatus===2&&!_R(n)}function _R(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+WC}function vR(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function wR(n){return n.requestStatus===1&&n.requestTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(n){const e=n,{installationEntry:t,registrationPromise:r}=await ym(e);return r?r.catch(console.error):_m(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e=!1){const t=n;return await ER(t),(await _m(t,e)).token}async function ER(n){const{registrationPromise:e}=await ym(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n){if(!n||!n.options)throw Qp("App Configuration");if(!n.name)throw Qp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Qp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Qp(n){return go.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="installations",IR="installations-internal",SR=n=>{const e=n.getProvider("app").getImmediate(),t=bR(e),r=Bc(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kR=n=>{const e=n.getProvider("app").getImmediate(),t=Bc(e,oE).getImmediate();return{getId:()=>xR(t),getToken:i=>TR(t,i)}};function AR(){ur(new Kn(oE,SR,"PUBLIC")),ur(new Kn(IR,kR,"PRIVATE"))}AR();xn($T,gm);xn($T,gm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="analytics",CR="firebase_id",RR="origin",PR=60*1e3,NR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Fd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new ko("analytics","Analytics",DR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){if(!n.startsWith(vm)){const e=qn.create("invalid-gtag-resource",{gtagURL:n});return un.warn(e.message),""}return n}function aE(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function MR(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function LR(n,e){const t=MR("firebase-js-sdk-policy",{createScriptURL:OR}),r=document.createElement("script"),i=`${vm}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function VR(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function FR(n,e,t,r,i,o){const l=r[i];try{if(l)await e[l];else{const h=(await aE(t)).find(f=>f.measurementId===i);h&&await e[h.appId]}}catch(c){un.error(c)}n("config",i,o)}async function jR(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await aE(t);for(const h of l){const f=c.find(y=>y.measurementId===h),g=f&&e[f.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){un.error(o)}}function UR(n,e,t,r){async function i(o,...l){try{if(o==="event"){const[c,h]=l;await jR(n,e,t,c,h)}else if(o==="config"){const[c,h]=l;await FR(n,e,t,r,c,h)}else if(o==="consent"){const[c,h]=l;n("consent",c,h)}else if(o==="get"){const[c,h,f]=l;n("get",c,h,f)}else if(o==="set"){const[c]=l;n("set",c)}else n(o,...l)}catch(c){un.error(c)}}return i}function zR(n,e,t,r,i){let o=function(...l){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=UR(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function BR(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(vm)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=30,HR=1e3;class WR{constructor(e={},t=HR){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lE=new WR;function qR(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function KR(n){const{appId:e,apiKey:t}=n,r={method:"GET",headers:qR(t)},i=NR.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();c.error?.message&&(l=c.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function GR(n,e=lE,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw qn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw qn.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new XR;return setTimeout(async()=>{c.abort()},PR),cE({appId:r,apiKey:i,measurementId:o},l,c,e)}async function cE(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=lE){const{appId:o,measurementId:l}=n;try{await QR(r,e)}catch(c){if(l)return un.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:l};throw c}try{const c=await KR(n);return i.deleteThrottleMetadata(o),c}catch(c){const h=c;if(!YR(h)){if(i.deleteThrottleMetadata(o),l)return un.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:o,measurementId:l};throw c}const f=Number(h?.customData?.httpStatus)===503?Y0(t,i.intervalMillis,$R):Y0(t,i.intervalMillis),g={throttleEndTimeMillis:Date.now()+f,backoffCount:t+1};return i.setThrottleMetadata(o,g),un.debug(`Calling attemptFetch again in ${f} millis`),cE(n,g,r,i)}}function QR(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YR(n){if(!(n instanceof Yn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class XR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function JR(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,l={...r,send_to:o};n("event",t,l)}}async function ZR(n,e,t,r){if(r&&r.global){const i={};for(const o of Object.keys(t))i[`user_properties.${o}`]=t[o];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(){if(_T())try{await vT()}catch(n){return un.warn(qn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return un.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tP(n,e,t,r,i,o,l){const c=GR(n);c.then(w=>{t[w.measurementId]=w.appId,n.options.measurementId&&w.measurementId!==n.options.measurementId&&un.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>un.error(w)),e.push(c);const h=eP().then(w=>{if(w)return r.getId()}),[f,g]=await Promise.all([c,h]);BR(o)||LR(o,f.measurementId),i("js",new Date);const y=l?.config??{};return y[RR]="firebase",y.update=!0,g!=null&&(y[CR]=g),i("config",f.measurementId,y),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.app=e}_delete(){return delete Ra[this.app.options.appId],Promise.resolve()}}let Ra={},fv=[];const pv={};let Yp="dataLayer",rP="gtag",gv,wm,mv=!1;function iP(){const n=[];if(yT()&&n.push("This is a browser extension environment."),hk()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=qn.create("invalid-analytics-context",{errorInfo:e});un.warn(t.message)}}function sP(n,e,t){iP();const r=n.options.appId;if(!r)throw qn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)un.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(Ra[r]!=null)throw qn.create("already-exists",{id:r});if(!mv){VR(Yp);const{wrappedGtag:o,gtagCore:l}=zR(Ra,fv,pv,Yp,rP);wm=o,gv=l,mv=!0}return Ra[r]=tP(n,fv,pv,e,gv,Yp,t),new nP(n)}function oP(n,e,t){n=kt(n),ZR(wm,Ra[n.app.options.appId],e,t).catch(r=>un.error(r))}function aP(n,e,t,r){n=kt(n),JR(wm,Ra[n.app.options.appId],e,t,r).catch(i=>un.error(i))}const yv="@firebase/analytics",_v="0.10.19";function lP(){ur(new Kn(dv,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return sP(r,i,t)},"PUBLIC")),ur(new Kn("analytics-internal",n,"PRIVATE")),xn(yv,_v),xn(yv,_v,"esm2020");function n(e){try{const t=e.getProvider(dv).getImmediate();return{logEvent:(r,i,o)=>aP(t,r,i,o),setUserProperties:(r,i)=>oP(t,r,i)}}catch(t){throw qn.create("interop-component-reg-failed",{reason:t})}}}lP();function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cP=uE,hE=new ko("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Fd("@firebase/auth");function uP(n,...e){id.logLevel<=Me.WARN&&id.warn(`Auth (${Ao}): ${n}`,...e)}function Bh(n,...e){id.logLevel<=Me.ERROR&&id.error(`Auth (${Ao}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(n,...e){throw xm(n,...e)}function Lr(n,...e){return xm(n,...e)}function dE(n,e,t){const r={...cP(),[e]:t};return new ko("auth","Firebase",r).create(e,{appName:n.name})}function mi(n){return dE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hE.create(n,...e)}function Te(n,e,...t){if(!n)throw xm(e,...t)}function fi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bh(e),new Error(e)}function wi(n,e){n||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(){return typeof self<"u"&&self.location?.href||""}function hP(){return vv()==="http:"||vv()==="https:"}function vv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hP()||yT()||"connection"in navigator)?navigator.onLine:!0}function fP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.shortDelay=e,this.longDelay=t,wi(t>e,"Short delay should be less than long delay!"),this.isMobile=sk()||lk()}get(){return dP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mP=new $c(3e4,6e4);function bs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Ii(n,e,t,r,i={}){return pE(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=zc({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:h,...o};return ak()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&So(n.emulatorConfig.host)&&(f.credentials="include"),fE.fetch()(await gE(n,n.config.apiHost,t,c),f)})}async function pE(n,e,t){n._canInitEmulator=!1;const r={...pP,...e};try{const i=new _P(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw wh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw wh(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw wh(n,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw dE(n,g,f);hr(n,g)}}catch(i){if(i instanceof Yn)throw i;hr(n,"network-request-failed",{message:String(i)})}}async function Hc(n,e,t,r,i={}){const o=await Ii(n,e,t,r,i);return"mfaPendingCredential"in o&&hr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function gE(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?Tm(n.config,i):`${n.config.apiScheme}://${i}`;return gP.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function yP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _P{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),mP.get())})}}function wh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Lr(n,e,r);return i.customData._tokenResponse=t,i}function wv(n){return n!==void 0&&n.enterprise!==void 0}class vP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return yP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wP(n,e){return Ii(n,"GET","/v2/recaptchaConfig",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xP(n,e){return Ii(n,"POST","/v1/accounts:delete",e)}async function sd(n,e){return Ii(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TP(n,e=!1){const t=kt(n),r=await t.getIdToken(e),i=Em(r);Te(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:gc(Xp(i.auth_time)),issuedAtTime:gc(Xp(i.iat)),expirationTime:gc(Xp(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Xp(n){return Number(n)*1e3}function Em(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=hT(t);return i?JSON.parse(i):(Bh("Failed to decode base64 JWT payload"),null)}catch(i){return Bh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xv(n){const e=Em(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Yn&&EP(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function EP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(n){const e=n.auth,t=await n.getIdToken(),r=await ja(n,sd(e,{idToken:t}));Te(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=i.providerUserInfo?.length?mE(i.providerUserInfo):[],l=SP(n.providerData,o),c=n.isAnonymous,h=!(n.email&&i.passwordHash)&&!l?.length,f=c?h:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Cg(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(n,g)}async function IP(n){const e=kt(n);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SP(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e){const t=await pE(n,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await gE(n,i,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return n.emulatorConfig&&So(n.emulatorConfig.host)&&(h.credentials="include"),fE.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function AP(n,e){return Ii(n,"POST","/v2/accounts:revokeToken",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=xv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await kP(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Pa;return r&&(Te(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Te(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new bP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ja(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TP(this,e)}reload(){return IP(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await ja(this,xP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,f=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:T,providerData:N,stsTokenManager:A}=t;Te(y&&A,e,"internal-error");const I=Pa.fromJSON(this.name,A);Te(typeof y=="string",e,"internal-error"),ns(r,e.name),ns(i,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof T=="boolean",e,"internal-error"),ns(o,e.name),ns(l,e.name),ns(c,e.name),ns(h,e.name),ns(f,e.name),ns(g,e.name);const V=new lr({uid:y,auth:e,email:i,emailVerified:w,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:I,createdAt:f,lastLoginAt:g});return N&&Array.isArray(N)&&(V.providerData=N.map(F=>({...F}))),h&&(V._redirectEventId=h),V}static async _fromIdTokenResponse(e,t,r=!1){const i=new Pa;i.updateFromServerResponse(t);const o=new lr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await od(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Te(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?mE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Pa;c.updateFromIdToken(r);const h=new lr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Cg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function pi(n){wi(n instanceof Function,"Expected a class definition");let e=Tv.get(n);return e?(wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yE.type="NONE";const Ev=yE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n,e,t){return`firebase:${n}:${e}:${t}`}class Na{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=$h(this.userKey,i.apiKey,o),this.fullPersistenceKey=$h("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await sd(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Na(pi(Ev),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||pi(Ev);const l=$h(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const g=await f._get(l);if(g){let y;if(typeof g=="string"){const w=await sd(e,{idToken:g}).catch(()=>{});if(!w)break;y=await lr._fromGetAccountInfoResponse(e,w,g)}else y=lr._fromJSON(e,g);f!==o&&(c=y),o=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Na(o,e,r):(o=h[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Na(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(bE(e))return"Webos";if(vE(e))return"Safari";if((e.includes("chrome/")||wE(e))&&!e.includes("edge/"))return"Chrome";if(TE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _E(n=rn()){return/firefox\//i.test(n)}function vE(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wE(n=rn()){return/crios\//i.test(n)}function xE(n=rn()){return/iemobile/i.test(n)}function TE(n=rn()){return/android/i.test(n)}function EE(n=rn()){return/blackberry/i.test(n)}function bE(n=rn()){return/webos/i.test(n)}function bm(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CP(n=rn()){return bm(n)&&!!window.navigator?.standalone}function RP(){return ck()&&document.documentMode===10}function IE(n=rn()){return bm(n)||TE(n)||bE(n)||EE(n)||/windows phone/i.test(n)||xE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(n,e=[]){let t;switch(n){case"Browser":t=bv(rn());break;case"Worker":t=`${bv(rn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,c)=>{try{const h=e(o);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(n,e={}){return Ii(n,"GET","/v2/passwordPolicy",bs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=6;class OP{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??DP,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Iv(this),this.idTokenSubscription=new Iv(this),this.beforeStateQueue=new PP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await sd(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(mi(this));const t=e?kt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NP(this),t=new OP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ko("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await AP(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&pi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&uP(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Co(n){return kt(n)}class Iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mk(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LP(n){zd=n}function kE(n){return zd.loadJS(n)}function VP(){return zd.recaptchaEnterpriseScript}function FP(){return zd.gapiScript}function jP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class UP{constructor(){this.enterprise=new zP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BP="recaptcha-enterprise",AE="NO_RECAPTCHA";class $P{constructor(e){this.type=BP,this.auth=Co(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{wP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new vP(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(o,l,c){const h=window.grecaptcha;wv(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(AE)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!t&&wv(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=VP();h.length!==0&&(h+=c),kE(h).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function Sv(n,e,t,r=!1,i=!1){const o=new $P(n);let l;if(i)l=AE;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Rg(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Sv(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Sv(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(n,e){const t=Bc(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(fo(o,e??{}))return i;hr(i,"already-initialized")}return t.initialize({options:e})}function WP(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(pi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qP(n,e,t){const r=Co(n);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=CE(e),{host:l,port:c}=KP(e),h=c===null?"":`:${c}`,f={url:`${o}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(fo(f,r.config.emulator)&&fo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,So(l)?(gT(`${o}//${l}${h}`),mT("Auth",!0)):GP()}function CE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KP(n){const e=CE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:kv(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:kv(l)}}}function kv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function GP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function QP(n,e){return Ii(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(n,e){return Hc(n,"POST","/v1/accounts:signInWithPassword",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,e))}async function JP(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends Im{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new bc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,t,"signInWithPassword",YP);case"emailLink":return XP(e,{email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rg(e,r,"signUpPassword",QP);case"emailLink":return JP(e,{idToken:t,email:this._email,oobCode:this._password});default:hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(n,e){return Hc(n,"POST","/v1/accounts:signInWithIdp",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class yo extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=t;if(!r||!i)return null;const l=new yo(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Da(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Da(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Da(e,t)}buildRequest(){const e={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t2(n){const e=rc(ic(n)).link,t=e?rc(ic(e)).deep_link_id:null,r=rc(ic(n)).deep_link_id;return(r?rc(ic(r)).link:null)||r||t||e||n}class Sm{constructor(e){const t=rc(ic(e)),r=t.apiKey??null,i=t.oobCode??null,o=e2(t.mode??null);Te(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=t2(e);try{return new Sm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.providerId=Ga.PROVIDER_ID}static credential(e,t){return bc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Sm.parseLink(t);return Te(r,"argument-error"),bc._fromEmailAndCode(e,r.code,r.tenantId)}}Ga.PROVIDER_ID="password";Ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends RE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Wc{constructor(){super("facebook.com")}static credential(e){return yo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yo._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ss.credential(t,r)}catch{return null}}}ss.GOOGLE_SIGN_IN_METHOD="google.com";ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Wc{constructor(){super("github.com")}static credential(e){return yo._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Wc{constructor(){super("twitter.com")}static credential(e,t){return yo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return as.credential(t,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(n,e){return Hc(n,"POST","/v1/accounts:signUp",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await lr._fromIdTokenResponse(e,r,i),l=Av(r);return new _o({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=Av(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function Av(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends Yn{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ad.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new ad(e,t,r,i)}}function PE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ad._fromErrorAndOperation(n,o,e,r):o})}async function r2(n,e,t=!1){const r=await ja(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _o._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(n,e,t=!1){const{auth:r}=n;if(Pn(r.app))return Promise.reject(mi(r));const i="reauthenticate";try{const o=await ja(n,PE(r,i,e,n),t);Te(o.idToken,r,"internal-error");const l=Em(o.idToken);Te(l,r,"internal-error");const{sub:c}=l;return Te(n.uid===c,r,"user-mismatch"),_o._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&hr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NE(n,e,t=!1){if(Pn(n.app))return Promise.reject(mi(n));const r="signIn",i=await PE(n,r,e),o=await _o._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function s2(n,e){return NE(Co(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(n){const e=Co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o2(n,e,t){if(Pn(n.app))return Promise.reject(mi(n));const r=Co(n),l=await Rg(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n2).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&DE(n),h}),c=await _o._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function a2(n,e,t){return Pn(n.app)?Promise.reject(mi(n)):s2(kt(n),Ga.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DE(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(n,e){return Ii(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=kt(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ja(r,l2(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function u2(n,e,t,r){return kt(n).onIdTokenChanged(e,t,r)}function h2(n,e,t){return kt(n).beforeAuthStateChanged(e,t)}function d2(n,e,t,r){return kt(n).onAuthStateChanged(e,t,r)}function f2(n){return kt(n).signOut()}const ld="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ld,"1"),this.storage.removeItem(ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1e3,g2=10;class ME extends OE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);RP()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,g2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},p2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ME.type="LOCAL";const m2=ME;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends OE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LE.type="SESSION";const VE=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,o)),h=await y2(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,h)=>{const f=km("",20);i.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(g),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function v2(n){Vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x2(){return navigator?.serviceWorker?.controller||null}function T2(){return FE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="firebaseLocalStorageDb",E2=1,cd="firebaseLocalStorage",UE="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $d(n,e){return n.transaction([cd],e?"readwrite":"readonly").objectStore(cd)}function b2(){const n=indexedDB.deleteDatabase(jE);return new qc(n).toPromise()}function Pg(){const n=indexedDB.open(jE,E2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(cd,{keyPath:UE})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(cd)?e(r):(r.close(),await b2(),e(await Pg()))})})}async function Cv(n,e,t){const r=$d(n,!0).put({[UE]:e,value:t});return new qc(r).toPromise()}async function I2(n,e){const t=$d(n,!1).get(e),r=await new qc(t).toPromise();return r===void 0?null:r.value}function Rv(n,e){const t=$d(n,!0).delete(e);return new qc(t).toPromise()}const S2=800,k2=3;class zE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>k2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await Cv(e,ld,"1"),await Rv(e,ld),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>I2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=$d(i,!1).getAll();return new qc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zE.type="LOCAL";const A2=zE;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n,e){return e?pi(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Da(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function R2(n){return NE(n.auth,new Am(n),n.bypassAuthState)}function P2(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),i2(t,new Am(n),n.bypassAuthState)}async function N2(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),r2(t,new Am(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return P2;default:hr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new $c(2e3,1e4);class Ca extends BE{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ca.currentPopupAction&&Ca.currentPopupAction.cancel(),Ca.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ca.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D2.get())};e()}}Ca.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="pendingRedirect",Hh=new Map;class M2 extends BE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const r=await L2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L2(n,e){const t=j2(e),r=F2(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function V2(n,e){Hh.set(n._key(),e)}function F2(n){return pi(n._redirectPersistence)}function j2(n){return $h(O2,n.config.apiKey,n.name)}async function U2(n,e,t=!1){if(Pn(n.app))return Promise.reject(mi(n));const r=Co(n),i=C2(r,e),l=await new M2(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=600*1e3;class B2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!$E(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Lr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pv(e))}saveEventToCache(e){this.cachedEventUids.add(Pv(e)),this.lastProcessedEventTime=Date.now()}}function Pv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $E({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $E(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(n,e={}){return Ii(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q2=/^https?/;async function K2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await H2(n);for(const t of e)try{if(G2(t))return}catch{}hr(n,"unauthorized-domain")}function G2(n){const e=Ag(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!q2.test(t))return!1;if(W2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=new $c(3e4,6e4);function Nv(){const n=Vr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Y2(n){return new Promise((e,t)=>{function r(){Nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Nv(),t(Lr(n,"network-request-failed"))},timeout:Q2.get()})}if(Vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vr().gapi?.load)r();else{const i=jP("iframefcb");return Vr()[i]=()=>{gapi.load?r():t(Lr(n,"network-request-failed"))},kE(`${FP()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw Wh=null,e})}let Wh=null;function X2(n){return Wh=Wh||Y2(n),Wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new $c(5e3,15e3),Z2="__/auth/iframe",eN="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rN(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tm(e,eN):`https://${n.config.authDomain}/${Z2}`,r={apiKey:e.apiKey,appName:n.name,v:Ao},i=nN.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${zc(r).slice(1)}`}async function iN(n){const e=await X2(n),t=Vr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:rN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Lr(n,"network-request-failed"),c=Vr().setTimeout(()=>{o(l)},J2.get());function h(){Vr().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oN=500,aN=600,lN="_blank",cN="http://localhost";class Dv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uN(n,e,t,r=oN,i=aN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...sN,width:r.toString(),height:i.toString(),top:o,left:l},f=rn().toLowerCase();t&&(c=wE(f)?lN:t),_E(f)&&(e=e||cN,h.scrollbars="yes");const g=Object.entries(h).reduce((w,[T,N])=>`${w}${T}=${N},`,"");if(CP(f)&&c!=="_self")return hN(e||"",c),new Dv(null);const y=window.open(e||"",c,g);Te(y,n,"popup-blocked");try{y.focus()}catch{}return new Dv(y)}function hN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="__/auth/handler",fN="emulator/auth/handler",pN=encodeURIComponent("fac");async function Ov(n,e,t,r,i,o){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ao,eventId:i};if(e instanceof RE){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",gk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof Wc){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await n._getAppCheckToken(),f=h?`#${pN}=${encodeURIComponent(h)}`:"";return`${gN(n)}?${zc(c).slice(1)}${f}`}function gN({config:n}){return n.emulator?Tm(n,fN):`https://${n.authDomain}/${dN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class mN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VE,this._completeRedirectFn=U2,this._overrideRedirectResult=V2}async _openPopup(e,t,r,i){wi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Ov(e,t,r,Ag(),i);return uN(e,o,km())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await Ov(e,t,r,Ag(),i);return v2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(wi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await iN(e),r=new B2(e);return t.register("authEvent",i=>(Te(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jp,{type:Jp},i=>{const o=i?.[0]?.[Jp];o!==void 0&&t(!!o),hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=K2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return IE()||vE()||bm()}}const yN=mN;var Mv="@firebase/auth",Lv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(n){ur(new Kn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Te(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SE(n)},f=new MP(r,i,o,h);return WP(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Kn("auth-internal",e=>{const t=Co(e.getProvider("auth").getImmediate());return(r=>new _N(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),xn(Mv,Lv,vN(n)),xn(Mv,Lv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=300,TN=pT("authIdTokenMaxAge")||xN;let Vv=null;const EN=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>TN)return;const i=t?.token;Vv!==i&&(Vv=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bN(n=bT()){const e=Bc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=HP(n,{popupRedirectResolver:yN,persistence:[A2,m2,VE]}),r=pT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=EN(o.toString());h2(t,l,()=>l(t.currentUser)),u2(t,c=>l(c))}}const i=dT("auth");return i&&qP(t,`http://${i}`),t}function IN(){return document.getElementsByTagName("head")?.[0]??document}LP({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",IN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,HE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,b){function D(){}D.prototype=b.prototype,R.F=b.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(P,C,L){for(var O=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)O[ke-2]=arguments[ke];return b.prototype[C].apply(P,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,b,D){D||(D=0);const P=Array(16);if(typeof b=="string")for(var C=0;C<16;++C)P[C]=b.charCodeAt(D++)|b.charCodeAt(D++)<<8|b.charCodeAt(D++)<<16|b.charCodeAt(D++)<<24;else for(C=0;C<16;++C)P[C]=b[D++]|b[D++]<<8|b[D++]<<16|b[D++]<<24;b=R.g[0],D=R.g[1],C=R.g[2];let L=R.g[3],O;O=b+(L^D&(C^L))+P[0]+3614090360&4294967295,b=D+(O<<7&4294967295|O>>>25),O=L+(C^b&(D^C))+P[1]+3905402710&4294967295,L=b+(O<<12&4294967295|O>>>20),O=C+(D^L&(b^D))+P[2]+606105819&4294967295,C=L+(O<<17&4294967295|O>>>15),O=D+(b^C&(L^b))+P[3]+3250441966&4294967295,D=C+(O<<22&4294967295|O>>>10),O=b+(L^D&(C^L))+P[4]+4118548399&4294967295,b=D+(O<<7&4294967295|O>>>25),O=L+(C^b&(D^C))+P[5]+1200080426&4294967295,L=b+(O<<12&4294967295|O>>>20),O=C+(D^L&(b^D))+P[6]+2821735955&4294967295,C=L+(O<<17&4294967295|O>>>15),O=D+(b^C&(L^b))+P[7]+4249261313&4294967295,D=C+(O<<22&4294967295|O>>>10),O=b+(L^D&(C^L))+P[8]+1770035416&4294967295,b=D+(O<<7&4294967295|O>>>25),O=L+(C^b&(D^C))+P[9]+2336552879&4294967295,L=b+(O<<12&4294967295|O>>>20),O=C+(D^L&(b^D))+P[10]+4294925233&4294967295,C=L+(O<<17&4294967295|O>>>15),O=D+(b^C&(L^b))+P[11]+2304563134&4294967295,D=C+(O<<22&4294967295|O>>>10),O=b+(L^D&(C^L))+P[12]+1804603682&4294967295,b=D+(O<<7&4294967295|O>>>25),O=L+(C^b&(D^C))+P[13]+4254626195&4294967295,L=b+(O<<12&4294967295|O>>>20),O=C+(D^L&(b^D))+P[14]+2792965006&4294967295,C=L+(O<<17&4294967295|O>>>15),O=D+(b^C&(L^b))+P[15]+1236535329&4294967295,D=C+(O<<22&4294967295|O>>>10),O=b+(C^L&(D^C))+P[1]+4129170786&4294967295,b=D+(O<<5&4294967295|O>>>27),O=L+(D^C&(b^D))+P[6]+3225465664&4294967295,L=b+(O<<9&4294967295|O>>>23),O=C+(b^D&(L^b))+P[11]+643717713&4294967295,C=L+(O<<14&4294967295|O>>>18),O=D+(L^b&(C^L))+P[0]+3921069994&4294967295,D=C+(O<<20&4294967295|O>>>12),O=b+(C^L&(D^C))+P[5]+3593408605&4294967295,b=D+(O<<5&4294967295|O>>>27),O=L+(D^C&(b^D))+P[10]+38016083&4294967295,L=b+(O<<9&4294967295|O>>>23),O=C+(b^D&(L^b))+P[15]+3634488961&4294967295,C=L+(O<<14&4294967295|O>>>18),O=D+(L^b&(C^L))+P[4]+3889429448&4294967295,D=C+(O<<20&4294967295|O>>>12),O=b+(C^L&(D^C))+P[9]+568446438&4294967295,b=D+(O<<5&4294967295|O>>>27),O=L+(D^C&(b^D))+P[14]+3275163606&4294967295,L=b+(O<<9&4294967295|O>>>23),O=C+(b^D&(L^b))+P[3]+4107603335&4294967295,C=L+(O<<14&4294967295|O>>>18),O=D+(L^b&(C^L))+P[8]+1163531501&4294967295,D=C+(O<<20&4294967295|O>>>12),O=b+(C^L&(D^C))+P[13]+2850285829&4294967295,b=D+(O<<5&4294967295|O>>>27),O=L+(D^C&(b^D))+P[2]+4243563512&4294967295,L=b+(O<<9&4294967295|O>>>23),O=C+(b^D&(L^b))+P[7]+1735328473&4294967295,C=L+(O<<14&4294967295|O>>>18),O=D+(L^b&(C^L))+P[12]+2368359562&4294967295,D=C+(O<<20&4294967295|O>>>12),O=b+(D^C^L)+P[5]+4294588738&4294967295,b=D+(O<<4&4294967295|O>>>28),O=L+(b^D^C)+P[8]+2272392833&4294967295,L=b+(O<<11&4294967295|O>>>21),O=C+(L^b^D)+P[11]+1839030562&4294967295,C=L+(O<<16&4294967295|O>>>16),O=D+(C^L^b)+P[14]+4259657740&4294967295,D=C+(O<<23&4294967295|O>>>9),O=b+(D^C^L)+P[1]+2763975236&4294967295,b=D+(O<<4&4294967295|O>>>28),O=L+(b^D^C)+P[4]+1272893353&4294967295,L=b+(O<<11&4294967295|O>>>21),O=C+(L^b^D)+P[7]+4139469664&4294967295,C=L+(O<<16&4294967295|O>>>16),O=D+(C^L^b)+P[10]+3200236656&4294967295,D=C+(O<<23&4294967295|O>>>9),O=b+(D^C^L)+P[13]+681279174&4294967295,b=D+(O<<4&4294967295|O>>>28),O=L+(b^D^C)+P[0]+3936430074&4294967295,L=b+(O<<11&4294967295|O>>>21),O=C+(L^b^D)+P[3]+3572445317&4294967295,C=L+(O<<16&4294967295|O>>>16),O=D+(C^L^b)+P[6]+76029189&4294967295,D=C+(O<<23&4294967295|O>>>9),O=b+(D^C^L)+P[9]+3654602809&4294967295,b=D+(O<<4&4294967295|O>>>28),O=L+(b^D^C)+P[12]+3873151461&4294967295,L=b+(O<<11&4294967295|O>>>21),O=C+(L^b^D)+P[15]+530742520&4294967295,C=L+(O<<16&4294967295|O>>>16),O=D+(C^L^b)+P[2]+3299628645&4294967295,D=C+(O<<23&4294967295|O>>>9),O=b+(C^(D|~L))+P[0]+4096336452&4294967295,b=D+(O<<6&4294967295|O>>>26),O=L+(D^(b|~C))+P[7]+1126891415&4294967295,L=b+(O<<10&4294967295|O>>>22),O=C+(b^(L|~D))+P[14]+2878612391&4294967295,C=L+(O<<15&4294967295|O>>>17),O=D+(L^(C|~b))+P[5]+4237533241&4294967295,D=C+(O<<21&4294967295|O>>>11),O=b+(C^(D|~L))+P[12]+1700485571&4294967295,b=D+(O<<6&4294967295|O>>>26),O=L+(D^(b|~C))+P[3]+2399980690&4294967295,L=b+(O<<10&4294967295|O>>>22),O=C+(b^(L|~D))+P[10]+4293915773&4294967295,C=L+(O<<15&4294967295|O>>>17),O=D+(L^(C|~b))+P[1]+2240044497&4294967295,D=C+(O<<21&4294967295|O>>>11),O=b+(C^(D|~L))+P[8]+1873313359&4294967295,b=D+(O<<6&4294967295|O>>>26),O=L+(D^(b|~C))+P[15]+4264355552&4294967295,L=b+(O<<10&4294967295|O>>>22),O=C+(b^(L|~D))+P[6]+2734768916&4294967295,C=L+(O<<15&4294967295|O>>>17),O=D+(L^(C|~b))+P[13]+1309151649&4294967295,D=C+(O<<21&4294967295|O>>>11),O=b+(C^(D|~L))+P[4]+4149444226&4294967295,b=D+(O<<6&4294967295|O>>>26),O=L+(D^(b|~C))+P[11]+3174756917&4294967295,L=b+(O<<10&4294967295|O>>>22),O=C+(b^(L|~D))+P[2]+718787259&4294967295,C=L+(O<<15&4294967295|O>>>17),O=D+(L^(C|~b))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(C+(O<<21&4294967295|O>>>11))&4294967295,R.g[2]=R.g[2]+C&4294967295,R.g[3]=R.g[3]+L&4294967295}r.prototype.v=function(R,b){b===void 0&&(b=R.length);const D=b-this.blockSize,P=this.C;let C=this.h,L=0;for(;L<b;){if(C==0)for(;L<=D;)i(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<b;)if(P[C++]=R.charCodeAt(L++),C==this.blockSize){i(this,P),C=0;break}}else for(;L<b;)if(P[C++]=R[L++],C==this.blockSize){i(this,P),C=0;break}}this.h=C,this.o+=b},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)R[b++]=this.g[D]>>>P&255;return R};function o(R,b){var D=c;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=b(R)}function l(R,b){this.h=b;const D=[];let P=!0;for(let C=R.length-1;C>=0;C--){const L=R[C]|0;P&&L==b||(D[C]=L,P=!1)}this.g=D}var c={};function h(R){return-128<=R&&R<128?o(R,function(b){return new l([b|0],b<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return I(f(-R));const b=[];let D=1;for(let P=0;R>=D;P++)b[P]=R/D|0,D*=4294967296;return new l(b,0)}function g(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return I(g(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(b,8));let P=y;for(let L=0;L<R.length;L+=8){var C=Math.min(8,R.length-L);const O=parseInt(R.substring(L,L+C),b);C<8?(C=f(Math.pow(b,C)),P=P.j(C).add(f(O))):(P=P.j(D),P=P.add(f(O)))}return P}var y=h(0),w=h(1),T=h(16777216);n=l.prototype,n.m=function(){if(A(this))return-I(this).m();let R=0,b=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);R+=(P>=0?P:4294967296+P)*b,b*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(A(this))return"-"+I(this).toString(R);const b=f(Math.pow(R,6));var D=this;let P="";for(;;){const C=B(D,b).g;D=V(D,C.j(b));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=C,N(D))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=V(this,R),A(R)?-1:N(R)?0:1};function I(R){const b=R.g.length,D=[];for(let P=0;P<b;P++)D[P]=~R.g[P];return new l(D,~R.h).add(w)}n.abs=function(){return A(this)?I(this):this},n.add=function(R){const b=Math.max(this.g.length,R.g.length),D=[];let P=0;for(let C=0;C<=b;C++){let L=P+(this.i(C)&65535)+(R.i(C)&65535),O=(L>>>16)+(this.i(C)>>>16)+(R.i(C)>>>16);P=O>>>16,L&=65535,O&=65535,D[C]=O<<16|L}return new l(D,D[D.length-1]&-2147483648?-1:0)};function V(R,b){return R.add(I(b))}n.j=function(R){if(N(this)||N(R))return y;if(A(this))return A(R)?I(this).j(I(R)):I(I(this).j(R));if(A(R))return I(this.j(I(R)));if(this.l(T)<0&&R.l(T)<0)return f(this.m()*R.m());const b=this.g.length+R.g.length,D=[];for(var P=0;P<2*b;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let C=0;C<R.g.length;C++){const L=this.i(P)>>>16,O=this.i(P)&65535,ke=R.i(C)>>>16,me=R.i(C)&65535;D[2*P+2*C]+=O*me,F(D,2*P+2*C),D[2*P+2*C+1]+=L*me,F(D,2*P+2*C+1),D[2*P+2*C+1]+=O*ke,F(D,2*P+2*C+1),D[2*P+2*C+2]+=L*ke,F(D,2*P+2*C+2)}for(R=0;R<b;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=b;R<2*b;R++)D[R]=0;return new l(D,0)};function F(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function U(R,b){this.g=R,this.h=b}function B(R,b){if(N(b))throw Error("division by zero");if(N(R))return new U(y,y);if(A(R))return b=B(I(R),b),new U(I(b.g),I(b.h));if(A(b))return b=B(R,I(b)),new U(I(b.g),b.h);if(R.g.length>30){if(A(R)||A(b))throw Error("slowDivide_ only works with positive integers.");for(var D=w,P=b;P.l(R)<=0;)D=q(D),P=q(P);var C=Y(D,1),L=Y(P,1);for(P=Y(P,2),D=Y(D,2);!N(P);){var O=L.add(P);O.l(R)<=0&&(C=C.add(D),L=O),P=Y(P,1),D=Y(D,1)}return b=V(R,C.j(b)),new U(C,b)}for(C=y;R.l(b)>=0;){for(D=Math.max(1,Math.floor(R.m()/b.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=f(D),O=L.j(b);A(O)||O.l(R)>0;)D-=P,L=f(D),O=L.j(b);N(L)&&(L=w),C=C.add(L),R=V(R,O)}return new U(C,R)}n.B=function(R){return B(this,R).h},n.and=function(R){const b=Math.max(this.g.length,R.g.length),D=[];for(let P=0;P<b;P++)D[P]=this.i(P)&R.i(P);return new l(D,this.h&R.h)},n.or=function(R){const b=Math.max(this.g.length,R.g.length),D=[];for(let P=0;P<b;P++)D[P]=this.i(P)|R.i(P);return new l(D,this.h|R.h)},n.xor=function(R){const b=Math.max(this.g.length,R.g.length),D=[];for(let P=0;P<b;P++)D[P]=this.i(P)^R.i(P);return new l(D,this.h^R.h)};function q(R){const b=R.g.length+1,D=[];for(let P=0;P<b;P++)D[P]=R.i(P)<<1|R.i(P-1)>>>31;return new l(D,R.h)}function Y(R,b){const D=b>>5;b%=32;const P=R.g.length-D,C=[];for(let L=0;L<P;L++)C[L]=b>0?R.i(L+D)>>>b|R.i(L+D+1)<<32-b:R.i(L+D);return new l(C,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=g,ps=l}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WE,sc,qE,qh,Ng,KE,GE,QE;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var v=0;v<d.length;++v){var x=d[v];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function i(d,v){if(v)e:{var x=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var W=d[k];if(!(W in x))break e;x=x[W]}d=d[d.length-1],k=x[d],v=v(k),v!=k&&v!=null&&e(x,d,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(d){return d||function(v){var x=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&x.push([k,v[k]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function h(d,v,x){return d.call.apply(d.bind,arguments)}function f(d,v,x){return f=h,f.apply(null,arguments)}function g(d,v){var x=Array.prototype.slice.call(arguments,1);return function(){var k=x.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function y(d,v){function x(){}x.prototype=v.prototype,d.Z=v.prototype,d.prototype=new x,d.prototype.constructor=d,d.Ob=function(k,W,Q){for(var se=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)se[Re-2]=arguments[Re];return v.prototype[W].apply(k,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function T(d){const v=d.length;if(v>0){const x=Array(v);for(let k=0;k<v;k++)x[k]=d[k];return x}return[]}function N(d,v){for(let k=1;k<arguments.length;k++){const W=arguments[k];var x=typeof W;if(x=x!="object"?x:W?Array.isArray(W)?"array":x:"null",x=="array"||x=="object"&&typeof W.length=="number"){x=d.length||0;const Q=W.length||0;d.length=x+Q;for(let se=0;se<Q;se++)d[x+se]=W[se]}else d.push(W)}}class A{constructor(v,x){this.i=v,this.j=x,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(d){l.setTimeout(()=>{throw d},0)}function V(){var d=R;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,x){const k=U.get();k.set(v,x),this.h?this.h.next=k:this.g=k,this.h=k}}var U=new A(()=>new B,d=>d.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,x){this.h=v,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let q,Y=!1,R=new F,b=()=>{const d=Promise.resolve(void 0);q=()=>{d.then(D)}};function D(){for(var d;d=V();){try{d.h.call(d.g)}catch(x){I(x)}var v=U;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}Y=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const x=()=>{};l.addEventListener("test",x,v),l.removeEventListener("test",x,v)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function ke(d,v){C.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}y(ke,C),ke.prototype.init=function(d,v){const x=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(x=="mouseover"?v=d.fromElement:x=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Ae=0;function we(d,v,x,k,W){this.listener=d,this.proxy=null,this.src=v,this.type=x,this.capture=!!k,this.ha=W,this.key=++Ae,this.da=this.fa=!1}function re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ae(d,v,x){for(const k in d)v.call(x,d[k],k,d)}function oe(d,v){for(const x in d)v.call(void 0,d[x],x,d)}function $(d){const v={};for(const x in d)v[x]=d[x];return v}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(d,v){let x,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(x in k)d[x]=k[x];for(let Q=0;Q<X.length;Q++)x=X[Q],Object.prototype.hasOwnProperty.call(k,x)&&(d[x]=k[x])}}function xe(d){this.src=d,this.g={},this.h=0}xe.prototype.add=function(d,v,x,k,W){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const se=Ce(d,v,k,W);return se>-1?(v=d[se],x||(v.fa=!1)):(v=new we(v,this.src,Q,!!k,W),v.fa=x,d.push(v)),v};function Ne(d,v){const x=v.type;if(x in d.g){var k=d.g[x],W=Array.prototype.indexOf.call(k,v,void 0),Q;(Q=W>=0)&&Array.prototype.splice.call(k,W,1),Q&&(re(v),d.g[x].length==0&&(delete d.g[x],d.h--))}}function Ce(d,v,x,k){for(let W=0;W<d.length;++W){const Q=d[W];if(!Q.da&&Q.listener==v&&Q.capture==!!x&&Q.ha==k)return W}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ye(d,v,x,k,W){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)Ye(d,v[Q],x,k,W);return null}return x=rl(x),d&&d[me]?d.J(v,x,c(k)?!!k.capture:!1,W):sn(d,v,x,!1,k,W)}function sn(d,v,x,k,W,Q){if(!v)throw Error("Invalid event type");const se=c(W)?!!W.capture:!!W;let Re=Vo(d);if(Re||(d[qe]=Re=new xe(d)),x=Re.add(v,x,k,se,Q),x.proxy)return x;if(k=Mo(),x.proxy=k,k.src=d,k.listener=x,d.addEventListener)L||(W=se),W===void 0&&(W=!1),d.addEventListener(v.toString(),k,W);else if(d.attachEvent)d.attachEvent(Lo(v.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Mo(){function d(x){return v.call(d.src,d.listener,x)}const v=nu;return d}function nl(d,v,x,k,W){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)nl(d,v[Q],x,k,W);else k=c(k)?!!k.capture:!!k,x=rl(x),d&&d[me]?(d=d.i,Q=String(v).toString(),Q in d.g&&(v=d.g[Q],x=Ce(v,x,k,W),x>-1&&(re(v[x]),Array.prototype.splice.call(v,x,1),v.length==0&&(delete d.g[Q],d.h--)))):d&&(d=Vo(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ce(v,x,k,W)),(x=d>-1?v[d]:null)&&Si(x))}function Si(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[me])Ne(v.i,d);else{var x=d.type,k=d.proxy;v.removeEventListener?v.removeEventListener(x,k,d.capture):v.detachEvent?v.detachEvent(Lo(x),k):v.addListener&&v.removeListener&&v.removeListener(k),(x=Vo(v))?(Ne(x,d),x.h==0&&(x.src=null,v[qe]=null)):re(d)}}}function Lo(d){return d in Ue?Ue[d]:Ue[d]="on"+d}function nu(d,v){if(d.da)d=!0;else{v=new ke(v,this);const x=d.listener,k=d.ha||d.src;d.fa&&Si(d),d=x.call(k,v)}return d}function Vo(d){return d=d[qe],d instanceof xe?d:null}var Is="__closure_events_fn_"+(Math.random()*1e9>>>0);function rl(d){return typeof d=="function"?d:(d[Is]||(d[Is]=function(v){return d.handleEvent(v)}),d[Is])}function xt(){P.call(this),this.i=new xe(this),this.M=this,this.G=null}y(xt,P),xt.prototype[me]=!0,xt.prototype.removeEventListener=function(d,v,x,k){nl(this,d,v,x,k)};function mt(d,v){var x,k=d.G;if(k)for(x=[];k;k=k.G)x.push(k);if(d=d.M,k=v.type||v,typeof v=="string")v=new C(v,d);else if(v instanceof C)v.target=v.target||d;else{var W=v;v=new C(k,d),be(v,W)}W=!0;let Q,se;if(x)for(se=x.length-1;se>=0;se--)Q=v.g=x[se],W=Xn(Q,k,!0,v)&&W;if(Q=v.g=d,W=Xn(Q,k,!0,v)&&W,W=Xn(Q,k,!1,v)&&W,x)for(se=0;se<x.length;se++)Q=v.g=x[se],W=Xn(Q,k,!1,v)&&W}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const x=d.g[v];for(let k=0;k<x.length;k++)re(x[k]);delete d.g[v],d.h--}}this.G=null},xt.prototype.J=function(d,v,x,k){return this.i.add(String(d),v,!1,x,k)},xt.prototype.K=function(d,v,x,k){return this.i.add(String(d),v,!0,x,k)};function Xn(d,v,x,k){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let Q=0;Q<v.length;++Q){const se=v[Q];if(se&&!se.da&&se.capture==x){const Re=se.listener,yt=se.ha||se.src;se.fa&&Ne(d.i,se),W=Re.call(yt,k)!==!1&&W}}return W&&!k.defaultPrevented}function il(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=f(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(d,v||0)}function sl(d){d.g=il(()=>{d.g=null,d.i&&(d.i=!1,sl(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class ru extends P{constructor(v,x){super(),this.m=v,this.l=x,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:sl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(d){P.call(this),this.h=d,this.g={}}y(ki,P);var ol=[];function Fo(d){ae(d.g,function(v,x){this.g.hasOwnProperty(x)&&Si(v)},d),d.g={}}ki.prototype.N=function(){ki.Z.N.call(this),Fo(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ai=l.JSON.stringify,iu=l.JSON.parse,Ss=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Ci(){}function su(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jo(){C.call(this,"d")}y(jo,C);function al(){C.call(this,"c")}y(al,C);var Jn={},Uo=null;function Pi(){return Uo=Uo||new xt}Jn.Ia="serverreachability";function zo(d){C.call(this,Jn.Ia,d)}y(zo,C);function Hr(d){const v=Pi();mt(v,new zo(v))}Jn.STAT_EVENT="statevent";function Wr(d,v){C.call(this,Jn.STAT_EVENT,d),this.stat=v}y(Wr,C);function dt(d){const v=Pi();mt(v,new Wr(v,d))}Jn.Ja="timingevent";function ll(d,v){C.call(this,Jn.Ja,d),this.size=v}y(ll,C);function Ni(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},v)}function Di(){this.g=!0}Di.prototype.ua=function(){this.g=!1};function ou(d,v,x,k,W,Q){d.info(function(){if(d.g)if(Q){var se="",Re=Q.split("&");for(let Ge=0;Ge<Re.length;Ge++){var yt=Re[Ge].split("=");if(yt.length>1){const Tt=yt[0];yt=yt[1];const kn=Tt.split("_");se=kn.length>=2&&kn[1]=="type"?se+(Tt+"="+yt+"&"):se+(Tt+"=redacted&")}}}else se=null;else se=Q;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+v+`
`+x+`
`+se})}function au(d,v,x,k,W,Q,se){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+v+`
`+x+`
`+Q+" "+se})}function dr(d,v,x,k){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+ks(d,x)+(k?" "+k:"")})}function lu(d,v){d.info(function(){return"TIMEOUT: "+v})}Di.prototype.info=function(){};function ks(d,v){if(!d.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var x=Q[d];if(!(x.length<2)){var k=x[1];if(Array.isArray(k)&&!(k.length<1)){var W=k[0];if(W!="noop"&&W!="stop"&&W!="close")for(let se=1;se<k.length;se++)k[se]=""}}}}return Ai(Q)}catch{return v}}var Oi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cu;function qr(){}y(qr,Ci),qr.prototype.g=function(){return new XMLHttpRequest},cu=new qr;function fr(d){return encodeURIComponent(String(d))}function Bo(d){var v=1;d=d.split(":");const x=[];for(;v>0&&d.length;)x.push(d.shift()),v--;return d.length&&x.push(d.join(":")),x}function On(d,v,x,k){this.j=d,this.i=v,this.l=x,this.S=k||1,this.V=new ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}var hu={},cl={};function Zn(d,v,x){d.M=1,d.A=Gr(Mn(v)),d.u=x,d.R=!0,ul(d,null)}function ul(d,v){d.F=Date.now(),As(d),d.B=Mn(d.A);var x=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),wl(x.i,"t",k),d.C=0,x=d.j.L,d.h=new uu,d.g=xu(d.j,x?v:null,!d.u),d.P>0&&(d.O=new ru(f(d.Y,d,d.g),d.P)),v=d.V,x=d.g,k=d.ba;var W="readystatechange";Array.isArray(W)||(W&&(ol[0]=W.toString()),W=ol);for(let Q=0;Q<W.length;Q++){const se=Ye(x,W[Q],k||v.handleEvent,!1,v.h||v);if(!se)break;v.g[se.key]=se}v=d.J?$(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Hr(),ou(d.i,d.v,d.B,d.l,d.S,d.u)}On.prototype.ba=function(d){d=d.target;const v=this.O;v&&wr(d)==3?v.j():this.Y(d)},On.prototype.Y=function(d){try{if(d==this.g)e:{const Re=wr(this.g),yt=this.g.ya(),Ge=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||vu(this.g)))){this.K||Re!=4||yt==7||(yt==8||Ge<=0?Hr(3):Hr(2)),$o(this);var v=this.g.ca();this.X=v;var x=du(this);if(this.o=v==200,au(this.i,this.v,this.B,this.l,this.S,Re,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,W=this.g;if((k=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var Q=k;break t}}Q=null}if(d=Q)dr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,nt(this,d);else{this.o=!1,this.m=3,dt(12),Kr(this),Cs(this);break e}}if(this.R){d=!0;let Tt;for(;!this.K&&this.C<x.length;)if(Tt=pu(this,x),Tt==cl){Re==4&&(this.m=4,dt(14),d=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==hu){this.m=4,dt(15),dr(this.i,this.l,x,"[Invalid Chunk]"),d=!1;break}else dr(this.i,this.l,Tt,null),nt(this,Tt);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||x.length!=0||this.h.h||(this.m=1,dt(16),d=!1),this.o=this.o&&d,!d)dr(this.i,this.l,x,"[Invalid Chunked Response]"),Kr(this),Cs(this);else if(x.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Fs(se),se.P=!0,dt(11))}}else dr(this.i,this.l,x,null),nt(this,x);Re==4&&Kr(this),this.o&&!this.K&&(Re==4?Zo(this.j,this):(this.o=!1,As(this)))}else Tl(this.g),v==400&&x.indexOf("Unknown SID")>0?(this.m=3,dt(12)):(this.m=0,dt(13)),Kr(this),Cs(this)}}}catch{}finally{}};function du(d){if(!fu(d))return d.g.la();const v=vu(d.g);if(v==="")return"";let x="";const k=v.length,W=wr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Kr(d),Cs(d),"";d.h.i=new l.TextDecoder}for(let Q=0;Q<k;Q++)d.h.h=!0,x+=d.h.i.decode(v[Q],{stream:!(W&&Q==k-1)});return v.length=0,d.h.g+=x,d.C=0,d.h.g}function fu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function pu(d,v){var x=d.C,k=v.indexOf(`
`,x);return k==-1?cl:(x=Number(v.substring(x,k)),isNaN(x)?hu:(k+=1,k+x>v.length?cl:(v=v.slice(k,k+x),d.C=k+x,v)))}On.prototype.cancel=function(){this.K=!0,Kr(this)};function As(d){d.T=Date.now()+d.H,hl(d,d.H)}function hl(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ni(f(d.aa,d),v)}function $o(d){d.D&&(l.clearTimeout(d.D),d.D=null)}On.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(lu(this.i,this.B),this.M!=2&&(Hr(),dt(17)),Kr(this),this.m=2,Cs(this)):hl(this,this.T-d)};function Cs(d){d.j.I==0||d.K||Zo(d.j,d)}function Kr(d){$o(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Fo(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function nt(d,v){try{var x=d.j;if(x.I!=0&&(x.g==d||fl(x.h,d))){if(!d.L&&fl(x.h,d)&&x.I==3){try{var k=x.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<d.F)Jo(x),In(x);else break e;Er(x),dt(18)}}else x.xa=W[1],0<x.xa-x.K&&W[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Ni(f(x.Va,x),6e3));Rs(x.h)<=1&&x.ta&&(x.ta=void 0)}else Sn(x,11)}else if((d.L||x.g==d)&&Jo(x),!O(v))for(W=x.Ba.g.parse(v),v=0;v<W.length;v++){let Ge=W[v];const Tt=Ge[0];if(!(Tt<=x.K))if(x.K=Tt,Ge=Ge[1],x.I==2)if(Ge[0]=="c"){x.M=Ge[1],x.ba=Ge[2];const kn=Ge[3];kn!=null&&(x.ka=kn,x.j.info("VER="+x.ka));const Zr=Ge[4];Zr!=null&&(x.za=Zr,x.j.info("SVER="+x.za));const br=Ge[5];br!=null&&typeof br=="number"&&br>0&&(k=1.5*br,x.O=k,x.j.info("backChannelRequestTimeoutMs_="+k)),k=x;const Ir=d.g;if(Ir){const na=Ir.g?Ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(na){var Q=k.h;Q.g||na.indexOf("spdy")==-1&&na.indexOf("quic")==-1&&na.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Wo(Q,Q.h),Q.h=null))}if(k.G){const Il=Ir.g?Ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Il&&(k.wa=Il,We(k.J,k.G,Il))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-d.F,x.j.info("Handshake RTT: "+x.T+"ms")),k=x;var se=d;if(k.na=bl(k,k.L?k.ba:null,k.W),se.L){Ps(k.h,se);var Re=se,yt=k.O;yt&&(Re.H=yt),Re.D&&($o(Re),As(Re)),k.g=se}else Kt(k);x.i.length>0&&Jr(x)}else Ge[0]!="stop"&&Ge[0]!="close"||Sn(x,7);else x.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Sn(x,7):Yo(x):Ge[0]!="noop"&&x.l&&x.l.qa(Ge),x.A=0)}}Hr(4)}catch{}}var ff=class{constructor(d,v){this.g=d,this.map=v}};function Ho(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Rs(d){return d.h?1:d.g?d.g.size:0}function fl(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Wo(d,v){d.g?d.g.add(v):d.h=v}function Ps(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ho.prototype.cancel=function(){if(this.i=Tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Tn(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const x of d.g.values())v=v.concat(x.G);return v}return T(d.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function En(d,v){if(d){d=d.split("&");for(let x=0;x<d.length;x++){const k=d[x].indexOf("=");let W,Q=null;k>=0?(W=d[x].substring(0,k),Q=d[x].substring(k+1)):W=d[x],v(W,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function pr(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof pr?(this.l=d.l,Ns(this,d.j),this.o=d.o,this.g=d.g,gr(this,d.u),this.h=d.h,Li(this,xl(d.i)),this.m=d.m):d&&(v=String(d).match(gu))?(this.l=!1,Ns(this,v[1]||"",!0),this.o=Ds(v[2]||""),this.g=Ds(v[3]||"",!0),gr(this,v[4]),this.h=Ds(v[5]||"",!0),Li(this,v[6]||"",!0),this.m=Ds(v[7]||"")):(this.l=!1,this.i=new Fe(null,this.l))}pr.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Os(v,gl,!0),":");var x=this.g;return(x||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Os(v,gl,!0),"@"),d.push(fr(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&d.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&d.push("/"),d.push(Os(x,x.charAt(0)=="/"?Ms:ml,!0))),(x=this.i.toString())&&d.push("?",x),(x=this.m)&&d.push("#",Os(x,yl)),d.join("")},pr.prototype.resolve=function(d){const v=Mn(this);let x=!!d.j;x?Ns(v,d.j):x=!!d.o,x?v.o=d.o:x=!!d.g,x?v.g=d.g:x=d.u!=null;var k=d.h;if(x)gr(v,d.u);else if(x=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var W=v.h.lastIndexOf("/");W!=-1&&(k=v.h.slice(0,W+1)+k)}if(W=k,W==".."||W==".")k="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){k=W.lastIndexOf("/",0)==0,W=W.split("/");const Q=[];for(let se=0;se<W.length;){const Re=W[se++];Re=="."?k&&se==W.length&&Q.push(""):Re==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),k&&se==W.length&&Q.push("")):(Q.push(Re),k=!0)}k=Q.join("/")}else k=W}return x?v.h=k:x=d.i.toString()!=="",x?Li(v,xl(d.i)):x=!!d.m,x&&(v.m=d.m),v};function Mn(d){return new pr(d)}function Ns(d,v,x){d.j=x?Ds(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function gr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Li(d,v,x){v instanceof Fe?(d.i=v,Ko(d.i,d.l)):(x||(v=Os(v,pf)),d.i=new Fe(v,d.l))}function We(d,v,x){d.i.set(v,x)}function Gr(d){return We(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ds(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Os(d,v,x){return typeof d=="string"?(d=encodeURI(d).replace(v,pl),x&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var gl=/[#\/\?@]/g,ml=/[#\?:]/g,Ms=/[#\?]/g,pf=/[#\?@]/g,yl=/#/g;function Fe(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function mr(d){d.g||(d.g=new Map,d.h=0,d.i&&En(d.i,function(v,x){d.add(decodeURIComponent(v.replace(/\+/g," ")),x)}))}n=Fe.prototype,n.add=function(d,v){mr(this),this.i=null,d=yr(this,d);let x=this.g.get(d);return x||this.g.set(d,x=[]),x.push(v),this.h+=1,this};function _l(d,v){mr(d),v=yr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function qo(d,v){return mr(d),v=yr(d,v),d.g.has(v)}n.forEach=function(d,v){mr(this),this.g.forEach(function(x,k){x.forEach(function(W){d.call(v,W,k,this)},this)},this)};function vl(d,v){mr(d);let x=[];if(typeof v=="string")qo(d,v)&&(x=x.concat(d.g.get(yr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)x=x.concat(d[v]);return x}n.set=function(d,v){return mr(this),this.i=null,d=yr(this,d),qo(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=vl(this,d),d.length>0?String(d[0]):v):v};function wl(d,v,x){_l(d,v),x.length>0&&(d.i=null,d.g.set(yr(d,v),T(x)),d.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var x=v[k];const W=fr(x);x=vl(this,x);for(let Q=0;Q<x.length;Q++){let se=W;x[Q]!==""&&(se+="="+fr(x[Q])),d.push(se)}}return this.i=d.join("&")};function xl(d){const v=new Fe;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function yr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ko(d,v){v&&!d.j&&(mr(d),d.i=null,d.g.forEach(function(x,k){const W=k.toLowerCase();k!=W&&(_l(this,k),wl(this,W,x))},d)),d.j=v}function _r(d,v){const x=new Di;if(l.Image){const k=new Image;k.onload=g(jt,x,"TestLoadImage: loaded",!0,v,k),k.onerror=g(jt,x,"TestLoadImage: error",!1,v,k),k.onabort=g(jt,x,"TestLoadImage: abort",!1,v,k),k.ontimeout=g(jt,x,"TestLoadImage: timeout",!1,v,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else v(!1)}function vr(d,v){const x=new Di,k=new AbortController,W=setTimeout(()=>{k.abort(),jt(x,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:k.signal}).then(Q=>{clearTimeout(W),Q.ok?jt(x,"TestPingServer: ok",!0,v):jt(x,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),jt(x,"TestPingServer: error",!1,v)})}function jt(d,v,x,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(x)}catch{}}function Ls(){this.g=new Ss}function Qr(d){this.i=d.Sb||null,this.h=d.ab||!1}y(Qr,Ci),Qr.prototype.g=function(){return new bn(this.i,this.h)};function bn(d,v){xt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(bn,xt),n=bn.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,er(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function mu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Vi(this):er(this),this.readyState==3&&mu(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Vi(this))},n.Na=function(d){this.g&&(this.response=d,Vi(this))},n.ga=function(){this.g&&Vi(this)};function Vi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,er(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var x=v.next();!x.done;)x=x.value,d.push(x[0]+": "+x[1]),x=v.next();return d.join(`\r
`)};function er(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(bn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function yu(d){let v="";return ae(d,function(x,k){v+=k,v+=":",v+=x,v+=`\r
`}),v}function Go(d,v,x){e:{for(k in x){var k=!1;break e}k=!0}k||(x=yu(x),typeof d=="string"?x!=null&&fr(x):We(d,v,x))}function Xe(d){xt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Xe,xt);var _u=/^https?$/i,gf=["POST","PUT"];n=Xe.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,x,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cu.g(),this.g.onreadystatechange=w(f(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){Fi(this,Q);return}if(d=x||"",x=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)x.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Q of k.keys())x.set(Q,k.get(Q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(x.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=l.FormData&&d instanceof l.FormData,!(Array.prototype.indexOf.call(gf,v,void 0)>=0)||k||W||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of x)this.g.setRequestHeader(Q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){Fi(this,Q)}};function Fi(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,ji(d),Xr(d)}function ji(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,mt(this,"complete"),mt(this,"abort"),Xr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),Xe.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},n.Xa=function(){Yr(this)};function Yr(d){if(d.h&&typeof o<"u"){if(d.v&&wr(d)==4)setTimeout(d.Ca.bind(d),0);else if(mt(d,"readystatechange"),wr(d)==4){d.h=!1;try{const Q=d.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var x;if(!(x=v)){var k;if(k=Q===0){let se=String(d.D).match(gu)[1]||null;!se&&l.self&&l.self.location&&(se=l.self.location.protocol.slice(0,-1)),k=!_u.test(se?se.toLowerCase():"")}x=k}if(x)mt(d,"complete"),mt(d,"success");else{d.o=6;try{var W=wr(d)>2?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.ca()+"]",ji(d)}}finally{Xr(d)}}}}function Xr(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const x=d.g;d.g=null,v||mt(d,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function wr(d){return d.g?d.g.readyState:0}n.ca=function(){try{return wr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),iu(v)}};function vu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Tl(d){const v={};d=(d.g&&wr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(O(d[k]))continue;var x=Bo(d[k]);const W=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Q=v[W]||[];v[W]=Q,Q.push(x)}oe(v,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xr(d,v,x){return x&&x.internalChannelParams&&x.internalChannelParams[d]||v}function Qo(d){this.za=0,this.i=[],this.j=new Di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xr("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xr("baseRetryDelayMs",5e3,d),this.Za=xr("retryDelaySeedMs",1e4,d),this.Ta=xr("forwardChannelMaxRetries",2,d),this.va=xr("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Ho(d&&d.concurrentRequestLimit),this.Ba=new Ls,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Qo.prototype,n.ka=8,n.I=1,n.connect=function(d,v,x,k){dt(0),this.W=d,this.H=v||{},x&&k!==void 0&&(this.H.OSID=x,this.H.OAID=k),this.F=this.X,this.J=bl(this,null,this.W),Jr(this)};function Yo(d){if(Xo(d),d.I==3){var v=d.V++,x=Mn(d.J);if(We(x,"SID",d.M),We(x,"RID",v),We(x,"TYPE","terminate"),Tr(d,x),v=new On(d,d.j,v),v.M=2,v.A=Gr(Mn(x)),x=!1,l.navigator&&l.navigator.sendBeacon)try{x=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!x&&l.Image&&(new Image().src=v.A,x=!0),x||(v.g=xu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),As(v)}js(d)}function In(d){d.g&&(Fs(d),d.g.cancel(),d.g=null)}function Xo(d){In(d),d.v&&(l.clearTimeout(d.v),d.v=null),Jo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&l.clearTimeout(d.m),d.m=null)}function Jr(d){if(!dl(d.h)&&!d.m){d.m=!0;var v=d.Ea;q||b(),Y||(q(),Y=!0),R.add(v,d),d.D=0}}function wu(d,v){return Rs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ni(f(d.Ea,d,v),ea(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const W=new On(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=$(Q),be(Q,this.U)):Q=this.U),this.u!==null||this.R||(W.J=Q,Q=null),this.S)e:{for(var v=0,x=0;x<this.i.length;x++){t:{var k=this.i[x];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=x;break e}if(v===4096||x===this.i.length-1){v=x+1;break e}}v=1e3}else v=1e3;v=El(this,W,v),x=Mn(this.J),We(x,"RID",d),We(x,"CVER",22),this.G&&We(x,"X-HTTP-Session-Id",this.G),Tr(this,x),Q&&(this.R?v="headers="+fr(yu(Q))+"&"+v:this.u&&Go(x,this.u,Q)),Wo(this.h,W),this.Ra&&We(x,"TYPE","init"),this.S?(We(x,"$req",v),We(x,"SID","null"),W.U=!0,Zn(W,x,null)):Zn(W,x,v),this.I=2}}else this.I==3&&(d?Vs(this,d):this.i.length==0||dl(this.h)||Vs(this))};function Vs(d,v){var x;v?x=v.l:x=d.V++;const k=Mn(d.J);We(k,"SID",d.M),We(k,"RID",x),We(k,"AID",d.K),Tr(d,k),d.u&&d.o&&Go(k,d.u,d.o),x=new On(d,d.j,x,d.D+1),d.u===null&&(x.J=d.o),v&&(d.i=v.G.concat(d.i)),v=El(d,x,1e3),x.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wo(d.h,x),Zn(x,k,v)}function Tr(d,v){d.H&&ae(d.H,function(x,k){We(v,k,x)}),d.l&&ae({},function(x,k){We(v,k,x)})}function El(d,v,x){x=Math.min(d.i.length,x);const k=d.l?f(d.l.Ka,d.l,d):null;e:{var W=d.i;let Re=-1;for(;;){const yt=["count="+x];Re==-1?x>0?(Re=W[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let Ge=!0;for(let Tt=0;Tt<x;Tt++){var Q=W[Tt].g;const kn=W[Tt].map;if(Q-=Re,Q<0)Re=Math.max(0,W[Tt].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var se=kn instanceof Map?kn:Object.entries(kn);for(const[Zr,br]of se){let Ir=br;c(br)&&(Ir=Ai(br)),yt.push(Q+Zr+"="+encodeURIComponent(Ir))}}catch(Zr){throw yt.push(Q+"type="+encodeURIComponent("_badmap")),Zr}}catch{k&&k(kn)}}if(Ge){se=yt.join("&");break e}}se=void 0}return d=d.i.splice(0,x),v.G=d,se}function Kt(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;q||b(),Y||(q(),Y=!0),R.add(v,d),d.A=0}}function Er(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ni(f(d.Da,d),ea(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ui(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ni(f(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,dt(10),In(this),Ui(this))};function Fs(d){d.B!=null&&(l.clearTimeout(d.B),d.B=null)}function Ui(d){d.g=new On(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Mn(d.na);We(v,"RID","rpc"),We(v,"SID",d.M),We(v,"AID",d.K),We(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&We(v,"TO",d.ia),We(v,"TYPE","xmlhttp"),Tr(d,v),d.u&&d.o&&Go(v,d.u,d.o),d.O&&(d.g.H=d.O);var x=d.g;d=d.ba,x.M=1,x.A=Gr(Mn(v)),x.u=null,x.R=!0,ul(x,d)}n.Va=function(){this.C!=null&&(this.C=null,In(this),Er(this),dt(19))};function Jo(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Zo(d,v){var x=null;if(d.g==v){Jo(d),Fs(d),d.g=null;var k=2}else if(fl(d.h,v))x=v.G,Ps(d.h,v),k=1;else return;if(d.I!=0){if(v.o)if(k==1){x=v.u?v.u.length:0,v=Date.now()-v.F;var W=d.D;k=Pi(),mt(k,new ll(k,x)),Jr(d)}else Kt(d);else if(W=v.m,W==3||W==0&&v.X>0||!(k==1&&wu(d,v)||k==2&&Er(d)))switch(x&&x.length>0&&(v=d.h,v.i=v.i.concat(x)),W){case 1:Sn(d,5);break;case 4:Sn(d,10);break;case 3:Sn(d,6);break;default:Sn(d,2)}}}function ea(d,v){let x=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(x*=2),x*v}function Sn(d,v){if(d.j.info("Error code "+v),v==2){var x=f(d.bb,d),k=d.Ua;const W=!k;k=new pr(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ns(k,"https"),Gr(k),W?_r(k.toString(),x):vr(k.toString(),x)}else dt(2);d.I=0,d.l&&d.l.pa(v),js(d),Xo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function js(d){if(d.I=0,d.ja=[],d.l){const v=Tn(d.h);(v.length!=0||d.i.length!=0)&&(N(d.ja,v),N(d.ja,d.i),d.h.i.length=0,T(d.i),d.i.length=0),d.l.oa()}}function bl(d,v,x){var k=x instanceof pr?Mn(x):new pr(x);if(k.g!="")v&&(k.g=v+"."+k.g),gr(k,k.u);else{var W=l.location;k=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const Q=new pr(null);k&&Ns(Q,k),v&&(Q.g=v),W&&gr(Q,W),x&&(Q.h=x),k=Q}return x=d.G,v=d.wa,x&&v&&We(k,x,v),We(k,"VER",d.ka),Tr(d,k),k}function xu(d,v,x){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Xe(new Qr({ab:x})):new Xe(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}n=Tu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ta(){}ta.prototype.g=function(d,v){return new Ut(d,v)};function Ut(d,v){xt.call(this),this.g=new Qo(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!O(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new zi(this)}y(Ut,xt),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Yo(this.g)},Ut.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var x={};x.__data__=d,d=x}else this.v&&(x={},x.__data__=Ai(d),d=x);v.i.push(new ff(v.Ya++,d)),v.I==3&&Jr(v)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,Ut.Z.N.call(this)};function Eu(d){jo.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const x in v){d=x;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(Eu,jo);function bu(){al.call(this),this.status=1}y(bu,al);function zi(d){this.g=d}y(zi,Tu),zi.prototype.ra=function(){mt(this.g,"a")},zi.prototype.qa=function(d){mt(this.g,new Eu(d))},zi.prototype.pa=function(d){mt(this.g,new bu)},zi.prototype.oa=function(){mt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,QE=function(){return new ta},GE=function(){return Pi()},KE=Jn,Ng={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,qh=Oi,Mi.COMPLETE="complete",qE=Mi,su.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",xt.prototype.listen=xt.prototype.J,sc=su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,WE=Xe}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});const jv="@firebase/firestore",Uv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Fd("@firebase/firestore");function Ia(){return vo.logLevel}function ue(n,...e){if(vo.logLevel<=Me.DEBUG){const t=e.map(Cm);vo.debug(`Firestore (${Qa}): ${n}`,...t)}}function xi(n,...e){if(vo.logLevel<=Me.ERROR){const t=e.map(Cm);vo.error(`Firestore (${Qa}): ${n}`,...t)}}function Ua(n,...e){if(vo.logLevel<=Me.WARN){const t=e.map(Cm);vo.warn(`Firestore (${Qa}): ${n}`,...t)}}function Cm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,YE(n,r,t)}function YE(n,e,t){let r=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw xi(r),new Error(r)}function Ke(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||YE(e,i,r)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Yn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(en.UNAUTHENTICATED)))}shutdown(){}}class kN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class AN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new lo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const h=o;e.enqueueRetryable((async()=>{await h.promise,await i(this.currentUser)}))},c=h=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lo)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new XE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class CN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new CN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const r=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new zv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new zv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),o=e.charAt(r);if(i!==o)return Zp(i)===Zp(o)?Le(i,o):Zp(i)?1:-1}return Le(n.length,e.length)}const DN=55296,ON=57343;function Zp(n){const e=n.charCodeAt(0);return e>=DN&&e<=ON}function za(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class Dr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Dr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Le(e.length,t.length)}static compareSegments(e,t){const r=Dr.isNumericId(e),i=Dr.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class ut extends Dr{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Dr{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return MN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Wt([Bv])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ut.fromString(e))}static fromName(e){return new ve(ut.fromString(e).popFirst(5))}static empty(){return new ve(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ut(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n,e,t){if(!t)throw new ge(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VN(n,e,t,r){if(e===!0&&r===!0)throw new ge(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $v(n){if(!ve.isDocumentKey(n))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Oa(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pm(n);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(n,e){const t={typeString:n};return e&&(t.value=e),t}function Kc(n,e){if(!JE(n))throw new ge(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(i&&typeof l!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ge(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=-62135596800,Wv=1e6;class ot{static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Wv);return new ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Hv)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,ot._jsonSchema))return new ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:It("string",ot._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ot(0,0))}static max(){return new Se(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=-1;function FN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new ot(t+1,0):new ot(t,r));return new ys(i,ve.empty(),e)}function jN(n){return new ys(n.readTime,n.key,Ic)}class ys{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ys(Se.min(),ve.empty(),Ic)}static max(){return new ys(Se.max(),ve.empty(),Ic)}}function UN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==zN)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,r)=>{t(e)}))}static reject(e){return new J(((t,r)=>{r(e)}))}static waitFor(e){return new J(((t,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&t()}),(h=>r(h)))})),l=!0,o===i&&t()}))}static or(e){let t=J.resolve(!1);for(const r of e)t=t.next((i=>i?J.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new J(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let h=0;h<o;h++){const f=h;t(e[f]).next((g=>{l[f]=g,++c,c===o&&r(l)}),(g=>i(g)))}}))}static doWhile(e,t){return new J(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function $N(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function Wd(n){return n==null}function ud(n){return n===0&&1/n==-1/0}function HN(n){return typeof n=="number"&&Number.isInteger(n)&&!ud(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function WN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=qv(e)),e=qN(n.get(t),e);return qv(e)}function qN(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case ZE:t+="";break;default:t+=o}}return t}function qv(n){return n+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Th(this.root,e,this.comparator,!1)}getReverseIterator(){return new Th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Th(this.root,e,this.comparator,!0)}}class Th{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(e){return new Gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new cr([])}unionWith(e){let t=new Dt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return za(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tb("Invalid base64 string: "+o):o}})(e);return new qt(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const KN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(n){if(Ke(!!n,39018),typeof n=="string"){let e=0;const t=KN.exec(n);if(Ke(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function vs(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="server_timestamp",rb="__type__",ib="__previous_value__",sb="__local_write_time__";function Dm(n){return(n?.mapValue?.fields||{})[rb]?.stringValue===nb}function qd(n){const e=n.mapValue.fields[ib];return Dm(e)?qd(e):e}function Sc(n){const e=_s(n.mapValue.fields[sb].timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t,r,i,o,l,c,h,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=g}}const hd="(default)";class kc{constructor(e,t){this.projectId=e,this.database=t||hd}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="__type__",QN="__max__",Eh={mapValue:{}},ab="__vector__",dd="value";function ws(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dm(n)?4:XN(n)?9007199254740991:YN(n)?10:11:Ee(28295,{value:n})}function Br(n,e){if(n===e)return!0;const t=ws(n);if(t!==ws(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sc(n).isEqual(Sc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=_s(i.timestampValue),c=_s(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return vs(i.bytesValue).isEqual(vs(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=vt(i.doubleValue),c=vt(o.doubleValue);return l===c?ud(l)===ud(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return za(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(Kv(l)!==Kv(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Br(l[h],c[h])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function Ac(n,e){return(n.values||[]).find((t=>Br(t,e)))!==void 0}function Ba(n,e){if(n===e)return 0;const t=ws(n),r=ws(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=vt(o.integerValue||o.doubleValue),h=vt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return Qv(n.timestampValue,e.timestampValue);case 4:return Qv(Sc(n),Sc(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return(function(o,l){const c=vs(o),h=vs(l);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const g=Le(c[f],h[f]);if(g!==0)return g}return Le(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Le(vt(o.latitude),vt(l.latitude));return c!==0?c:Le(vt(o.longitude),vt(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Yv(n.arrayValue,e.arrayValue);case 10:return(function(o,l){const c=o.fields||{},h=l.fields||{},f=c[dd]?.arrayValue,g=h[dd]?.arrayValue,y=Le(f?.values?.length||0,g?.values?.length||0);return y!==0?y:Yv(f,g)})(n.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Eh.mapValue&&l===Eh.mapValue)return 0;if(o===Eh.mapValue)return 1;if(l===Eh.mapValue)return-1;const c=o.fields||{},h=Object.keys(c),f=l.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let y=0;y<h.length&&y<g.length;++y){const w=Dg(h[y],g[y]);if(w!==0)return w;const T=Ba(c[h[y]],f[g[y]]);if(T!==0)return T}return Le(h.length,g.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function Qv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=_s(n),r=_s(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function Yv(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Ba(t[i],r[i]);if(o)return o}return Le(t.length,r.length)}function $a(n){return Og(n)}function Og(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=_s(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return vs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ve.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Og(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Og(t.fields[l])}`;return i+"}"})(n.mapValue):Ee(61005,{value:n})}function Kh(n){switch(ws(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qd(n);return e?16+Kh(e):16;case 5:return 2*n.stringValue.length;case 6:return vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Kh(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ro(r.fields,((o,l)=>{i+=o.length+Kh(l)})),i})(n.mapValue);default:throw Ee(13486,{value:n})}}function Mg(n){return!!n&&"integerValue"in n}function Om(n){return!!n&&"arrayValue"in n}function Xv(n){return!!n&&"nullValue"in n}function Jv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gh(n){return!!n&&"mapValue"in n}function YN(n){return(n?.mapValue?.fields||{})[ob]?.stringValue===ab}function mc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=mc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mc(n.arrayValue.values[t]);return e}return{...n}}function XN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=Wt.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=mc(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Gh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new $n(mc(this.value))}}function lb(n){const e=[];return Ro(n.fields,((t,r)=>{const i=new Wt([t]);if(Gh(r)){const o=lb(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,r,i,o,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),$n.empty(),0)}static newFoundDocument(e,t,r,i){return new tn(e,1,t,Se.min(),r,i,0)}static newNoDocument(e,t){return new tn(e,2,t,Se.min(),Se.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,Se.min(),Se.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.position=e,this.inclusive=t}}function Zv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=ve.comparator(ve.fromName(l.referenceValue),t.key):r=Ba(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ew(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,t="asc"){this.field=e,this.dir=t}}function JN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class Rt extends cb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new eD(e,t,r):t==="array-contains"?new rD(e,r):t==="in"?new iD(e,r):t==="not-in"?new sD(e,r):t==="array-contains-any"?new oD(e,r):new Rt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new tD(e,r):new nD(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ba(t,this.value)):t!==null&&ws(this.value)===ws(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends cb{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new $r(e,t)}matches(e){return ub(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ub(n){return n.op==="and"}function hb(n){return ZN(n)&&ub(n)}function ZN(n){for(const e of n.filters)if(e instanceof $r)return!1;return!0}function Lg(n){if(n instanceof Rt)return n.field.canonicalString()+n.op.toString()+$a(n.value);if(hb(n))return n.filters.map((e=>Lg(e))).join(",");{const e=n.filters.map((t=>Lg(t))).join(",");return`${n.op}(${e})`}}function db(n,e){return n instanceof Rt?(function(r,i){return i instanceof Rt&&r.op===i.op&&r.field.isEqual(i.field)&&Br(r.value,i.value)})(n,e):n instanceof $r?(function(r,i){return i instanceof $r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&db(l,i.filters[c])),!0):!1})(n,e):void Ee(19439)}function fb(n){return n instanceof Rt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$a(t.value)}`})(n):n instanceof $r?(function(t){return t.op.toString()+" {"+t.getFilters().map(fb).join(" ,")+"}"})(n):"Filter"}class eD extends Rt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class tD extends Rt{constructor(e,t){super(e,"in",t),this.keys=pb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nD extends Rt{constructor(e,t){super(e,"not-in",t),this.keys=pb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pb(n,e){return(e.arrayValue?.values||[]).map((t=>ve.fromName(t.referenceValue)))}class rD extends Rt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Om(t)&&Ac(t.arrayValue,this.value)}}class iD extends Rt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ac(this.value.arrayValue,t)}}class sD extends Rt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ac(this.value.arrayValue,t)}}class oD extends Rt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Om(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ac(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function tw(n,e=null,t=[],r=[],i=null,o=null,l=null){return new aD(n,e,t,r,i,o,l)}function Mm(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Lg(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Wd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>$a(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>$a(r))).join(",")),e.Te=t}return e.Te}function Lm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!db(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ew(n.startAt,e.startAt)&&ew(n.endAt,e.endAt)}function Vg(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t=null,r=[],i=[],o=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lD(n,e,t,r,i,o,l,c){return new Kd(n,e,t,r,i,o,l,c)}function Vm(n){return new Kd(n)}function nw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function cD(n){return n.collectionGroup!==null}function yc(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dt(Wt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(c=c.add(f.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new pd(o,r))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new pd(Wt.keyField(),r))}return e.Ie}function Fr(n){const e=Pe(n);return e.Ee||(e.Ee=uD(e,yc(n))),e.Ee}function uD(n,e){if(n.limitType==="F")return tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new pd(i.field,o)}));const t=n.endAt?new fd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new fd(n.startAt.position,n.startAt.inclusive):null;return tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Fg(n,e,t){return new Kd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gd(n,e){return Lm(Fr(n),Fr(e))&&n.limitType===e.limitType}function gb(n){return`${Mm(Fr(n))}|lt:${n.limitType}`}function Sa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>fb(i))).join(", ")}]`),Wd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>$a(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>$a(i))).join(",")),`Target(${r})`})(Fr(n))}; limitType=${n.limitType})`}function Qd(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ve.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,h){const f=Zv(l,c,h);return l.inclusive?f<=0:f<0})(r.startAt,yc(r),i)||r.endAt&&!(function(l,c,h){const f=Zv(l,c,h);return l.inclusive?f>=0:f>0})(r.endAt,yc(r),i))})(n,e)}function hD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mb(n){return(e,t)=>{let r=!1;for(const i of yc(n)){const o=dD(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dD(n,e,t){const r=n.field.isKeyField()?ve.comparator(e.key,t.key):(function(o,l,c){const h=l.data.field(o),f=c.data.field(o);return h!==null&&f!==null?Ba(h,f):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return eb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new ht(ve.comparator);function Ti(){return fD}const yb=new ht(ve.comparator);function oc(...n){let e=yb;for(const t of n)e=e.insert(t.key,t);return e}function _b(n){let e=yb;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function so(){return _c()}function vb(){return _c()}function _c(){return new Po((n=>n.toString()),((n,e)=>n.isEqual(e)))}const pD=new ht(ve.comparator),gD=new Dt(ve.comparator);function Ve(...n){let e=gD;for(const t of n)e=e.add(t);return e}const mD=new Dt(Le);function yD(){return mD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ud(e)?"-0":e}}function wb(n){return{integerValue:""+n}}function _D(n,e){return HN(e)?wb(e):Fm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function vD(n,e,t){return n instanceof Cc?(function(i,o){const l={fields:{[rb]:{stringValue:nb},[sb]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Dm(o)&&(o=qd(o)),o&&(l.fields[ib]=o),{mapValue:l}})(t,e):n instanceof Rc?Tb(n,e):n instanceof Pc?Eb(n,e):(function(i,o){const l=xb(i,o),c=rw(l)+rw(i.Ae);return Mg(l)&&Mg(i.Ae)?wb(c):Fm(i.serializer,c)})(n,e)}function wD(n,e,t){return n instanceof Rc?Tb(n,e):n instanceof Pc?Eb(n,e):t}function xb(n,e){return n instanceof gd?(function(r){return Mg(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Cc extends Yd{}class Rc extends Yd{constructor(e){super(),this.elements=e}}function Tb(n,e){const t=bb(e);for(const r of n.elements)t.some((i=>Br(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Pc extends Yd{constructor(e){super(),this.elements=e}}function Eb(n,e){let t=bb(e);for(const r of n.elements)t=t.filter((i=>!Br(i,r)));return{arrayValue:{values:t}}}class gd extends Yd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rw(n){return vt(n.integerValue||n.doubleValue)}function bb(n){return Om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t){this.field=e,this.transform=t}}function TD(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Rc&&i instanceof Rc||r instanceof Pc&&i instanceof Pc?za(r.elements,i.elements,Br):r instanceof gd&&i instanceof gd?Br(r.Ae,i.Ae):r instanceof Cc&&i instanceof Cc})(n.transform,e.transform)}class ED{constructor(e,t){this.version=e,this.transformResults=t}}class yi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xd{}function Ib(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kb(n.key,yi.none()):new Gc(n.key,n.data,yi.none());{const t=n.data,r=$n.empty();let i=new Dt(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new No(n.key,r,new cr(i.toArray()),yi.none())}}function bD(n,e,t){n instanceof Gc?(function(i,o,l){const c=i.value.clone(),h=sw(i.fieldTransforms,o,l.transformResults);c.setAll(h),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof No?(function(i,o,l){if(!Qh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=sw(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Sb(i)),h.setAll(c),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function vc(n,e,t,r){return n instanceof Gc?(function(o,l,c,h){if(!Qh(o.precondition,l))return c;const f=o.value.clone(),g=ow(o.fieldTransforms,h,l);return f.setAll(g),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof No?(function(o,l,c,h){if(!Qh(o.precondition,l))return c;const f=ow(o.fieldTransforms,h,l),g=l.data;return g.setAll(Sb(o)),g.setAll(f),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(o,l,c){return Qh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function ID(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=xb(r.transform,i||null);o!=null&&(t===null&&(t=$n.empty()),t.set(r.field,o))}return t||null}function iw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&za(r,i,((o,l)=>TD(o,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gc extends Xd{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class No extends Xd{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Sb(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function sw(n,e,t){const r=new Map;Ke(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,wD(l,c,t[i]))}return r}function ow(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,vD(o,l,e))}return r}class kb extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SD extends Xd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&bD(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vb();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(i.key)?null:c;const h=Ib(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&za(this.mutations,e.mutations,((t,r)=>iw(t,r)))&&za(this.baseMutations,e.baseMutations,((t,r)=>iw(t,r)))}}class jm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return pD})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new jm(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,je;function RD(n){switch(n){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function Ab(n){if(n===void 0)return xi("GRPC error has no .code"),te.UNKNOWN;switch(n){case bt.OK:return te.OK;case bt.CANCELLED:return te.CANCELLED;case bt.UNKNOWN:return te.UNKNOWN;case bt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case bt.INTERNAL:return te.INTERNAL;case bt.UNAVAILABLE:return te.UNAVAILABLE;case bt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case bt.NOT_FOUND:return te.NOT_FOUND;case bt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case bt.ABORTED:return te.ABORTED;case bt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case bt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:n})}}(je=bt||(bt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new ps([4294967295,4294967295],0);function aw(n){const e=PD().encode(n),t=new HE;return t.update(e),new Uint8Array(t.digest())}function lw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ps([t,r],0),new ps([i,o],0)]}class Um{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ac(`Invalid padding: ${t}`);if(r<0)throw new ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ps.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ps.fromNumber(r)));return i.compare(ND)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=aw(e),[r,i]=lw(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Um(o,i,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=aw(e),[r,i]=lw(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jd(Se.min(),i,new ht(Le),Ti(),Ve())}}class Qc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Qc(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class Cb{constructor(e,t){this.targetId=e,this.Ce=t}}class Rb{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cw{constructor(){this.ve=0,this.Fe=uw(),this.Me=qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee(38017,{changeType:o})}})),new Qc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=uw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DD{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ti(),this.Je=bh(),this.He=bh(),this.Ye=new ht(Le)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(Vg(o))if(r===0){const l=new ve(o.path);this.et(t,l,tn.newNoDocument(l,Se.min()))}else Ke(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(t);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,c;try{l=vs(r).toUint8Array()}catch(h){if(h instanceof tb)return Ua("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Um(l,i,o)}catch(h){return Ua(h instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&Vg(c.target)){const h=new ve(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,tn.newNoDocument(h,e))}o.Be&&(t.set(l,o.ke()),o.qe())}}));let r=Ve();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new Jd(e,t,this.Ye,this.je,r);return this.je=Ti(),this.Je=bh(),this.He=bh(),this.Ye=new ht(Le),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new cw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Dt(Le),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Dt(Le),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bh(){return new ht(ve.comparator)}function uw(){return new ht(ve.comparator)}const OD={asc:"ASCENDING",desc:"DESCENDING"},MD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LD={and:"AND",or:"OR"};class VD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(n,e){return n.useProto3Json||Wd(e)?e:{value:e}}function md(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FD(n,e){return md(n,e.toTimestamp())}function jr(n){return Ke(!!n,49232),Se.fromTimestamp((function(t){const r=_s(t);return new ot(r.seconds,r.nanos)})(n))}function zm(n,e){return Ug(n,e).canonicalString()}function Ug(n,e){const t=(function(i){return new ut(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Nb(n){const e=ut.fromString(n);return Ke(Vb(e),10190,{key:e.toString()}),e}function zg(n,e){return zm(n.databaseId,e.path)}function eg(n,e){const t=Nb(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Ob(t))}function Db(n,e){return zm(n.databaseId,e)}function jD(n){const e=Nb(n);return e.length===4?ut.emptyPath():Ob(e)}function Bg(n){return new ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ob(n){return Ke(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hw(n,e,t){return{name:zg(n,e),fields:t.value.mapValue.fields}}function UD(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ee(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,g){return f.useProto3Json?(Ke(g===void 0||typeof g=="string",58123),qt.fromBase64String(g||"")):(Ke(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),qt.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(f){const g=f.code===void 0?te.UNKNOWN:Ab(f.code);return new ge(g,f.message||"")})(l);t=new Rb(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=eg(n,r.document.name),o=jr(r.document.updateTime),l=r.document.createTime?jr(r.document.createTime):Se.min(),c=new $n({mapValue:{fields:r.document.fields}}),h=tn.newFoundDocument(i,o,l,c),f=r.targetIds||[],g=r.removedTargetIds||[];t=new Yh(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=eg(n,r.document),o=r.readTime?jr(r.readTime):Se.min(),l=tn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new Yh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=eg(n,r.document),o=r.removedTargetIds||[];t=new Yh([],o,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new CD(i,o),c=r.targetId;t=new Cb(c,l)}}return t}function zD(n,e){let t;if(e instanceof Gc)t={update:hw(n,e.key,e.value)};else if(e instanceof kb)t={delete:zg(n,e.key)};else if(e instanceof No)t={update:hw(n,e.key,e.data),updateMask:YD(e.fieldMask)};else{if(!(e instanceof SD))return Ee(16599,{Vt:e.type});t={verify:zg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Cc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Pc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof gd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Ee(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:FD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee(27497)})(n,e.precondition)),t}function BD(n,e){return n&&n.length>0?(Ke(e!==void 0,14353),n.map((t=>(function(i,o){let l=i.updateTime?jr(i.updateTime):jr(o);return l.isEqual(Se.min())&&(l=jr(o)),new ED(l,i.transformResults||[])})(t,e)))):[]}function $D(n,e){return{documents:[Db(n,e.path)]}}function HD(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Db(n,i);const o=(function(f){if(f.length!==0)return Lb($r.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((g=>(function(w){return{field:ka(w.field),direction:KD(w.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=jg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:i}}function WD(n){let e=jD(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ke(r===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(y){const w=Mb(y);return w instanceof $r&&hb(w)?w.getFilters():[w]})(t.where));let l=[];t.orderBy&&(l=(function(y){return y.map((w=>(function(N){return new pd(Aa(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let w;return w=typeof y=="object"?y.value:y,Wd(w)?null:w})(t.limit));let h=null;t.startAt&&(h=(function(y){const w=!!y.before,T=y.values||[];return new fd(T,w)})(t.startAt));let f=null;return t.endAt&&(f=(function(y){const w=!y.before,T=y.values||[];return new fd(T,w)})(t.endAt)),lD(e,i,l,o,c,"F",h,f)}function qD(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Mb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Aa(t.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Aa(t.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Aa(t.unaryFilter.field);return Rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Aa(t.unaryFilter.field);return Rt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Rt.create(Aa(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return $r.create(t.compositeFilter.filters.map((r=>Mb(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function KD(n){return OD[n]}function GD(n){return MD[n]}function QD(n){return LD[n]}function ka(n){return{fieldPath:n.canonicalString()}}function Aa(n){return Wt.fromServerFormat(n.fieldPath)}function Lb(n){return n instanceof Rt?(function(t){if(t.op==="=="){if(Jv(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NAN"}};if(Xv(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jv(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NAN"}};if(Xv(t.value))return{unaryFilter:{field:ka(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(t.field),op:GD(t.op),value:t.value}}})(n):n instanceof $r?(function(t){const r=t.getFilters().map((i=>Lb(i)));return r.length===1?r[0]:{compositeFilter:{op:QD(t.op),filters:r}}})(n):Ee(54877,{filter:n})}function YD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Vb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,r,i,o=Se.min(),l=Se.min(),c=qt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.yt=e}}function JD(n){const e=WD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Cn=new eO}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(ys.min())}updateCollectionGroup(e,t,r){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class eO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dt(ut.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fb=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(Fb,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ha(0)}static cr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LruGarbageCollector",tO=1048576;function pw([n,e],[t,r]){const i=Le(n,t);return i===0?Le(e,r):i}class nO{constructor(e){this.Ir=e,this.buffer=new Dt(pw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(fw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xa(t)?ue(fw,"Ignoring IndexedDB error during garbage collection: ",t):await Ya(t)}await this.Vr(3e5)}))}}class iO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Hd.ce);const r=new nO(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(dw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,l,c,h,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,t)))).next((y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(f=Date.now(),Ia()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function sO(n,e){return new iO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.changes=new Po((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?J.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&vc(r.mutation,i,cr.empty(),ot.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ve()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ve()){const i=so();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let l=oc();return o.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=so();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ve())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,i){let o=Ti();const l=_c(),c=(function(){return _c()})();return t.forEach(((h,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof No)?o=o.insert(f.key,f):g!==void 0?(l.set(f.key,g.mutation.getFieldMask()),vc(g.mutation,f,g.mutation.getFieldMask(),ot.now())):l.set(f.key,cr.empty())})),this.recalculateAndSaveOverlays(e,o).next((h=>(h.forEach(((f,g)=>l.set(f,g))),t.forEach(((f,g)=>c.set(f,new aO(g,l.get(f)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=_c();let i=new ht(((l,c)=>l-c)),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((h=>{const f=t.get(h);if(f===null)return;let g=r.get(h)||cr.empty();g=c.applyToLocalView(f,g),r.set(h,g);const y=(i.get(c.batchId)||Ve()).add(h);i=i.insert(c.batchId,y)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,g=h.value,y=vb();g.forEach((w=>{if(!o.has(w)){const T=Ib(t.get(w),r.get(w));T!==null&&y.set(w,T),o=o.add(w)}})),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return J.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(l){return ve.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cD(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):J.resolve(so());let c=Ic,h=o;return l.next((f=>J.forEach(f,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((w=>{h=h.insert(g,w)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,h,f,Ve()))).next((g=>({batchId:c,changes:_b(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next((r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=oc();return this.indexManager.getCollectionParents(e,o).next((c=>J.forEach(c,(h=>{const f=(function(y,w){return new Kd(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((g=>{g.forEach(((y,w)=>{l=l.insert(y,w)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((l=>{o.forEach(((h,f)=>{const g=f.getKey();l.get(g)===null&&(l=l.insert(g,tn.newInvalidDocument(g)))}));let c=oc();return l.forEach(((h,f)=>{const g=o.get(h);g!==void 0&&vc(g.mutation,f,cr.empty(),ot.now()),Qd(t,f)&&(c=c.insert(h,f))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:jr(i.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:JD(i.bundledQuery),readTime:jr(i.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new ht(ve.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const r=so();return J.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.St(e,t,o)})),J.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,t,r){const i=so(),o=t.length+1,l=new ve(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ht(((f,g)=>f-g));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=so(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const c=so(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,g)=>c.set(f,g))),!(c.size()>=i)););return J.resolve(c)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new AD(t,r));let o=this.qr.get(t);o===void 0&&(o=Ve(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Qr=new Dt(Vt.$r),this.Ur=new Dt(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Vt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ve(new ut([])),r=new Vt(t,e),i=new Vt(t,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new ut([])),r=new Vt(t,e),i=new Vt(t,e+1);let o=Ve();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new Vt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||Le(e.Yr,t.Yr)}static Kr(e,t){return Le(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Vt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new kD(o,t,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Vt(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Nm:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),i=new Vt(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(Le);return t.forEach((i=>{const o=new Vt(i,0),l=new Vt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;ve.isDocumentKey(o)||(o=o.child(""));const l=new Vt(new ve(o),0);let c=new Dt(Le);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.Yr)),!0)}),l),J.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ke(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(t.mutations,(i=>{const o=new Vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Vt(t,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.ri=e,this.docs=(function(){return new ht(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return J.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=Ti();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))})),J.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ti();const l=t.path,c=new ve(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:g}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||UN(jN(g),r)<=0||(i.has(g.key)||Qd(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Ee(9500)}ii(e,t){return J.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new pO(this)}getSize(e){return J.resolve(this.size)}}class pO extends oO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.persistence=e,this.si=new Po((t=>Mm(t)),Lm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=Ha.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ha(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),J.waitFor(o).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return J.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),J.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),J.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return J.resolve(r)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t){this.ui={},this.overlays={},this.ci=new Hd(0),this.li=!1,this.li=!0,this.hi=new hO,this.referenceDelegate=e(this),this.Pi=new gO(this),this.indexManager=new ZD,this.remoteDocumentCache=(function(i){return new fO(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new XD(t),this.Ii=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new dO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new mO(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class mO extends BN{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Bm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),J.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const i=ve.fromPath(r);return this.gi(e,i).next((o=>{o||t.removeEntry(i,Se.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yd{constructor(e,t){this.persistence=e,this.pi=new Po((r=>WN(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=sO(this,t)}static mi(e,t){return new yd(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?J.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((c=>{c||(r++,o.removeEntry(l,Se.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kh(e.data.value)),t}br(e,t,r){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Hm(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return uk()?8:$N(rn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ys(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,t,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new yO;return this.Ss(e,t,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>o.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(Ia()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Sa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ia()<=Me.DEBUG&&ue("QueryEngine","Query:",Sa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ia()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Sa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):J.resolve())}ys(e,t){if(nw(t))return J.resolve(null);let r=Fr(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=Fg(t,null,"F"),r=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Ve(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(t,c);return this.Cs(t,f,l,h.readTime)?this.ys(e,Fg(t,null,"F")):this.vs(e,f,t,h)}))))})))))}ws(e,t,r,i){return nw(t)||i.isEqual(Se.min())?J.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(t,o);return this.Cs(t,l,r,i)?J.resolve(null):(Ia()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sa(t)),this.vs(e,l,t,FN(i,Ic)).next((c=>c)))}))}Ds(e,t){let r=new Dt(mb(e));return t.forEach(((i,o)=>{Qd(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Ia()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Sa(t)),this.ps.getDocumentsMatchingQuery(e,t,ys.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",vO=3e8;class wO{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ht(Le),this.xs=new Po((o=>Mm(o)),Lm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function xO(n,e,t,r){return new wO(n,e,t,r)}async function Ub(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let h=Ve();for(const f of i){l.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}for(const f of o){c.push(f.batchId);for(const g of f.mutations)h=h.add(g.key)}return t.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:c})))}))}))}function TO(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,f,g){const y=f.batch,w=y.keys();let T=J.resolve();return w.forEach((N=>{T=T.next((()=>g.getEntry(h,N))).next((A=>{const I=f.docVersions.get(N);Ke(I!==null,48541),A.version.compareTo(I)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),g.addEntry(A)))}))})),T.next((()=>c.mutationQueue.removeMutationBatch(h,y)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Ve();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function zb(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function EO(n,e){const t=Pe(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const c=[];e.targetChanges.forEach(((g,y)=>{const w=i.get(y);if(!w)return;c.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,y))));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),i=i.insert(y,T),(function(A,I,V){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=vO?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(w,T,g)&&c.push(t.Pi.updateTargetData(o,T))}));let h=Ti(),f=Ve();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(bO(o,l,e.documentUpdates).next((g=>{h=g.ks,f=g.qs}))),!r.isEqual(Se.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((y=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return J.waitFor(c).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,h,f))).next((()=>h))})).then((o=>(t.Ms=i,o)))}function bO(n,e,t){let r=Ve(),i=Ve();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let l=Ti();return t.forEach(((c,h)=>{const f=o.get(c);h.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),h.isNoDocument()&&h.version.isEqual(Se.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):ue(Wm,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",h.version)})),{ks:l,qs:i}}))}function IO(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SO(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((o=>o?(i=o,J.resolve(i)):t.Pi.allocateTargetId(r).next((l=>(i=new ls(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function $g(n,e,t){const r=Pe(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Xa(l))throw l;ue(Wm,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function gw(n,e,t){const r=Pe(n);let i=Se.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,f,g){const y=Pe(h),w=y.xs.get(g);return w!==void 0?J.resolve(y.Ms.get(w)):y.Pi.getTargetData(f,g)})(r,l,Fr(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((h=>{o=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,t?i:Se.min(),t?o:Ve()))).next((c=>(kO(r,hD(e),c),{documents:c,Qs:o})))))}function kO(n,e,t){let r=n.Os.get(e)||Se.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class mw{constructor(){this.activeTargetIds=yD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AO{constructor(){this.Mo=new mw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="ConnectivityMonitor";class _w{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(yw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=null;function Hg(){return Ih===null?Ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ih++,"0x"+Ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="RestConnection",RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===hd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){const l=Hg(),c=this.zo(e,t.toUriEncodedString());ue(tg,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,i,o);const{host:f}=new URL(c),g=So(f);return this.Jo(e,c,h,r,g).then((y=>(ue(tg,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Ua(tg,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,t,r,i,o,l){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const r=RO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class DO extends PO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const l=Hg();return new Promise(((c,h)=>{const f=new WE;f.setWithCredentials(!0),f.listenOnce(qE.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case qh.NO_ERROR:const y=f.getResponseJson();ue(Jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case qh.TIMEOUT:ue(Jt,`RPC '${e}' ${l} timed out`),h(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const w=f.getStatus();if(ue(Jt,`RPC '${e}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T?.error;if(N&&N.status&&N.message){const A=(function(V){const F=V.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(F)>=0?F:te.UNKNOWN})(N.status);h(new ge(A,N.message))}else h(new ge(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ue(Jt,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);ue(Jt,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",g,r,15)}))}T_(e,t,r){const i=Hg(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=QE(),c=GE(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=o.join("");ue(Jt,`Creating RPC '${e}' stream ${i}: ${g}`,h);const y=l.createWebChannel(g,h);this.I_(y);let w=!1,T=!1;const N=new NO({Yo:I=>{T?ue(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(w||(ue(Jt,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),ue(Jt,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Zo:()=>y.close()}),A=(I,V,F)=>{I.listen(V,(U=>{try{F(U)}catch(B){setTimeout((()=>{throw B}),0)}}))};return A(y,sc.EventType.OPEN,(()=>{T||(ue(Jt,`RPC '${e}' stream ${i} transport opened.`),N.o_())})),A(y,sc.EventType.CLOSE,(()=>{T||(T=!0,ue(Jt,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(y))})),A(y,sc.EventType.ERROR,(I=>{T||(T=!0,Ua(Jt,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),N.a_(new ge(te.UNAVAILABLE,"The operation could not be completed")))})),A(y,sc.EventType.MESSAGE,(I=>{if(!T){const V=I.data[0];Ke(!!V,16349);const F=V,U=F?.error||F[0]?.error;if(U){ue(Jt,`RPC '${e}' stream ${i} received error:`,U);const B=U.status;let q=(function(b){const D=bt[b];if(D!==void 0)return Ab(D)})(B),Y=U.message;q===void 0&&(q=te.INTERNAL,Y="Unknown error status: "+B+" with message "+U.message),T=!0,N.a_(new ge(q,Y)),y.close()}else ue(Jt,`RPC '${e}' stream ${i} received:`,V),N.u_(V)}})),A(c,KE.STAT_EVENT,(I=>{I.stat===Ng.PROXY?ue(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Ng.NOPROXY&&ue(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function ng(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){return new VD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="PersistentStream";class $b{constructor(e,t,r,i,o,l,c,h){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ge(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OO extends $b{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=UD(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Se.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Se.min():l.readTime?jr(l.readTime):Se.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Bg(this.serializer),t.addTarget=(function(o,l){let c;const h=l.target;if(c=Vg(h)?{documents:$D(o,h)}:{query:HD(o,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Pb(o,l.resumeToken);const f=jg(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(Se.min())>0){c.readTime=md(o,l.snapshotVersion.toTimestamp());const f=jg(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c})(this.serializer,e);const r=qD(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Bg(this.serializer),t.removeTarget=e,this.q_(t)}}class MO extends $b{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=BD(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Bg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>zD(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{}class VO extends LO{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Ug(t,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(te.UNKNOWN,o.toString())}))}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Ug(t,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ge(te.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class FO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo="RemoteStore";class jO{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Do(this)&&(ue(wo,"Restarting streams for network reachability change."),await(async function(h){const f=Pe(h);f.Ea.add(4),await Yc(f),f.Ra.set("Unknown"),f.Ea.delete(4),await ef(f)})(this))}))})),this.Ra=new FO(r,i)}}async function ef(n){if(Do(n))for(const e of n.da)await e(!0)}async function Yc(n){for(const e of n.da)await e(!1)}function Hb(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qm(t)?Gm(t):Ja(t).O_()&&Km(t,e))}function qm(n,e){const t=Pe(n),r=Ja(t);t.Ia.delete(e),r.O_()&&Wb(t,e),t.Ia.size===0&&(r.O_()?r.L_():Do(t)&&t.Ra.set("Unknown"))}function Km(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ja(n).Y_(e)}function Wb(n,e){n.Va.Ue(e),Ja(n).Z_(e)}function Gm(n){n.Va=new DD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ja(n).start(),n.Ra.ua()}function Qm(n){return Do(n)&&!Ja(n).x_()&&n.Ia.size>0}function Do(n){return Pe(n).Ea.size===0}function qb(n){n.Va=void 0}async function UO(n){n.Ra.set("Online")}async function zO(n){n.Ia.forEach(((e,t)=>{Km(n,e)}))}async function BO(n,e){qb(n),Qm(n)?(n.Ra.ha(e),Gm(n)):n.Ra.set("Unknown")}async function $O(n,e,t){if(n.Ra.set("Online"),e instanceof Rb&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(n,e)}catch(r){ue(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(n,r)}else if(e instanceof Yh?n.Va.Ze(e):e instanceof Cb?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const r=await zb(n.localStore);t.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=o.Ia.get(f);g&&o.Ia.set(f,g.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,f)=>{const g=o.Ia.get(h);if(!g)return;o.Ia.set(h,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),Wb(o,h);const y=new ls(g.target,h,f,g.sequenceNumber);Km(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){ue(wo,"Failed to raise snapshot:",r),await _d(n,r)}}async function _d(n,e,t){if(!Xa(e))throw e;n.Ea.add(1),await Yc(n),n.Ra.set("Offline"),t||(t=()=>zb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(wo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ef(n)}))}function Kb(n,e){return e().catch((t=>_d(n,t,e)))}async function tf(n){const e=Pe(n),t=xs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nm;for(;HO(e);)try{const i=await IO(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,WO(e,i)}catch(i){await _d(e,i)}Gb(e)&&Qb(e)}function HO(n){return Do(n)&&n.Ta.length<10}function WO(n,e){n.Ta.push(e);const t=xs(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Gb(n){return Do(n)&&!xs(n).x_()&&n.Ta.length>0}function Qb(n){xs(n).start()}async function qO(n){xs(n).ra()}async function KO(n){const e=xs(n);for(const t of n.Ta)e.ea(t.mutations)}async function GO(n,e,t){const r=n.Ta.shift(),i=jm.from(r,e,t);await Kb(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await tf(n)}async function QO(n,e){e&&xs(n).X_&&await(async function(r,i){if((function(l){return RD(l)&&l!==te.ABORTED})(i.code)){const o=r.Ta.shift();xs(r).B_(),await Kb(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await tf(r)}})(n,e),Gb(n)&&Qb(n)}async function ww(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ue(wo,"RemoteStore received new credentials");const r=Do(t);t.Ea.add(3),await Yc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ef(t)}async function YO(n,e){const t=Pe(n);e?(t.Ea.delete(2),await ef(t)):e||(t.Ea.add(2),await Yc(t),t.Ra.set("Unknown"))}function Ja(n){return n.ma||(n.ma=(function(t,r,i){const o=Pe(t);return o.sa(),new OO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:UO.bind(null,n),t_:zO.bind(null,n),r_:BO.bind(null,n),H_:$O.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qm(n)?Gm(n):n.Ra.set("Unknown")):(await n.ma.stop(),qb(n))}))),n.ma}function xs(n){return n.fa||(n.fa=(function(t,r,i){const o=Pe(t);return o.sa(),new MO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:qO.bind(null,n),r_:QO.bind(null,n),ta:KO.bind(null,n),na:GO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await tf(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(wo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,c=new Ym(e,t,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(n,e){if(xi("AsyncQueue",`${e}: ${n}`),Xa(n))return new ge(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{static emptySet(e){return new Ma(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=oc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ma)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ma;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.ga=new ht(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Wa{constructor(e,t,r,i,o,l,c,h,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Wa(e,t,Ma.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JO{constructor(){this.queries=Tw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Pe(t),o=i.queries;i.queries=Tw(),o.forEach(((l,c)=>{for(const h of c.Sa)h.onError(r)}))})(this,new ge(te.ABORTED,"Firestore shutting down"))}}function Tw(){return new Po((n=>gb(n)),Gd)}async function ZO(n,e){const t=Pe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new XO,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const c=Xm(l,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Jm(t)}async function eM(n,e){const t=Pe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function tM(n,e){const t=Pe(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&Jm(t)}function nM(n,e,t){const r=Pe(n),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(e)}function Jm(n){n.Ca.forEach((e=>{e.next()}))}var Wg,Ew;(Ew=Wg||(Wg={})).Ma="default",Ew.Cache="cache";class rM{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.key=e}}class Xb{constructor(e){this.key=e}}class iM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=mb(e),this.tu=new Ma(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new xw,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,c=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,y)=>{const w=i.get(g),T=Qd(this.query,y)?y:null,N=!!w&&this.mutatedKeys.has(w.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let I=!1;w&&T?w.data.isEqual(T.data)?N!==A&&(r.track({type:3,doc:T}),I=!0):this.su(w,T)||(r.track({type:2,doc:T}),I=!0,(h&&this.eu(T,h)>0||f&&this.eu(T,f)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),I=!0):w&&!T&&(r.track({type:1,doc:w}),I=!0,(h||f)&&(c=!0)),I&&(T?(l=l.add(T),o=A?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(T,N){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:I})}};return A(T)-A(N)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),i=i??!1;const c=t&&!i?this._u():[],h=this.Xa.size===0&&this.current&&!i?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Wa(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Xb(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Yb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zm="SyncEngine";class sM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oM{constructor(e){this.key=e,this.hu=!1}}class aM{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Po((c=>gb(c)),Gd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ve.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=Ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lM(n,e,t=!0){const r=r1(n);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await Jb(r,e,t,!0),i}async function cM(n,e){const t=r1(n);await Jb(t,e,!0,!1)}async function Jb(n,e,t,r){const i=await SO(n.localStore,Fr(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await uM(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Hb(n.remoteStore,i),c}async function uM(n,e,t,r,i){n.pu=(y,w,T)=>(async function(A,I,V,F){let U=I.view.ru(V);U.Cs&&(U=await gw(A.localStore,I.query,!1).then((({documents:R})=>I.view.ru(R,U))));const B=F&&F.targetChanges.get(I.targetId),q=F&&F.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(U,A.isPrimaryClient,B,q);return Iw(A,I.targetId,Y.au),Y.snapshot})(n,y,w,T);const o=await gw(n.localStore,e,!0),l=new iM(e,o.Qs),c=l.ru(o.documents),h=Qc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(c,n.isPrimaryClient,h);Iw(n,t,f.au);const g=new sM(e,t,l);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function hM(n,e,t){const r=Pe(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Gd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $g(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&qm(r.remoteStore,i.targetId),qg(r,i.targetId)})).catch(Ya)):(qg(r,i.targetId),await $g(r.localStore,i.targetId,!0))}async function dM(n,e){const t=Pe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qm(t.remoteStore,r.targetId))}async function fM(n,e,t){const r=wM(n);try{const i=await(function(l,c){const h=Pe(l),f=ot.now(),g=c.reduce(((T,N)=>T.add(N.key)),Ve());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let N=Ti(),A=Ve();return h.Ns.getEntries(T,g).next((I=>{N=I,N.forEach(((V,F)=>{F.isValidDocument()||(A=A.add(V))}))})).next((()=>h.localDocuments.getOverlayedDocuments(T,N))).next((I=>{y=I;const V=[];for(const F of c){const U=ID(F,y.get(F.key).overlayedDocument);U!=null&&V.push(new No(F.key,U,lb(U.value.mapValue),yi.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,V,c)})).next((I=>{w=I;const V=I.applyToLocalDocumentSet(y,A);return h.documentOverlayCache.saveOverlays(T,I.batchId,V)}))})).then((()=>({batchId:w.batchId,changes:_b(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new ht(Le)),f=f.insert(c,h),l.Vu[l.currentUser.toKey()]=f})(r,i.batchId,t),await Xc(r,i.changes),await tf(r.remoteStore)}catch(i){const o=Xm(i,"Failed to persist write");t.reject(o)}}async function Zb(n,e){const t=Pe(n);try{const r=await EO(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=t.Au.get(o);l&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Ke(l.hu,14607):i.removedDocuments.size>0&&(Ke(l.hu,42227),l.hu=!1))})),await Xc(t,r,e)}catch(r){await Ya(r)}}function bw(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const h=Pe(l);h.onlineState=c;let f=!1;h.queries.forEach(((g,y)=>{for(const w of y.Sa)w.va(c)&&(f=!0)})),f&&Jm(h)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pM(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new ht(ve.comparator);l=l.insert(o,tn.newNoDocument(o,Se.min()));const c=Ve().add(o),h=new Jd(Se.min(),new Map,new ht(Le),l,c);await Zb(r,h),r.du=r.du.remove(o),r.Au.delete(e),ey(r)}else await $g(r.localStore,e,!1).then((()=>qg(r,e,t))).catch(Ya)}async function gM(n,e){const t=Pe(n),r=e.batch.batchId;try{const i=await TO(t.localStore,e);t1(t,r,null),e1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(t,i)}catch(i){await Ya(i)}}async function mM(n,e,t){const r=Pe(n);try{const i=await(function(l,c){const h=Pe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let g;return h.mutationQueue.lookupMutationBatch(f,c).next((y=>(Ke(y!==null,37113),g=y.keys(),h.mutationQueue.removeMutationBatch(f,y)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g))).next((()=>h.localDocuments.getDocuments(f,g)))}))})(r.localStore,e);t1(r,e,t),e1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xc(r,i)}catch(i){await Ya(i)}}function e1(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function t1(n,e,t){const r=Pe(n);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||n1(n,r)}))}function n1(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(qm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ey(n))}function Iw(n,e,t){for(const r of t)r instanceof Yb?(n.Ru.addReference(r.key,e),yM(n,r)):r instanceof Xb?(ue(Zm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||n1(n,r.key)):Ee(19791,{wu:r})}function yM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ue(Zm,"New document in limbo: "+t),n.Eu.add(r),ey(n))}function ey(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ve(ut.fromString(e)),r=n.fu.next();n.Au.set(r,new oM(t)),n.du=n.du.insert(t,r),Hb(n.remoteStore,new ls(Fr(Vm(t.path)),r,"TargetPurposeLimboResolution",Hd.ce))}}async function Xc(n,e,t){const r=Pe(n),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const g=f?!f.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,g?"current":"not-current")}if(f){i.push(f);const g=Hm.As(h.targetId,f);o.push(g)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(h,f){const g=Pe(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>J.forEach(f,(w=>J.forEach(w.Es,(T=>g.persistence.referenceDelegate.addReference(y,w.targetId,T))).next((()=>J.forEach(w.ds,(T=>g.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))))))}catch(y){if(!Xa(y))throw y;ue(Wm,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const T=g.Ms.get(w),N=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(N);g.Ms=g.Ms.insert(w,A)}}})(r.localStore,o))}async function _M(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ue(Zm,"User change. New user:",e.toKey());const r=await Ub(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((h=>{h.reject(new ge(te.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(t,r.Ls)}}function vM(n,e){const t=Pe(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let i=Ve();const o=t.Iu.get(e);if(!o)return i;for(const l of o){const c=t.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function r1(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pM.bind(null,e),e.Pu.H_=tM.bind(null,e.eventManager),e.Pu.yu=nM.bind(null,e.eventManager),e}function wM(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mM.bind(null,e),e}class vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xO(this.persistence,new _O,e.initialUser,this.serializer)}Cu(e){return new jb($m.mi,this.serializer)}Du(e){return new AO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vd.provider={build:()=>new vd};class xM extends vd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ke(this.persistence.referenceDelegate instanceof yd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new jb((r=>yd.mi(r,t)),this.serializer)}}class Kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_M.bind(null,this.syncEngine),await YO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JO})()}createDatastore(e){const t=Zd(e.databaseInfo.databaseId),r=(function(o){return new DO(o)})(e.databaseInfo);return(function(o,l,c,h){return new VO(o,l,c,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,l,c){return new jO(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>bw(this.syncEngine,t,0)),(function(){return _w.v()?new _w:new CO})())}createSyncEngine(e,t){return(function(i,o,l,c,h,f,g){const y=new aM(i,o,l,c,h,f);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Pe(t);ue(wo,"RemoteStore shutting down."),r.Ea.add(5),await Yc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class EM{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=en.UNAUTHENTICATED,this.clientId=Rm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ue(Ts,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ue(Ts,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rg(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Ub(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Sw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bM(n);ue(Ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ww(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>ww(e.remoteStore,i))),n._onlineComponents=e}async function bM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ts,"Using user provided OfflineComponentProvider");try{await rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Ua("Error using user provided cache. Falling back to memory cache: "+t),await rg(n,new vd)}}else ue(Ts,"Using default OfflineComponentProvider"),await rg(n,new xM(void 0));return n._offlineComponents}async function i1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ts,"Using user provided OnlineComponentProvider"),await Sw(n,n._uninitializedComponentsProvider._online)):(ue(Ts,"Using default OnlineComponentProvider"),await Sw(n,new Kg))),n._onlineComponents}function IM(n){return i1(n).then((e=>e.syncEngine))}async function kw(n){const e=await i1(n),t=e.eventManager;return t.onListen=lM.bind(null,e.syncEngine),t.onUnlisten=hM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dM.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firestore.googleapis.com",Cw=!0;class Rw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=Cw}else this.host=e.host,this.ssl=e.ssl??Cw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tO)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ge(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ty{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SN;switch(r.type){case"firstParty":return new RN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=Aw.get(t);r&&(ue("ComponentProvider","Removing Datastore"),Aw.delete(t),r.terminate())})(this),Promise.resolve()}}function SM(n,e,t,r={}){n=Oa(n,ty);const i=So(e),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;i&&(gT(`https://${c}`),mT("Firestore",!0)),o.host!==o1&&o.host!==c&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:c,ssl:i,emulatorOptions:r};if(!fo(h,l)&&(n._setSettings(h),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=en.MOCK_USER;else{f=nk(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new en(y)}n._authCredentials=new kN(new XE(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new nf(this.firestore,e,this._query)}}class Ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Kc(t,Ft._jsonSchema))return new Ft(e,r||null,new ve(ut.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:It("string",Ft._jsonSchemaVersion),referencePath:It("string")};class Nc extends nf{constructor(e,t,r){super(e,t,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ve(e))}withConverter(e){return new Nc(this.firestore,e,this._path)}}function Pw(n,e,...t){if(n=kt(n),arguments.length===1&&(e=Rm.newId()),LN("doc","path",e),n instanceof ty){const r=ut.fromString(e,...t);return $v(r),new Ft(n,null,new ve(r))}{if(!(n instanceof Ft||n instanceof Nc))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ut.fromString(e,...t));return $v(r),new Ft(n.firestore,n instanceof Nc?n.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="AsyncQueue";class Dw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bb(this,"async_queue_retry"),this._c=()=>{const r=ng();r&&ue(Nw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new lo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xa(e))throw e;ue(Nw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",Ow(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Ym.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:Ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ow(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}class wd extends ty{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dw,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Dw(e),this._firestoreClient=void 0,await e}}}function kM(n,e){const t=typeof n=="object"?n:bT(),r=typeof n=="string"?n:hd,i=Bc(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ek("firestore");o&&SM(i,...o)}return i}function a1(n){if(n._terminated)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AM(n),n._firestoreClient}function AM(n){const e=n._freezeSettings(),t=(function(i,o,l,c){return new GN(i,o,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,s1(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new EM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(qt.fromBase64String(e))}catch(t){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:It("string",Hn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:It("string",Ur._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new zr(e.vectorValues);throw new ge(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:It("string",zr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;class RM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new No(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gc(e,this.data,t,this.fieldTransforms)}}function l1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class iy{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(l1(this.Ac)&&CM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Zd(e)}Cc(e,t,r,i=!1){return new iy({Ac:e,methodName:t,Dc:r,path:Wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NM(n){const e=n._freezeSettings(),t=Zd(n._databaseId);return new PM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DM(n,e,t,r,i,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);d1("Data must be an object, but it was:",l,r);const c=u1(r,l);let h,f;if(o.merge)h=new cr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const y of o.mergeFields){const w=OM(e,y,t);if(!l.contains(w))throw new ge(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);LM(g,w)||g.push(w)}h=new cr(g),f=l.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,f=l.fieldTransforms;return new RM(new $n(c),h,f)}class sy extends ry{_toFieldTransform(e){return new xD(e.path,new Cc)}isEqual(e){return e instanceof sy}}function c1(n,e){if(h1(n=kt(n)))return d1("Unsupported field value:",e,n),u1(n,e);if(n instanceof ry)return(function(r,i){if(!l1(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let h=c1(c,i.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _D(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ot.fromDate(r);return{timestampValue:md(i.serializer,o)}}if(r instanceof ot){const o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:md(i.serializer,o)}}if(r instanceof Ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:Pb(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof zr)return(function(l,c){return{mapValue:{fields:{[ob]:{stringValue:ab},[dd]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw c.Sc("VectorValues must only contain numeric values.");return Fm(c.serializer,f)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Pm(r)}`)})(n,e)}function u1(n,e){const t={};return eb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,((r,i)=>{const o=c1(i,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function h1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ot||n instanceof Ur||n instanceof Hn||n instanceof Ft||n instanceof ry||n instanceof zr)}function d1(n,e,t){if(!h1(t)||!JE(t)){const r=Pm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function OM(n,e,t){if((e=kt(e))instanceof ny)return e._internalPath;if(typeof e=="string")return f1(n,e);throw xd("Field path arguments must be of type string or ",n,!1,void 0,t)}const MM=new RegExp("[~\\*/\\[\\]]");function f1(n,e,t){if(e.search(MM)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ny(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xd(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ge(te.INVALID_ARGUMENT,c+n+h)}function LM(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(g1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VM extends p1{data(){return super.data()}}function g1(n,e){return typeof e=="string"?f1(n,e):e instanceof ny?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jM{convertValue(e,t="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ro(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[dd].arrayValue?.values?.map((r=>vt(r.doubleValue)));return new zr(t)}convertGeoPoint(e){return new Ur(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=qd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=_s(e);return new ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);Ke(Vb(r),9688,{name:e});const i=new kc(r.get(1),r.get(3)),o=new ve(r.popFirst(5));return i.isEqual(t)||xi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class co extends p1{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(g1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=co._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}co._jsonSchemaVersion="firestore/documentSnapshot/1.0",co._jsonSchema={type:It("string",co._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Xh extends co{data(e={}){return super.data(e)}}class La{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Xh(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const h=new Xh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const h=new Xh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lc(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:zM(c.type),doc:h,oldIndex:f,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=La._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:It("string",La._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class m1 extends jM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function BM(n,e,t){n=Oa(n,Ft);const r=Oa(n.firestore,wd),i=UM(n.converter,e);return HM(r,[DM(NM(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,yi.none())])}function $M(n,...e){n=kt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Mw(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Mw(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let o,l,c;if(n instanceof Ft)l=Oa(n.firestore,wd),c=Vm(n._key.path),o={next:h=>{e[r]&&e[r](WM(l,n,h))},error:e[r+1],complete:e[r+2]};else{const h=Oa(n,nf);l=Oa(h.firestore,wd),c=h._query;const f=new m1(l);o={next:g=>{e[r]&&e[r](new La(l,f,h,g))},error:e[r+1],complete:e[r+2]},FM(n._query)}return(function(f,g,y,w){const T=new TM(w),N=new rM(g,T,y);return f.asyncQueue.enqueueAndForget((async()=>ZO(await kw(f),N))),()=>{T.Nu(),f.asyncQueue.enqueueAndForget((async()=>eM(await kw(f),N)))}})(a1(l),c,i,o)}function HM(n,e){return(function(r,i){const o=new lo;return r.asyncQueue.enqueueAndForget((async()=>fM(await IM(r),i,o))),o.promise})(a1(n),e)}function WM(n,e,t){const r=t.docs.get(e._key),i=new m1(n);return new co(n,i,e._key,r,new lc(t.hasPendingWrites,t.fromCache),e.converter)}function qM(){return new sy("serverTimestamp")}(function(e,t=!0){(function(i){Qa=i})(Ao),ur(new Kn("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new wd(new AN(r.getProvider("auth-internal")),new PN(l,r.getProvider("app-check-internal")),(function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(f.options.projectId,g)})(l,i),l);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),xn(jv,Uv,e),xn(jv,Uv,"esm2020")})();const KM={apiKey:"AIzaSyBifhKDvHan2MacWH46jL7Ijb6KNPy5ql8",authDomain:"phintrackr.firebaseapp.com",projectId:"phintrackr",storageBucket:"phintrackr.firebasestorage.app",messagingSenderId:"877441590841",appId:"1:877441590841:web:95cd15d73f5f8d259a8fe8",measurementId:"G-XJQQJW5J3X"},y1=ET(KM),Sh=bN(y1),Lw=kM(y1),_1=ce.createContext(),GM=({children:n})=>{const[e,t]=ce.useState("home");ce.useEffect(()=>{console.log("This is the currrent tab",e)},[e]);const r=async(h,f)=>{if(!h)return null;const g=jC(storage,`users/${f}/${h.name}`);return await VC(g,h),await FC(g)},[i,o]=ce.useState(!1),l=async h=>{if(!h)return alert("No file or user!");o(!0);try{const f=await r(h,currentUser.uid);return setUrl(f),alert("Upload successful!"),f}catch(f){return console.error("Upload failed:",f),null}finally{o(!1)}},c=async h=>{console.log("I GOT THE PAYLOAD",h),(!h.image1==null||!h.image2==null)&&(await l(h.image1),await l(h.image2))};return S.jsx(_1.Provider,{value:{tab:e,setTab:t,uploadNewExpense:c},children:n})},v1=()=>ce.useContext(_1),QM=({page:n})=>{const{setTab:e}=v1();return S.jsxs("div",{className:"w-full h-22 bg-gray-200 px-3 flex justify-between fixed left-0 right-0 bottom-0",children:[S.jsxs("div",{className:"left flex-2 flex align-middle justify-between gap-0.5",children:[S.jsxs("button",{onClick:()=>e("home"),className:`${n=="home"?"bg-appPurple text-white":""} flex flex-1 flex-col align-middle gap-1 py-2`,children:[S.jsx("i",{className:"bxr  bx-home text-3xl"}),"Home"]}),S.jsxs("button",{onClick:()=>e("receipts"),className:`${n=="receipts"?"bg-appPurple text-white":""} flex flex-1 flex-col align-middle gap-1 py-2`,children:[S.jsx("i",{className:"bxr  bx-receipt text-3xl"}),"Receipts"]})]}),S.jsx("div",{className:"flex-[1.7] flex align-middle justify-center relative",children:S.jsx("button",{onClick:()=>e("new-shii"),className:`${n=="new-shii"?"border-2 border-appPurple":""} absolute bottom-8 bg-amber-600 flex align-middle justify-center text-white rounded-full p-4`,children:S.jsx("i",{className:"bxr  bx-plus text-4xl"})})}),S.jsxs("div",{className:"right flex-2 flex align-middle justify-between gap-2",children:[S.jsxs("button",{onClick:()=>e("charts"),className:`${n=="charts"?"bg-appPurple text-white":""} flex w-1/2 flex-col align-middle gap-1 py-2`,children:[S.jsx("i",{className:"bxr  bx-pie-chart text-3xl"}),"Charts"]}),S.jsxs("button",{onClick:()=>e("reminders"),className:`${n=="reminders"?"bg-appPurple text-white":""} flex flex-1 flex-col align-middle gap-1 py-2`,children:[S.jsx("i",{className:"bxr  bx-bell text-3xl"}),"Settings"]})]})]})};function w1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=w1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function uo(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=w1(n))&&(r&&(r+=" "),r+=e);return r}function YM(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}YM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Jc=n=>typeof n=="number"&&!isNaN(n),xo=n=>typeof n=="string",Ei=n=>typeof n=="function",XM=n=>xo(n)||Jc(n),Gg=n=>xo(n)||Ei(n)?n:null,JM=(n,e)=>n===!1||Jc(n)&&n>0?n:e,Qg=n=>ce.isValidElement(n)||xo(n)||Ei(n)||Jc(n);function ZM(n,e,t=300){let{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function eL({enter:n,exit:e,appendPosition:t=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:c,done:h,nodeRef:f,isIn:g,playToast:y}){let w=t?`${n}--${l}`:n,T=t?`${e}--${l}`:e,N=ce.useRef(0);return ce.useLayoutEffect(()=>{let A=f.current,I=w.split(" "),V=F=>{F.target===f.current&&(y(),A.removeEventListener("animationend",V),A.removeEventListener("animationcancel",V),N.current===0&&F.type!=="animationcancel"&&A.classList.remove(...I))};A.classList.add(...I),A.addEventListener("animationend",V),A.addEventListener("animationcancel",V)},[]),ce.useEffect(()=>{let A=f.current,I=()=>{A.removeEventListener("animationend",I),r?ZM(A,h,i):h()};g||(c?I():(N.current=1,A.className+=` ${T}`,A.addEventListener("animationend",I)))},[g]),et.createElement(et.Fragment,null,o)}}function Vw(n,e){return{content:x1(n.content,n.props),containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,reason:n.removalReason,status:e}}function x1(n,e,t=!1){return ce.isValidElement(n)&&!xo(n.type)?ce.cloneElement(n,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Ei(n)?n({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):n}function tL({closeToast:n,theme:e,ariaLabel:t="close"}){return et.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),n(!0)},"aria-label":t},et.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},et.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nL({delay:n,isRunning:e,closeToast:t,type:r="default",hide:i,className:o,controlledProgress:l,progress:c,rtl:h,isIn:f,theme:g}){let y=i||l&&c===0,w={animationDuration:`${n}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${c})`);let T=uo("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":h}),N=Ei(o)?o({rtl:h,type:r,defaultClassName:T}):uo(T,o),A={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&t()}};return et.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},et.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${r}`}),et.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:N,style:w,...A}))}var rL=1,T1=()=>`${rL++}`;function iL(n,e,t){let r=1,i=0,o=[],l=[],c=e,h=new Map,f=new Set,g=F=>(f.add(F),()=>f.delete(F)),y=()=>{l=Array.from(h.values()),f.forEach(F=>F())},w=({containerId:F,toastId:U,updateId:B})=>{let q=F?F!==n:n!==1,Y=h.has(U)&&B==null;return q||Y},T=(F,U)=>{h.forEach(B=>{var q;(U==null||U===B.props.toastId)&&((q=B.toggle)==null||q.call(B,F))})},N=F=>{var U,B;(B=(U=F.props)==null?void 0:U.onClose)==null||B.call(U,F.removalReason),F.isActive=!1},A=F=>{if(F==null)h.forEach(N);else{let U=h.get(F);U&&N(U)}y()},I=()=>{i-=o.length,o=[]},V=F=>{var U,B;let{toastId:q,updateId:Y}=F.props,R=Y==null;F.staleId&&h.delete(F.staleId),F.isActive=!0,h.set(q,F),y(),t(Vw(F,R?"added":"updated")),R&&((B=(U=F.props).onOpen)==null||B.call(U))};return{id:n,props:c,observe:g,toggle:T,removeToast:A,toasts:h,clearQueue:I,buildToast:(F,U)=>{if(w(U))return;let{toastId:B,updateId:q,data:Y,staleId:R,delay:b}=U,D=q==null;D&&i++;let P={...c,style:c.toastStyle,key:r++,...Object.fromEntries(Object.entries(U).filter(([L,O])=>O!=null)),toastId:B,updateId:q,data:Y,isIn:!1,className:Gg(U.className||c.toastClassName),progressClassName:Gg(U.progressClassName||c.progressClassName),autoClose:U.isLoading?!1:JM(U.autoClose,c.autoClose),closeToast(L){h.get(B).removalReason=L,A(B)},deleteToast(){let L=h.get(B);if(L!=null){if(t(Vw(L,"removed")),h.delete(B),i--,i<0&&(i=0),o.length>0){V(o.shift());return}y()}}};P.closeButton=c.closeButton,U.closeButton===!1||Qg(U.closeButton)?P.closeButton=U.closeButton:U.closeButton===!0&&(P.closeButton=Qg(c.closeButton)?c.closeButton:!0);let C={content:F,props:P,staleId:R};c.limit&&c.limit>0&&i>c.limit&&D?o.push(C):Jc(b)?setTimeout(()=>{V(C)},b):V(C)},setProps(F){c=F},setToggle:(F,U)=>{let B=h.get(F);B&&(B.toggle=U)},isToastActive:F=>{var U;return(U=h.get(F))==null?void 0:U.isActive},getSnapshot:()=>l}}var cn=new Map,Dc=[],Yg=new Set,sL=n=>Yg.forEach(e=>e(n)),E1=()=>cn.size>0;function oL(){Dc.forEach(n=>I1(n.content,n.options)),Dc=[]}var aL=(n,{containerId:e})=>{var t;return(t=cn.get(e||1))==null?void 0:t.toasts.get(n)};function b1(n,e){var t;if(e)return!!((t=cn.get(e))!=null&&t.isToastActive(n));let r=!1;return cn.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function lL(n){if(!E1()){Dc=Dc.filter(e=>n!=null&&e.options.toastId!==n);return}if(n==null||XM(n))cn.forEach(e=>{e.removeToast(n)});else if(n&&("containerId"in n||"id"in n)){let e=cn.get(n.containerId);e?e.removeToast(n.id):cn.forEach(t=>{t.removeToast(n.id)})}}var cL=(n={})=>{cn.forEach(e=>{e.props.limit&&(!n.containerId||e.id===n.containerId)&&e.clearQueue()})};function I1(n,e){Qg(n)&&(E1()||Dc.push({content:n,options:e}),cn.forEach(t=>{t.buildToast(n,e)}))}function uL(n){var e;(e=cn.get(n.containerId||1))==null||e.setToggle(n.id,n.fn)}function S1(n,e){cn.forEach(t=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===t.id)&&t.toggle(n,e?.id)})}function hL(n){let e=n.containerId||1;return{subscribe(t){let r=iL(e,n,sL);cn.set(e,r);let i=r.observe(t);return oL(),()=>{i(),cn.delete(e)}},setProps(t){var r;(r=cn.get(e))==null||r.setProps(t)},getSnapshot(){var t;return(t=cn.get(e))==null?void 0:t.getSnapshot()}}}function dL(n){return Yg.add(n),()=>{Yg.delete(n)}}function fL(n){return n&&(xo(n.toastId)||Jc(n.toastId))?n.toastId:T1()}function Zc(n,e){return I1(n,e),e.toastId}function rf(n,e){return{...e,type:e&&e.type||n,toastId:fL(e)}}function sf(n){return(e,t)=>Zc(e,rf(n,t))}function De(n,e){return Zc(n,rf("default",e))}De.loading=(n,e)=>Zc(n,rf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function pL(n,{pending:e,error:t,success:r},i){let o;e&&(o=xo(e)?De.loading(e,i):De.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,g,y)=>{if(g==null){De.dismiss(o);return}let w={type:f,...l,...i,data:y},T=xo(g)?{render:g}:g;return o?De.update(o,{...w,...T}):De(T.render,{...w,...T}),y},h=Ei(n)?n():n;return h.then(f=>c("success",r,f)).catch(f=>c("error",t,f)),h}De.promise=pL;De.success=sf("success");De.info=sf("info");De.error=sf("error");De.warning=sf("warning");De.warn=De.warning;De.dark=(n,e)=>Zc(n,rf("default",{theme:"dark",...e}));function gL(n){lL(n)}De.dismiss=gL;De.clearWaitingQueue=cL;De.isActive=b1;De.update=(n,e={})=>{let t=aL(n,e);if(t){let{props:r,content:i}=t,o={delay:100,...r,...e,toastId:e.toastId||n,updateId:T1()};o.toastId!==n&&(o.staleId=n);let l=o.render||i;delete o.render,Zc(l,o)}};De.done=n=>{De.update(n,{progress:1})};De.onChange=dL;De.play=n=>S1(!0,n);De.pause=n=>S1(!1,n);function mL(n){var e;let{subscribe:t,getSnapshot:r,setProps:i}=ce.useRef(hL(n)).current;i(n);let o=(e=ce.useSyncExternalStore(t,r,r))==null?void 0:e.slice();function l(c){if(!o)return[];let h=new Map;return n.newestOnTop&&o.reverse(),o.forEach(f=>{let{position:g}=f.props;h.has(g)||h.set(g,[]),h.get(g).push(f)}),Array.from(h,f=>c(f[0],f[1]))}return{getToastToRender:l,isToastActive:b1,count:o?.length}}function yL(n){let[e,t]=ce.useState(!1),[r,i]=ce.useState(!1),o=ce.useRef(null),l=ce.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:c,pauseOnHover:h,closeToast:f,onClick:g,closeOnClick:y}=n;uL({id:n.toastId,containerId:n.containerId,fn:t}),ce.useEffect(()=>{if(n.pauseOnFocusLoss)return w(),()=>{T()}},[n.pauseOnFocusLoss]);function w(){document.hasFocus()||V(),window.addEventListener("focus",I),window.addEventListener("blur",V)}function T(){window.removeEventListener("focus",I),window.removeEventListener("blur",V)}function N(R){if(n.draggable===!0||n.draggable===R.pointerType){F();let b=o.current;l.canCloseOnClick=!0,l.canDrag=!0,b.style.transition="none",n.draggableDirection==="x"?(l.start=R.clientX,l.removalDistance=b.offsetWidth*(n.draggablePercent/100)):(l.start=R.clientY,l.removalDistance=b.offsetHeight*(n.draggablePercent===80?n.draggablePercent*1.5:n.draggablePercent)/100)}}function A(R){let{top:b,bottom:D,left:P,right:C}=o.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&n.pauseOnHover&&R.clientX>=P&&R.clientX<=C&&R.clientY>=b&&R.clientY<=D?V():I()}function I(){t(!0)}function V(){t(!1)}function F(){l.didMove=!1,document.addEventListener("pointermove",B),document.addEventListener("pointerup",q)}function U(){document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",q)}function B(R){let b=o.current;if(l.canDrag&&b){l.didMove=!0,e&&V(),n.draggableDirection==="x"?l.delta=R.clientX-l.start:l.delta=R.clientY-l.start,l.start!==R.clientX&&(l.canCloseOnClick=!1);let D=n.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;b.style.transform=`translate3d(${D},0)`,b.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function q(){U();let R=o.current;if(l.canDrag&&l.didMove&&R){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),n.closeToast(!0),n.collapseAll();return}R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}let Y={onPointerDown:N,onPointerUp:A};return c&&h&&(Y.onMouseEnter=V,n.stacked||(Y.onMouseLeave=I)),y&&(Y.onClick=R=>{g&&g(R),l.canCloseOnClick&&f(!0)}),{playToast:I,pauseToast:V,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:Y}}var _L=typeof window<"u"?ce.useLayoutEffect:ce.useEffect,of=({theme:n,type:e,isLoading:t,...r})=>et.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:n==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function vL(n){return et.createElement(of,{...n},et.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function wL(n){return et.createElement(of,{...n},et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function xL(n){return et.createElement(of,{...n},et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function TL(n){return et.createElement(of,{...n},et.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function EL(){return et.createElement("div",{className:"Toastify__spinner"})}var Xg={info:wL,warning:vL,success:xL,error:TL,spinner:EL},bL=n=>n in Xg;function IL({theme:n,type:e,isLoading:t,icon:r}){let i=null,o={theme:n,type:e};return r===!1||(Ei(r)?i=r({...o,isLoading:t}):ce.isValidElement(r)?i=ce.cloneElement(r,o):t?i=Xg.spinner():bL(e)&&(i=Xg[e](o))),i}var SL=n=>{let{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:o}=yL(n),{closeButton:l,children:c,autoClose:h,onClick:f,type:g,hideProgressBar:y,closeToast:w,transition:T,position:N,className:A,style:I,progressClassName:V,updateId:F,role:U,progress:B,rtl:q,toastId:Y,deleteToast:R,isIn:b,isLoading:D,closeOnClick:P,theme:C,ariaLabel:L}=n,O=uo("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${g}`,{"Toastify__toast--rtl":q},{"Toastify__toast--close-on-click":P}),ke=Ei(A)?A({rtl:q,position:N,type:g,defaultClassName:O}):uo(O,A),me=IL(n),Ae=!!B||!h,we={closeToast:w,type:g,theme:C},re=null;return l===!1||(Ei(l)?re=l(we):ce.isValidElement(l)?re=ce.cloneElement(l,we):re=tL(we)),et.createElement(T,{isIn:b,done:R,position:N,preventExitTransition:t,nodeRef:r,playToast:o},et.createElement("div",{id:Y,tabIndex:0,onClick:f,"data-in":b,className:ke,...i,style:I,ref:r,...b&&{role:U,"aria-label":L}},me!=null&&et.createElement("div",{className:uo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},me),x1(c,n,!e),re,!n.customProgressBar&&et.createElement(nL,{...F&&!Ae?{key:`p-${F}`}:{},rtl:q,theme:C,delay:h,isRunning:e,isIn:b,closeToast:w,hide:y,type:g,className:V,controlledProgress:Ae,progress:B||0})))},kL=(n,e=!1)=>({enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}),AL=eL(kL("bounce",!0)),CL={position:"top-right",transition:AL,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:n=>n.altKey&&n.code==="KeyT"};function RL(n){let e={...CL,...n},t=n.stacked,[r,i]=ce.useState(!0),o=ce.useRef(null),{getToastToRender:l,isToastActive:c,count:h}=mL(e),{className:f,style:g,rtl:y,containerId:w,hotKeys:T}=e;function N(I){let V=uo("Toastify__toast-container",`Toastify__toast-container--${I}`,{"Toastify__toast-container--rtl":y});return Ei(f)?f({position:I,rtl:y,defaultClassName:V}):uo(V,Gg(f))}function A(){t&&(i(!0),De.play())}return _L(()=>{var I;if(t){let V=o.current.querySelectorAll('[data-in="true"]'),F=12,U=(I=e.position)==null?void 0:I.includes("top"),B=0,q=0;Array.from(V).reverse().forEach((Y,R)=>{let b=Y;b.classList.add("Toastify__toast--stacked"),R>0&&(b.dataset.collapsed=`${r}`),b.dataset.pos||(b.dataset.pos=U?"top":"bot");let D=B*(r?.2:1)+(r?0:F*R);b.style.setProperty("--y",`${U?D:D*-1}px`),b.style.setProperty("--g",`${F}`),b.style.setProperty("--s",`${1-(r?q:0)}`),B+=b.offsetHeight,q+=.025})}},[r,h,t]),ce.useEffect(()=>{function I(V){var F;let U=o.current;T(V)&&((F=U.querySelector('[tabIndex="0"]'))==null||F.focus(),i(!1),De.pause()),V.key==="Escape"&&(document.activeElement===U||U!=null&&U.contains(document.activeElement))&&(i(!0),De.play())}return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[T]),et.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{t&&(i(!1),De.pause())},onMouseLeave:A,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((I,V)=>{let F=V.length?{...g}:{...g,pointerEvents:"none"};return et.createElement("div",{tabIndex:-1,className:N(I),"data-stacked":t,style:F,key:`c-${I}`},V.map(({content:U,props:B})=>et.createElement(SL,{...B,stacked:t,collapseAll:A,isIn:c(B.toastId,B.containerId),key:`t-${B.key}`},U)))}))}const k1=ce.createContext(),oy=()=>ce.useContext(k1),PL=({children:n})=>{const[e,t]=ce.useState(null),[r,i]=ce.useState(null),o=async(f,g,y)=>{try{const T=(await o2(Sh,g,y)).user;return await c2(T,{displayName:f}),await BM(Pw(Lw,"users",T.uid),{name:f,email:g,createdAt:qM()}),De.success("Account created successfully!"),t(T),T}catch(w){switch(console.error("Signup error:",w),w.code){case"auth/email-already-in-use":De.error("This email is already registered.");break;case"auth/invalid-email":De.error("Invalid email address.");break;case"auth/weak-password":De.error("Password must be at least 6 characters.");break;case"auth/missing-email":De.error("Email field is required.");break;default:De.error("Signup failed. Please try again.")}}},l=async(f,g)=>{try{const w=(await a2(Sh,f,g)).user;return t(w),De.success("Logged in successfully!"),w}catch(y){switch(console.error("Login error:",y),y.code){case"auth/invalid-credential":case"auth/invalid-email":case"auth/wrong-password":case"auth/user-not-found":De.error("Invalid email or password.");break;default:De.error("Login failed. Try again.")}}},c=async()=>{try{await f2(Sh),t(null),i(null),De.info("Logged out successfully.")}catch(f){console.error("Logout error:",f),De.error("Failed to log out. Try again.")}};ce.useEffect(()=>d2(Sh,async g=>{if(t(g),g){const y=Pw(Lw,"users",g.uid);return $M(y,T=>{T.exists()?(i(T.data()),console.log(" User data synced:",T.data())):console.log(" No Firestore record found for this user")})}else i(null)}),[]);const h={user:e,userData:r,signUp:o,login:l,logout:c};return S.jsx(k1.Provider,{value:h,children:n})},di=[{id:"tx_001",title:"Grocery Shopping",description:"Bought rice, milk, and eggs",category:"Groceries",amount:45.75,type:"expense",date:"2025-11-08T09:15:00Z",icon:"bx bx-cart-alt"},{id:"tx_002",title:"Freelance Payment",description:"Payment for landing page design",category:"Freelance",amount:250,type:"income",date:"2025-11-08T14:40:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_003",title:"Uber Ride",description:"Trip from Yaba to Lekki",category:"Transport",amount:12,type:"expense",date:"2025-11-08T18:20:00Z",icon:"bx bx-taxi"},{id:"tx_004",title:"Coffee at Caf Neo",description:"Morning cappuccino and croissant",category:"Food & Drink",amount:6.25,type:"expense",date:"2025-11-09T08:45:00Z",icon:"bx bx-coffee"},{id:"tx_005",title:"Electricity Bill",description:"Prepaid electricity recharge",category:"Utilities",amount:28.4,type:"expense",date:"2025-11-09T12:10:00Z",icon:"bx bx-bulb"},{id:"tx_006",title:"Freelance Payment",description:"Payment for UI design project",category:"Freelance",amount:180,type:"income",date:"2025-11-09T16:30:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_007",title:"Grocery Shopping",description:"Vegetables, fruits, and bread",category:"Groceries",amount:32.6,type:"expense",date:"2025-11-10T09:00:00Z",icon:"bx bx-cart-alt"},{id:"tx_008",title:"Taxi Ride to Office",description:"Bolt trip to coworking space",category:"Transport",amount:5.75,type:"expense",date:"2025-11-10T08:15:00Z",icon:"bx bx-taxi"},{id:"tx_009",title:"Netflix Subscription",description:"Monthly streaming plan",category:"Entertainment",amount:9.99,type:"expense",date:"2025-11-10T18:00:00Z",icon:"bx bx-movie-play"},{id:"tx_010",title:"Salary",description:"November salary payment",category:"Salary",amount:1200,type:"income",date:"2025-11-11T09:00:00Z",icon:"bx bx-wallet"},{id:"tx_011",title:"Gym Subscription",description:"Monthly payment for gym membership",category:"Fitness",amount:30,type:"expense",date:"2025-11-11T17:00:00Z",icon:"bx bx-dumbbell"},{id:"tx_012",title:"Dinner Date",description:"Dinner at Yellow Chilli Restaurant",category:"Food & Drink",amount:60,type:"expense",date:"2025-11-12T20:30:00Z",icon:"bx bx-restaurant"},{id:"tx_013",title:"Sold Graphic Design",description:"Payment for logo design project",category:"Freelance",amount:80,type:"income",date:"2025-11-13T19:00:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_014",title:"Coffee Break",description:"Afternoon cappuccino",category:"Food & Drink",amount:4.5,type:"expense",date:"2025-11-13T14:00:00Z",icon:"bx bx-coffee"},{id:"tx_015",title:"Online Course",description:"React.js advanced course purchase",category:"Education",amount:39.99,type:"expense",date:"2025-11-14T15:30:00Z",icon:"bx bx-laptop"},{id:"tx_016",title:"Sold Old Laptop",description:"Sold my old HP Pavilion laptop",category:"Investments",amount:350,type:"income",date:"2025-11-14T16:10:00Z",icon:"bx bx-trending-up"},{id:"tx_017",title:"Uber Ride",description:"Trip from Lekki to Victoria Island",category:"Transport",amount:10,type:"expense",date:"2025-11-15T08:30:00Z",icon:"bx bx-taxi"},{id:"tx_018",title:"Grocery Shopping",description:"Bought snacks and fruits",category:"Groceries",amount:22.5,type:"expense",date:"2025-11-15T10:15:00Z",icon:"bx bx-cart-alt"},{id:"tx_019",title:"Freelance Payment",description:"Payment for logo redesign",category:"Freelance",amount:150,type:"income",date:"2025-11-15T13:40:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_020",title:"Electricity Bill",description:"Prepaid electricity recharge",category:"Utilities",amount:32,type:"expense",date:"2025-11-16T09:00:00Z",icon:"bx bx-bulb"},{id:"tx_021",title:"Coffee at Caf Neo",description:"Morning cappuccino and croissant",category:"Food & Drink",amount:6.5,type:"expense",date:"2025-11-16T08:45:00Z",icon:"bx bx-coffee"},{id:"tx_022",title:"Taxi Ride",description:"Bolt trip to Ikoyi",category:"Transport",amount:9,type:"expense",date:"2025-11-16T18:20:00Z",icon:"bx bx-taxi"},{id:"tx_023",title:"Netflix Subscription",description:"Monthly streaming plan",category:"Entertainment",amount:9.99,type:"expense",date:"2025-11-17T18:00:00Z",icon:"bx bx-movie-play"},{id:"tx_024",title:"Dinner at Home",description:"Cooked Jollof rice and chicken",category:"Food & Drink",amount:12,type:"expense",date:"2025-11-17T19:30:00Z",icon:"bx bx-restaurant"},{id:"tx_025",title:"Freelance Payment",description:"Payment for mobile app design",category:"Freelance",amount:200,type:"income",date:"2025-11-18T16:00:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_026",title:"Grocery Shopping",description:"Vegetables, fruits, and bread",category:"Groceries",amount:35,type:"expense",date:"2025-11-18T09:15:00Z",icon:"bx bx-cart-alt"},{id:"tx_027",title:"Coffee Break",description:"Afternoon cappuccino",category:"Food & Drink",amount:5,type:"expense",date:"2025-11-19T14:00:00Z",icon:"bx bx-coffee"},{id:"tx_028",title:"Freelance Payment",description:"Payment for website redesign",category:"Freelance",amount:220,type:"income",date:"2025-11-19T15:30:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_029",title:"Taxi Ride",description:"Trip from Yaba to Lekki",category:"Transport",amount:12,type:"expense",date:"2025-11-19T18:10:00Z",icon:"bx bx-taxi"},{id:"tx_030",title:"Online Course",description:"Purchased JavaScript Masterclass",category:"Education",amount:49.99,type:"expense",date:"2025-11-20T15:30:00Z",icon:"bx bx-laptop"},{id:"tx_031",title:"Sold Old Phone",description:"Received payment for used iPhone",category:"Investments",amount:300,type:"income",date:"2025-11-20T16:20:00Z",icon:"bx bx-trending-up"},{id:"tx_032",title:"Dinner at Restaurant",description:"Spaghetti and meatballs",category:"Food & Drink",amount:25,type:"expense",date:"2025-11-20T20:30:00Z",icon:"bx bx-restaurant"},{id:"tx_033",title:"Gym Subscription",description:"Monthly gym subscription",category:"Fitness",amount:30,type:"expense",date:"2025-11-21T17:00:00Z",icon:"bx bx-dumbbell"},{id:"tx_034",title:"Coffee at Caf Neo",description:"Morning cappuccino",category:"Food & Drink",amount:6.25,type:"expense",date:"2025-11-21T08:30:00Z",icon:"bx bx-coffee"},{id:"tx_035",title:"Freelance Payment",description:"Payment for landing page project",category:"Freelance",amount:180,type:"income",date:"2025-11-21T14:30:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_036",title:"Grocery Shopping",description:"Bought fruits and vegetables",category:"Groceries",amount:38,type:"expense",date:"2025-11-22T09:00:00Z",icon:"bx bx-cart-alt"},{id:"tx_037",title:"Taxi Ride",description:"Bolt trip to Ajah",category:"Transport",amount:8.5,type:"expense",date:"2025-11-22T19:00:00Z",icon:"bx bx-taxi"},{id:"tx_038",title:"Netflix Subscription",description:"Monthly subscription renewal",category:"Entertainment",amount:9.99,type:"expense",date:"2025-11-23T18:00:00Z",icon:"bx bx-movie-play"},{id:"tx_039",title:"Dinner with Friends",description:"Pounded yam and egusi soup",category:"Food & Drink",amount:50,type:"expense",date:"2025-11-23T20:30:00Z",icon:"bx bx-restaurant"},{id:"tx_040",title:"Freelance Payment",description:"Received project payment from client",category:"Freelance",amount:220,type:"income",date:"2025-11-24T16:10:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_041",title:"Coffee Break",description:"Afternoon cappuccino",category:"Food & Drink",amount:4.5,type:"expense",date:"2025-11-24T14:00:00Z",icon:"bx bx-coffee"},{id:"tx_042",title:"Electricity Bill",description:"Prepaid electricity recharge",category:"Utilities",amount:32,type:"expense",date:"2025-11-24T09:00:00Z",icon:"bx bx-bulb"},{id:"tx_043",title:"Grocery Shopping",description:"Bought snacks and fruits",category:"Groceries",amount:25.5,type:"expense",date:"2025-11-25T09:15:00Z",icon:"bx bx-cart-alt"},{id:"tx_044",title:"Freelance Payment",description:"Payment for UI kit design",category:"Freelance",amount:190,type:"income",date:"2025-11-25T15:40:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_045",title:"Taxi Ride",description:"Trip from Victoria Island to Lekki",category:"Transport",amount:12,type:"expense",date:"2025-11-25T18:10:00Z",icon:"bx bx-taxi"},{id:"tx_046",title:"Dinner at Home",description:"Jollof rice and grilled chicken",category:"Food & Drink",amount:12,type:"expense",date:"2025-11-26T19:30:00Z",icon:"bx bx-restaurant"},{id:"tx_047",title:"Freelance Payment",description:"Payment for mobile app design",category:"Freelance",amount:200,type:"income",date:"2025-11-26T16:00:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_048",title:"Gym Subscription",description:"Monthly gym subscription",category:"Fitness",amount:30,type:"expense",date:"2025-11-27T17:00:00Z",icon:"bx bx-dumbbell"},{id:"tx_049",title:"Coffee at Caf Neo",description:"Morning cappuccino",category:"Food & Drink",amount:6.25,type:"expense",date:"2025-11-27T08:30:00Z",icon:"bx bx-coffee"},{id:"tx_050",title:"Online Course",description:"Purchased React Native course",category:"Education",amount:39.99,type:"expense",date:"2025-11-28T15:30:00Z",icon:"bx bx-laptop"},{id:"tx_051",title:"Sold Old Laptop",description:"Received payment for HP Pavilion",category:"Investments",amount:350,type:"income",date:"2025-11-28T16:10:00Z",icon:"bx bx-trending-up"},{id:"tx_052",title:"Dinner with Friends",description:"Pounded yam and egusi soup",category:"Food & Drink",amount:50,type:"expense",date:"2025-11-29T20:30:00Z",icon:"bx bx-restaurant"},{id:"tx_053",title:"Taxi Ride",description:"Bolt trip to Ikoyi",category:"Transport",amount:8.5,type:"expense",date:"2025-11-29T19:00:00Z",icon:"bx bx-taxi"},{id:"tx_054",title:"Freelance Payment",description:"Received payment for landing page",category:"Freelance",amount:220,type:"income",date:"2025-11-30T16:10:00Z",icon:"bx bx-briefcase-alt"},{id:"tx_055",title:"Grocery Shopping",description:"Bought eggs, milk, and bread",category:"Groceries",amount:38,type:"expense",date:"2025-11-30T09:15:00Z",icon:"bx bx-cart-alt"},{id:"tx_056",title:"Netflix Subscription",description:"Monthly subscription renewal",category:"Entertainment",amount:9.99,type:"expense",date:"2025-11-30T18:00:00Z",icon:"bx bx-movie-play"}];/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function eu(n){return n+.5|0}const cs=(n,e,t)=>Math.max(Math.min(n,t),e);function cc(n){return cs(eu(n*2.55),0,255)}function gs(n){return cs(eu(n*255),0,255)}function hi(n){return cs(eu(n/2.55)/100,0,1)}function Fw(n){return cs(eu(n*100),0,100)}const Bn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Jg=[..."0123456789ABCDEF"],NL=n=>Jg[n&15],DL=n=>Jg[(n&240)>>4]+Jg[n&15],kh=n=>(n&240)>>4===(n&15),OL=n=>kh(n.r)&&kh(n.g)&&kh(n.b)&&kh(n.a);function ML(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Bn[n[1]]*17,g:255&Bn[n[2]]*17,b:255&Bn[n[3]]*17,a:e===5?Bn[n[4]]*17:255}:(e===7||e===9)&&(t={r:Bn[n[1]]<<4|Bn[n[2]],g:Bn[n[3]]<<4|Bn[n[4]],b:Bn[n[5]]<<4|Bn[n[6]],a:e===9?Bn[n[7]]<<4|Bn[n[8]]:255})),t}const LL=(n,e)=>n<255?e(n):"";function VL(n){var e=OL(n)?NL:DL;return n?"#"+e(n.r)+e(n.g)+e(n.b)+LL(n.a,e):void 0}const FL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function A1(n,e,t){const r=e*Math.min(t,1-t),i=(o,l=(o+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function jL(n,e,t){const r=(i,o=(i+n/60)%6)=>t-t*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function UL(n,e,t){const r=A1(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function zL(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function ay(n){const t=n.r/255,r=n.g/255,i=n.b/255,o=Math.max(t,r,i),l=Math.min(t,r,i),c=(o+l)/2;let h,f,g;return o!==l&&(g=o-l,f=c>.5?g/(2-o-l):g/(o+l),h=zL(t,r,i,g,o),h=h*60+.5),[h|0,f||0,c]}function ly(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(gs)}function cy(n,e,t){return ly(A1,n,e,t)}function BL(n,e,t){return ly(UL,n,e,t)}function $L(n,e,t){return ly(jL,n,e,t)}function C1(n){return(n%360+360)%360}function HL(n){const e=FL.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?cc(+e[5]):gs(+e[5]));const i=C1(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=BL(i,o,l):e[1]==="hsv"?r=$L(i,o,l):r=cy(i,o,l),{r:r[0],g:r[1],b:r[2],a:t}}function WL(n,e){var t=ay(n);t[0]=C1(t[0]+e),t=cy(t),n.r=t[0],n.g=t[1],n.b=t[2]}function qL(n){if(!n)return;const e=ay(n),t=e[0],r=Fw(e[1]),i=Fw(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${hi(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const jw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Uw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KL(){const n={},e=Object.keys(Uw),t=Object.keys(jw);let r,i,o,l,c;for(r=0;r<e.length;r++){for(l=c=e[r],i=0;i<t.length;i++)o=t[i],c=c.replace(o,jw[o]);o=parseInt(Uw[l],16),n[c]=[o>>16&255,o>>8&255,o&255]}return n}let Ah;function GL(n){Ah||(Ah=KL(),Ah.transparent=[0,0,0,0]);const e=Ah[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function YL(n){const e=QL.exec(n);let t=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?cc(l):cs(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?cc(r):cs(r,0,255)),i=255&(e[4]?cc(i):cs(i,0,255)),o=255&(e[6]?cc(o):cs(o,0,255)),{r,g:i,b:o,a:t}}}function XL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${hi(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ig=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ea=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function JL(n,e,t){const r=Ea(hi(n.r)),i=Ea(hi(n.g)),o=Ea(hi(n.b));return{r:gs(ig(r+t*(Ea(hi(e.r))-r))),g:gs(ig(i+t*(Ea(hi(e.g))-i))),b:gs(ig(o+t*(Ea(hi(e.b))-o))),a:n.a+t*(e.a-n.a)}}function Ch(n,e,t){if(n){let r=ay(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=cy(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function R1(n,e){return n&&Object.assign(e||{},n)}function zw(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=gs(n[3]))):(e=R1(n,{r:0,g:0,b:0,a:1}),e.a=gs(e.a)),e}function ZL(n){return n.charAt(0)==="r"?YL(n):HL(n)}class Oc{constructor(e){if(e instanceof Oc)return e;const t=typeof e;let r;t==="object"?r=zw(e):t==="string"&&(r=ML(e)||GL(e)||ZL(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=R1(this._rgb);return e&&(e.a=hi(e.a)),e}set rgb(e){this._rgb=zw(e)}rgbString(){return this._valid?XL(this._rgb):void 0}hexString(){return this._valid?VL(this._rgb):void 0}hslString(){return this._valid?qL(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let o;const l=t===o?.5:t,c=2*l-1,h=r.a-i.a,f=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;o=1-f,r.r=255&f*r.r+o*i.r+.5,r.g=255&f*r.g+o*i.g+.5,r.b=255&f*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=JL(this._rgb,e._rgb,t)),this}clone(){return new Oc(this.rgb)}alpha(e){return this._rgb.a=gs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=eu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ch(this._rgb,2,e),this}darken(e){return Ch(this._rgb,2,-e),this}saturate(e){return Ch(this._rgb,1,e),this}desaturate(e){return Ch(this._rgb,1,-e),this}rotate(e){return WL(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function li(){}const eV=(()=>{let n=0;return()=>n++})();function Ze(n){return n==null}function Pt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function $e(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Gn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Rr(n,e){return Gn(n)?n:e}function Be(n,e){return typeof n>"u"?e:n}const tV=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,P1=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function st(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Qe(n,e,t,r){let i,o,l;if(Pt(n))for(o=n.length,i=0;i<o;i++)e.call(t,n[i],i);else if($e(n))for(l=Object.keys(n),o=l.length,i=0;i<o;i++)e.call(t,n[l[i]],l[i])}function Td(n,e){let t,r,i,o;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],o=e[t],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Ed(n){if(Pt(n))return n.map(Ed);if($e(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=Ed(n[t[i]]);return e}return n}function N1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function nV(n,e,t,r){if(!N1(n))return;const i=e[n],o=t[n];$e(i)&&$e(o)?Mc(i,o,r):e[n]=Ed(o)}function Mc(n,e,t){const r=Pt(e)?e:[e],i=r.length;if(!$e(n))return n;t=t||{};const o=t.merger||nV;let l;for(let c=0;c<i;++c){if(l=r[c],!$e(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)o(h[f],n,l,t)}return n}function wc(n,e){return Mc(n,e,{merger:rV})}function rV(n,e,t){if(!N1(n))return;const r=e[n],i=t[n];$e(r)&&$e(i)?wc(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ed(i))}const Bw={"":n=>n,x:n=>n.x,y:n=>n.y};function iV(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function sV(n){const e=iV(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function To(n,e){return(Bw[e]||(Bw[e]=sV(e)))(n)}function uy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Lc=n=>typeof n<"u",Es=n=>typeof n=="function",$w=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function oV(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Je=Math.PI,St=2*Je,bd=Number.POSITIVE_INFINITY,aV=Je/180,Nt=Je/2,Js=Je/4,Hw=Je*2/3,D1=Math.log10,ms=Math.sign;function Jh(n,e,t){return Math.abs(n-e)<t}function Ww(n){const e=Math.round(n);n=Jh(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(D1(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function lV(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,o)=>i-o).pop(),e}function cV(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Id(n){return!cV(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function uV(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function hV(n,e,t){let r,i,o;for(r=0,i=n.length;r<i;r++)o=n[r][t],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function gi(n){return n*(Je/180)}function dV(n){return n*(180/Je)}function qw(n){if(!Gn(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function O1(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let o=Math.atan2(r,t);return o<-.5*Je&&(o+=St),{angle:o,distance:i}}function fV(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Or(n){return(n%St+St)%St}function Sd(n,e,t,r){const i=Or(n),o=Or(e),l=Or(t),c=Or(o-i),h=Or(l-i),f=Or(i-o),g=Or(i-l);return i===o||i===l||r&&o===l||c>h&&f<g}function wn(n,e,t){return Math.max(e,Math.min(t,n))}function pV(n){return wn(n,-32768,32767)}function oo(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function hy(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,t(o)?i=o:r=o;return{lo:i,hi:r}}const Zg=(n,e,t,r)=>hy(n,t,r?i=>{const o=n[i][e];return o<t||o===t&&n[i+1][e]===t}:i=>n[i][e]<t),gV=(n,e,t)=>hy(n,t,r=>n[r][e]>=t);function mV(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const M1=["push","pop","shift","splice","unshift"];function yV(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),M1.forEach(t=>{const r="_onData"+uy(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return n._chartjs.listeners.forEach(c=>{typeof c[r]=="function"&&c[r](...o)}),l}})})}function Kw(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(M1.forEach(o=>{delete n[o]}),delete n._chartjs)}function L1(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const V1=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function F1(n,e){let t=[],r=!1;return function(...i){t=i,r||(r=!0,V1.call(window,()=>{r=!1,n.apply(e,t)}))}}function _V(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const dy=n=>n==="start"?"left":n==="end"?"right":"center",Zt=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,vV=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e,Rh=n=>n===0||n===1,Gw=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*St/t)),Qw=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*St/t)+1,xc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Nt)+1,easeOutSine:n=>Math.sin(n*Nt),easeInOutSine:n=>-.5*(Math.cos(Je*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rh(n)?n:Gw(n,.075,.3),easeOutElastic:n=>Rh(n)?n:Qw(n,.075,.3),easeInOutElastic(n){return Rh(n)?n:n<.5?.5*Gw(n*2,.1125,.45):.5+.5*Qw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-xc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?xc.easeInBounce(n*2)*.5:xc.easeOutBounce(n*2-1)*.5+.5};function j1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Yw(n){return j1(n)?n:new Oc(n)}function sg(n){return j1(n)?n:new Oc(n).saturate(.5).darken(.1).hexString()}const wV=["x","y","borderWidth","radius","tension"],xV=["color","borderColor","backgroundColor"];function TV(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:xV},numbers:{type:"number",properties:wV}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function EV(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Xw=new Map;function bV(n,e){e=e||{};const t=n+JSON.stringify(e);let r=Xw.get(t);return r||(r=new Intl.NumberFormat(n,e),Xw.set(t,r)),r}function fy(n,e,t){return bV(e,t).format(n)}const IV={values(n){return Pt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,o=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),o=SV(n,t)}const l=D1(Math.abs(o)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:i,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),fy(n,r,h)}};function SV(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var U1={formatters:IV};function kV(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:U1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Eo=Object.create(null),em=Object.create(null);function Tc(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const o=t[r];n=n[o]||(n[o]=Object.create(null))}return n}function og(n,e,t){return typeof e=="string"?Mc(Tc(n,e),t):Mc(Tc(n,""),e)}class AV{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>sg(i.backgroundColor),this.hoverBorderColor=(r,i)=>sg(i.borderColor),this.hoverColor=(r,i)=>sg(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return og(this,e,t)}get(e){return Tc(this,e)}describe(e,t){return og(em,e,t)}override(e,t){return og(Eo,e,t)}route(e,t,r,i){const o=Tc(this,e),l=Tc(this,r),c="_"+t;Object.defineProperties(o,{[c]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],f=l[i];return $e(h)?Object.assign({},f,h):Be(h,f)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var wt=new AV({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[TV,EV,kV]);function CV(n){return!n||Ze(n.size)||Ze(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Jw(n,e,t,r,i){let o=e[i];return o||(o=e[i]=n.measureText(i).width,t.push(i)),o>r&&(r=o),r}function Zs(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function Zw(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function ex(n,e,t,r){z1(n,e,t,r,null)}function z1(n,e,t,r,i){let o,l,c,h,f,g,y,w;const T=e.pointStyle,N=e.rotation,A=e.radius;let I=(N||0)*aV;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(I),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),T){default:i?n.ellipse(t,r,i/2,A,0,0,St):n.arc(t,r,A,0,St),n.closePath();break;case"triangle":g=i?i/2:A,n.moveTo(t+Math.sin(I)*g,r-Math.cos(I)*A),I+=Hw,n.lineTo(t+Math.sin(I)*g,r-Math.cos(I)*A),I+=Hw,n.lineTo(t+Math.sin(I)*g,r-Math.cos(I)*A),n.closePath();break;case"rectRounded":f=A*.516,h=A-f,l=Math.cos(I+Js)*h,y=Math.cos(I+Js)*(i?i/2-f:h),c=Math.sin(I+Js)*h,w=Math.sin(I+Js)*(i?i/2-f:h),n.arc(t-y,r-c,f,I-Je,I-Nt),n.arc(t+w,r-l,f,I-Nt,I),n.arc(t+y,r+c,f,I,I+Nt),n.arc(t-w,r+l,f,I+Nt,I+Je),n.closePath();break;case"rect":if(!N){h=Math.SQRT1_2*A,g=i?i/2:h,n.rect(t-g,r-h,2*g,2*h);break}I+=Js;case"rectRot":y=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,c=Math.sin(I)*A,w=Math.sin(I)*(i?i/2:A),n.moveTo(t-y,r-c),n.lineTo(t+w,r-l),n.lineTo(t+y,r+c),n.lineTo(t-w,r+l),n.closePath();break;case"crossRot":I+=Js;case"cross":y=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,c=Math.sin(I)*A,w=Math.sin(I)*(i?i/2:A),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+w,r-l),n.lineTo(t-w,r+l);break;case"star":y=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,c=Math.sin(I)*A,w=Math.sin(I)*(i?i/2:A),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+w,r-l),n.lineTo(t-w,r+l),I+=Js,y=Math.cos(I)*(i?i/2:A),l=Math.cos(I)*A,c=Math.sin(I)*A,w=Math.sin(I)*(i?i/2:A),n.moveTo(t-y,r-c),n.lineTo(t+y,r+c),n.moveTo(t+w,r-l),n.lineTo(t-w,r+l);break;case"line":l=i?i/2:Math.cos(I)*A,c=Math.sin(I)*A,n.moveTo(t-l,r-c),n.lineTo(t+l,r+c);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(I)*(i?i/2:A),r+Math.sin(I)*A);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function B1(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function py(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function gy(n){n.restore()}function RV(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ze(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function PV(n,e,t,r,i){if(i.strikethrough||i.underline){const o=n.measureText(r),l=e-o.actualBoundingBoxLeft,c=e+o.actualBoundingBoxRight,h=t-o.actualBoundingBoxAscent,f=t+o.actualBoundingBoxDescent,g=i.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(l,g),n.lineTo(c,g),n.stroke()}}function NV(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Vc(n,e,t,r,i,o={}){const l=Pt(e)?e:[e],c=o.strokeWidth>0&&o.strokeColor!=="";let h,f;for(n.save(),n.font=i.string,RV(n,o),h=0;h<l.length;++h)f=l[h],o.backdrop&&NV(n,o.backdrop),c&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ze(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,t,r,o.maxWidth)),n.fillText(f,t,r,o.maxWidth),PV(n,t,r,f,o),r+=Number(i.lineHeight);n.restore()}function kd(n,e){const{x:t,y:r,w:i,h:o,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*Je,Je,!0),n.lineTo(t,r+o-l.bottomLeft),n.arc(t+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,Je,Nt,!0),n.lineTo(t+i-l.bottomRight,r+o),n.arc(t+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,Nt,0,!0),n.lineTo(t+i,r+l.topRight),n.arc(t+i-l.topRight,r+l.topRight,l.topRight,0,-Nt,!0),n.lineTo(t+l.topLeft,r)}const DV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function MV(n,e){const t=(""+n).match(DV);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const LV=n=>+n||0;function my(n,e){const t={},r=$e(e),i=r?Object.keys(e):e,o=$e(n)?r?l=>Be(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of i)t[l]=LV(o(l));return t}function $1(n){return my(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Va(n){return my(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Qn(n){const e=$1(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nn(n,e){n=n||{},e=e||wt.font;let t=Be(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Be(n.style,e.style);r&&!(""+r).match(OV)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Be(n.family,e.family),lineHeight:MV(Be(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Be(n.weight,e.weight),string:""};return i.string=CV(i),i}function Ph(n,e,t,r){let i,o,l;for(i=0,o=n.length;i<o;++i)if(l=n[i],l!==void 0&&l!==void 0)return l}function VV(n,e,t){const{min:r,max:i}=n,o=P1(e,(i-r)/2),l=(c,h)=>t&&c===0?0:c+h;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function Za(n,e){return Object.assign(Object.create(n),e)}function yy(n,e=[""],t,r,i=()=>n[0]){const o=t||n;typeof r>"u"&&(r=K1("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:r,_getTarget:i,override:c=>yy([c,...n],e,o,r)};return new Proxy(l,{deleteProperty(c,h){return delete c[h],delete c._keys,delete n[0][h],!0},get(c,h){return W1(c,h,()=>WV(h,e,n,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,h){return nx(c).includes(h)},ownKeys(c){return nx(c)},set(c,h,f){const g=c._storage||(c._storage=i());return c[h]=g[h]=f,delete c._keys,!0}})}function qa(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:H1(n,r),setContext:o=>qa(n,o,t,r),override:o=>qa(n.override(o),e,t,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,c){return W1(o,l,()=>jV(o,l,c))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,c){return n[l]=c,delete o[l],!0}})}function H1(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:Es(t)?t:()=>t,isIndexable:Es(r)?r:()=>r}}const FV=(n,e)=>n?n+uy(e):e,_y=(n,e)=>$e(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function W1(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function jV(n,e,t){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=n;let c=r[e];return Es(c)&&l.isScriptable(e)&&(c=UV(e,c,n,t)),Pt(c)&&c.length&&(c=zV(e,c,n,l.isIndexable)),_y(e,c)&&(c=qa(c,i,o&&o[e],l)),c}function UV(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let h=e(o,l||r);return c.delete(n),_y(n,h)&&(h=vy(i._scopes,i,n,h)),h}function zV(n,e,t,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:c}=t;if(typeof o.index<"u"&&r(n))return e[o.index%e.length];if($e(e[0])){const h=e,f=i._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=vy(f,i,n,g);e.push(qa(y,o,l&&l[n],c))}}return e}function q1(n,e,t){return Es(n)?n(e,t):n}const BV=(n,e)=>n===!0?e:typeof n=="string"?To(e,n):void 0;function $V(n,e,t,r,i){for(const o of e){const l=BV(t,o);if(l){n.add(l);const c=q1(l._fallback,t,i);if(typeof c<"u"&&c!==t&&c!==r)return c}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function vy(n,e,t,r){const i=e._rootScopes,o=q1(e._fallback,t,r),l=[...n,...i],c=new Set;c.add(r);let h=tx(c,l,t,o||t,r);return h===null||typeof o<"u"&&o!==t&&(h=tx(c,l,o,h,r),h===null)?!1:yy(Array.from(c),[""],i,o,()=>HV(e,t,r))}function tx(n,e,t,r,i){for(;t;)t=$V(n,e,t,r,i);return t}function HV(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return Pt(i)&&$e(t)?t:i||{}}function WV(n,e,t,r){let i;for(const o of e)if(i=K1(FV(o,n),t),typeof i<"u")return _y(n,i)?vy(t,r,n,i):i}function K1(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function nx(n){let e=n._keys;return e||(e=n._keys=qV(n._scopes)),e}function qV(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function wy(){return typeof window<"u"&&typeof document<"u"}function xy(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ad(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const af=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function KV(n,e){return af(n).getPropertyValue(e)}const GV=["top","right","bottom","left"];function ho(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const o=GV[i];r[o]=parseFloat(n[e+"-"+o+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const QV=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function YV(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:o}=r;let l=!1,c,h;if(QV(i,o,n.target))c=i,h=o;else{const f=e.getBoundingClientRect();c=r.clientX-f.left,h=r.clientY-f.top,l=!0}return{x:c,y:h,box:l}}function no(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=af(t),o=i.boxSizing==="border-box",l=ho(i,"padding"),c=ho(i,"border","width"),{x:h,y:f,box:g}=YV(n,t),y=l.left+(g&&c.left),w=l.top+(g&&c.top);let{width:T,height:N}=e;return o&&(T-=l.width+c.width,N-=l.height+c.height),{x:Math.round((h-y)/T*t.width/r),y:Math.round((f-w)/N*t.height/r)}}function XV(n,e,t){let r,i;if(e===void 0||t===void 0){const o=n&&xy(n);if(!o)e=n.clientWidth,t=n.clientHeight;else{const l=o.getBoundingClientRect(),c=af(o),h=ho(c,"border","width"),f=ho(c,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,r=Ad(c.maxWidth,o,"clientWidth"),i=Ad(c.maxHeight,o,"clientHeight")}}return{width:e,height:t,maxWidth:r||bd,maxHeight:i||bd}}const us=n=>Math.round(n*10)/10;function JV(n,e,t,r){const i=af(n),o=ho(i,"margin"),l=Ad(i.maxWidth,n,"clientWidth")||bd,c=Ad(i.maxHeight,n,"clientHeight")||bd,h=XV(n,e,t);let{width:f,height:g}=h;if(i.boxSizing==="content-box"){const w=ho(i,"border","width"),T=ho(i,"padding");f-=T.width+w.width,g-=T.height+w.height}return f=Math.max(0,f-o.width),g=Math.max(0,r?f/r:g-o.height),f=us(Math.min(f,l,h.maxWidth)),g=us(Math.min(g,c,h.maxHeight)),f&&!g&&(g=us(f/2)),(e!==void 0||t!==void 0)&&r&&h.height&&g>h.height&&(g=h.height,f=us(Math.floor(g*r))),{width:f,height:g}}function rx(n,e,t){const r=e||1,i=us(n.height*r),o=us(n.width*r);n.height=us(n.height),n.width=us(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(n.currentDevicePixelRatio=r,l.height=i,l.width=o,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const ZV=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};wy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function ix(n,e){const t=KV(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const e4=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},t4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Fa(n,e,t){return n?e4(e,t):t4()}function G1(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function Q1(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Nh(n,e,t){return n.options.clip?n[t]:e[t]}function n4(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:Nh(t,e,"left"),right:Nh(t,e,"right"),top:Nh(r,e,"top"),bottom:Nh(r,e,"bottom")}:e}function r4(n,e){const t=e._clip;if(t.disabled)return!1;const r=n4(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class i4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const o=t.listeners[i],l=t.duration;o.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=V1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,c=!1,h;for(;l>=0;--l)h=o[l],h._active?(h._total>r.duration&&(r.duration=h._total),h.tick(e),c=!0):(o[l]=o[o.length-1],o.pop());c&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=o.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ci=new i4;const sx="transparent",s4={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=Yw(n||sx),i=r.valid&&Yw(e||sx);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class o4{constructor(e,t,r,i){const o=t[r];i=Ph([e.to,i,o,e.from]);const l=Ph([e.from,o,i]);this._active=!0,this._fn=e.fn||s4[e.type||typeof l],this._easing=xc[e.easing]||xc.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=Ph([e.to,t,i,e.from]),this._from=Ph([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,c=this._to;let h;if(this._active=o!==c&&(l||t<r),!this._active){this._target[i]=c,this._notify(!0);return}if(t<0){this._target[i]=o;return}h=t/r%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[i]=this._fn(o,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}class Y1{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!$e(e))return;const t=Object.keys(wt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!$e(o))return;const l={};for(const c of t)l[c]=o[c];(Pt(o.properties)&&o.properties||[i]).forEach(c=>{(c===i||!r.has(c))&&r.set(c,l)})})}_animateOptions(e,t){const r=t.options,i=l4(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&a4(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,t){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const g=t[f];let y=o[f];const w=r.get(f);if(y)if(w&&y.active()){y.update(w,g,c);continue}else y.cancel();if(!w||!w.duration){e[f]=g;continue}o[f]=y=new o4(w,e,f,g),i.push(y)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return ci.add(this._chart,r),!0}}function a4(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=n[r[i]];o&&o.active()&&t.push(o.wait())}return Promise.all(t)}function l4(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function ox(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,o=t.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function c4(n,e,t){if(t===!1)return!1;const r=ox(n,t),i=ox(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function u4(n){let e,t,r,i;return $e(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function X1(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)t.push(r[i].index);return t}function ax(n,e,t,r={}){const i=n.keys,o=r.mode==="single";let l,c,h,f;if(e===null)return;let g=!1;for(l=0,c=i.length;l<c;++l){if(h=+i[l],h===t){if(g=!0,r.all)continue;break}f=n.values[h],Gn(f)&&(o||e===0||ms(e)===ms(f))&&(e+=f)}return!g&&!r.all?0:e}function h4(n,e){const{iScale:t,vScale:r}=e,i=t.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],c[h]={[i]:g,[o]:n[g]};return c}function ag(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function d4(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function f4(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function p4(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function lx(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=n[i.index];if(t&&o>0||!t&&o<0)return i.index}return null}function cx(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:o,vScale:l,index:c}=r,h=o.axis,f=l.axis,g=d4(o,l,r),y=e.length;let w;for(let T=0;T<y;++T){const N=e[T],{[h]:A,[f]:I}=N,V=N._stacks||(N._stacks={});w=V[f]=p4(i,g,A),w[c]=I,w._top=lx(w,l,!0,r.type),w._bottom=lx(w,l,!1,r.type);const F=w._visualValues||(w._visualValues={});F[c]=I}}function lg(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function g4(n,e){return Za(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function m4(n,e,t){return Za(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Jl(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][t]===void 0)return;delete o[r][t],o[r]._visualValues!==void 0&&o[r]._visualValues[t]!==void 0&&delete o[r]._visualValues[t]}}}const cg=n=>n==="reset"||n==="none",ux=(n,e)=>e?n:Object.assign({},n),y4=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:X1(t,!0),values:null};class Ty{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(y,w,T,N)=>y==="x"?w:y==="r"?N:T,o=t.xAxisID=Be(r.xAxisID,lg(e,"x")),l=t.yAxisID=Be(r.yAxisID,lg(e,"y")),c=t.rAxisID=Be(r.rAxisID,lg(e,"r")),h=t.indexAxis,f=t.iAxisID=i(h,o,l,c),g=t.vAxisID=i(h,l,o,c);t.xScale=this.getScaleForId(o),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Kw(this._data,this),e._stacked&&Jl(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if($e(t)){const i=this._cachedMeta;this._data=h4(t,i)}else if(r!==t){if(r){Kw(r,this);const i=this._cachedMeta;Jl(i),i._parsed=[]}t&&Object.isExtensible(t)&&yV(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=t._stacked;t._stacked=ag(t.vScale,t),t.stack!==r.stack&&(i=!0,Jl(t),t.stack=r.stack),this._resyncElements(e),(i||o!==t._stacked)&&(cx(this,t._parsed),t._stacked=ag(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,c=o.axis;let h=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],g,y,w;if(this._parsing===!1)r._parsed=i,r._sorted=!0,w=i;else{Pt(i[e])?w=this.parseArrayData(r,i,e,t):$e(i[e])?w=this.parseObjectData(r,i,e,t):w=this.parsePrimitiveData(r,i,e,t);const T=()=>y[c]===null||f&&y[c]<f[c];for(g=0;g<t;++g)r._parsed[g+e]=y=w[g],h&&(T()&&(h=!1),f=y);r._sorted=h}l&&cx(this,w)}parsePrimitiveData(e,t,r,i){const{iScale:o,vScale:l}=e,c=o.axis,h=l.axis,f=o.getLabels(),g=o===l,y=new Array(i);let w,T,N;for(w=0,T=i;w<T;++w)N=w+r,y[w]={[c]:g||o.parse(f[N],N),[h]:l.parse(t[N],N)};return y}parseArrayData(e,t,r,i){const{xScale:o,yScale:l}=e,c=new Array(i);let h,f,g,y;for(h=0,f=i;h<f;++h)g=h+r,y=t[g],c[h]={x:o.parse(y[0],g),y:l.parse(y[1],g)};return c}parseObjectData(e,t,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=new Array(i);let g,y,w,T;for(g=0,y=i;g<y;++g)w=g+r,T=t[w],f[g]={x:o.parse(To(T,c),w),y:l.parse(To(T,h),w)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,o=this._cachedMeta,l=t[e.axis],c={keys:X1(i,!0),values:t._stacks[e.axis]._visualValues};return ax(c,l,o.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const o=r[t.axis];let l=o===null?NaN:o;const c=i&&r._stacks[t.axis];i&&c&&(i.values=c,l=ax(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,c=this._getOtherScale(e),h=y4(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=f4(c);let w,T;function N(){T=i[w];const A=T[c.axis];return!Gn(T[e.axis])||g>A||y<A}for(w=0;w<l&&!(!N()&&(this.updateRangeFromParsed(f,e,T,h),o));++w);if(o){for(w=l-1;w>=0;--w)if(!N()){this.updateRangeFromParsed(f,e,T,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=t.length;i<o;++i)l=t[i][e.axis],Gn(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=u4(Be(this.options.clip,c4(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],o=t.chartArea,l=[],c=this._drawStart||0,h=this._drawCount||i.length-c,f=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,o,c,h),g=c;g<c+h;++g){const y=i[g];y.hidden||(y.active&&f?l.push(y):y.draw(e,o))}for(g=0;g<l.length;++g)l[g].draw(e,o)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=m4(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=g4(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!t,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",o=this._cachedDataOpts,l=e+"-"+t,c=o[l],h=this.enableOptionSharing&&Lc(r);if(c)return ux(c,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),y=i?[`${e}Hover`,"hover",e,""]:[e,""],w=f.getOptionScopes(this.getDataset(),g),T=Object.keys(wt.elements[e]),N=()=>this.getContext(r,i,t),A=f.resolveNamedOptions(w,T,N,y);return A.$shared&&(A.$shared=h,o[l]=Object.freeze(ux(A,h))),A}_resolveAnimations(e,t,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${t}`,c=o[l];if(c)return c;let h;if(i.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),w=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(w,this.getContext(e,r,t))}const f=new Y1(i,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||cg(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(t,o)||o!==i;return this.updateSharedOptions(o,t,r),{sharedOptions:o,includeOptions:l}}updateElement(e,t,r,i){cg(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!cg(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const o=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[c,h,f]of this._syncList)this[c](h,f);this._syncList=[];const i=r.length,o=t.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,t,r=!0){const i=this._cachedMeta,o=i.data,l=e+t;let c;const h=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(h(o),c=e;c<l;++c)o[c]=new this.dataElementType;this._parsing&&h(i._parsed),this.parse(e,t),r&&this.updateElements(o,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&Jl(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function _4(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=t.length;i<o;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=L1(r.sort((i,o)=>i-o))}return n._cache.$bar}function v4(n){const e=n.iScale,t=_4(e,n.type);let r=e._length,i,o,l,c;const h=()=>{l===32767||l===-32768||(Lc(c)&&(r=Math.min(r,Math.abs(l-c)||r)),c=l)};for(i=0,o=t.length;i<o;++i)l=e.getPixelForValue(t[i]),h();for(c=void 0,i=0,o=e.ticks.length;i<o;++i)l=e.getPixelForTick(i),h();return r}function w4(n,e,t,r){const i=t.barThickness;let o,l;return Ze(i)?(o=e.min*t.categoryPercentage,l=t.barPercentage):(o=i*r,l=1),{chunk:o/r,ratio:l,start:e.pixels[n]-o/2}}function x4(n,e,t,r){const i=e.pixels,o=i[n];let l=n>0?i[n-1]:null,c=n<i.length-1?i[n+1]:null;const h=t.categoryPercentage;l===null&&(l=o-(c===null?e.end-e.start:c-o)),c===null&&(c=o+o-l);const f=o-(o-Math.min(l,c))/2*h;return{chunk:Math.abs(c-l)/2*h/r,ratio:t.barPercentage,start:f}}function T4(n,e,t,r){const i=t.parse(n[0],r),o=t.parse(n[1],r),l=Math.min(i,o),c=Math.max(i,o);let h=l,f=c;Math.abs(l)>Math.abs(c)&&(h=c,f=l),e[t.axis]=f,e._custom={barStart:h,barEnd:f,start:i,end:o,min:l,max:c}}function J1(n,e,t,r){return Pt(n)?T4(n,e,t,r):e[t.axis]=t.parse(n,r),e}function hx(n,e,t,r){const i=n.iScale,o=n.vScale,l=i.getLabels(),c=i===o,h=[];let f,g,y,w;for(f=t,g=t+r;f<g;++f)w=e[f],y={},y[i.axis]=c||i.parse(l[f],f),h.push(J1(w,y,o,f));return h}function ug(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function E4(n,e,t){return n!==0?ms(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function b4(n){let e,t,r,i,o;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:t,end:r,reverse:e,top:i,bottom:o}}function I4(n,e,t,r){let i=e.borderSkipped;const o={};if(!i){n.borderSkipped=o;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:c,reverse:h,top:f,bottom:g}=b4(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=f:(t._bottom||0)===r?i=g:(o[dx(g,l,c,h)]=!0,i=f)),o[dx(i,l,c,h)]=!0,n.borderSkipped=o}function dx(n,e,t,r){return r?(n=S4(n,e,t),n=fx(n,t,e)):n=fx(n,e,t),n}function S4(n,e,t){return n===e?t:n===t?e:n}function fx(n,e,t){return n==="start"?e:n==="end"?t:n}function k4(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class A4 extends Ty{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,i){return hx(e,t,r,i)}parseArrayData(e,t,r,i){return hx(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:o,vScale:l}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,f=o.axis==="x"?c:h,g=l.axis==="x"?c:h,y=[];let w,T,N,A;for(w=r,T=r+i;w<T;++w)A=t[w],N={},N[o.axis]=o.parse(To(A,f),w),y.push(J1(To(A,g),N,l,w));return y}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const o=r._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,o=this.getParsed(e),l=o._custom,c=ug(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const o=i==="reset",{index:l,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),f=c.isHorizontal(),g=this._getRuler(),{sharedOptions:y,includeOptions:w}=this._getSharedOptions(t,i);for(let T=t;T<t+r;T++){const N=this.getParsed(T),A=o||Ze(N[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(T),I=this._calculateBarIndexPixels(T,g),V=(N._stacks||{})[c.axis],F={horizontal:f,base:A.base,enableBorderRadius:!V||ug(N._custom)||l===V._top||l===V._bottom,x:f?A.head:I.center,y:f?I.center:A.head,height:f?I.size:Math.abs(A.size),width:f?Math.abs(A.size):I.size};w&&(F.options=y||this.resolveDataElementOptions(T,e[T].active?"active":i));const U=F.options||e[T].options;I4(F,U,V,l),k4(F,U,g.ratio),this.updateElement(e[T],T,F,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),o=r.options.stacked,l=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[r.axis],f=g=>{const y=g._parsed.find(T=>T[r.axis]===h),w=y&&y[g.vScale.axis];if(Ze(w)||isNaN(w))return!0};for(const g of i)if(!(t!==void 0&&f(g))&&((o===!1||l.indexOf(g.stack)===-1||o===void 0&&g.stack===void 0)&&l.push(g.stack),g.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Be(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const i=this._getStacks(e,r),o=t!==void 0?i.indexOf(t):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let o,l;for(o=0,l=t.data.length;o<l;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const c=e.barThickness;return{min:c||v4(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:i},options:{base:o,minBarLength:l}}=this,c=o||0,h=this.getParsed(e),f=h._custom,g=ug(f);let y=h[t.axis],w=0,T=r?this.applyStack(t,h,r):y,N,A;T!==y&&(w=T-y,T=y),g&&(y=f.barStart,T=f.barEnd-f.barStart,y!==0&&ms(y)!==ms(f.barEnd)&&(w=0),w+=y);const I=!Ze(o)&&!g?o:w;let V=t.getPixelForValue(I);if(this.chart.getDataVisibility(e)?N=t.getPixelForValue(w+T):N=V,A=N-V,Math.abs(A)<l){A=E4(A,t,c)*l,y===c&&(V-=A/2);const F=t.getPixelForDecimal(0),U=t.getPixelForDecimal(1),B=Math.min(F,U),q=Math.max(F,U);V=Math.max(Math.min(V,q),B),N=V+A,r&&!g&&(h._stacks[t.axis]._visualValues[i]=t.getValueForPixel(N)-t.getValueForPixel(V))}if(V===t.getPixelForValue(c)){const F=ms(A)*t.getLineWidthForValue(c)/2;V+=F,A-=F}return{size:A,base:V,head:N,center:N+A/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,o=i.skipNull,l=Be(i.maxBarThickness,1/0);let c,h;const f=this._getAxisCount();if(t.grouped){const g=o?this._getStackCount(e):t.stackCount,y=i.barThickness==="flex"?x4(e,t,i,g*f):w4(e,t,i,g*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Be(w,this.getFirstScaleIdForIndexAxis())),N=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0)+T;c=y.start+y.chunk*N+y.chunk/2,h=Math.min(l,y.chunk*y.ratio)}else c=r.getPixelForValue(this.getParsed(e)[r.axis],e),h=Math.min(l,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[t.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}function C4(n,e,t){let r=1,i=1,o=0,l=0;if(e<St){const c=n,h=c+e,f=Math.cos(c),g=Math.sin(c),y=Math.cos(h),w=Math.sin(h),T=(U,B,q)=>Sd(U,c,h,!0)?1:Math.max(B,B*t,q,q*t),N=(U,B,q)=>Sd(U,c,h,!0)?-1:Math.min(B,B*t,q,q*t),A=T(0,f,y),I=T(Nt,g,w),V=N(Je,f,y),F=N(Je+Nt,g,w);r=(A-V)/2,i=(I-F)/2,o=-(A+V)/2,l=-(I+F)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:l}}class R4 extends Ty{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:c}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((h,f)=>{const y=e.getDatasetMeta(0).controller.getStyle(f);return{text:h,fillStyle:y.backgroundColor,fontColor:o,hidden:!e.getDataVisibility(f),lineDash:y.borderDash,lineDashOffset:y.borderDashOffset,lineJoin:y.borderJoinStyle,lineWidth:y.borderWidth,strokeStyle:y.borderColor,textAlign:i,pointStyle:r,borderRadius:l&&(c||y.borderRadius),index:f}}):[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=h=>+r[h];if($e(r[e])){const{key:h="value"}=this._parsing;o=f=>+To(r[f],h)}let l,c;for(l=e,c=e+t;l<c;++l)i._parsed[l]=o(l)}}_getRotation(){return gi(this.options.rotation-90)}_getCircumference(){return gi(this.options.circumference)}_getRotationExtents(){let e=St,t=-St;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),l=i._getCircumference();e=Math.min(e,o),t=Math.max(t,o+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,o=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-l)/2,0),h=Math.min(tV(this.options.cutout,c),1),f=this._getRingWeight(this.index),{circumference:g,rotation:y}=this._getRotationExtents(),{ratioX:w,ratioY:T,offsetX:N,offsetY:A}=C4(y,g,h),I=(r.width-l)/w,V=(r.height-l)/T,F=Math.max(Math.min(I,V)/2,0),U=P1(this.options.radius,F),B=Math.max(U*h,0),q=(U-B)/this._getVisibleDatasetWeightTotal();this.offsetX=N*U,this.offsetY=A*U,i.total=this.calculateTotal(),this.outerRadius=U-q*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-q*f,0),this.updateElements(o,0,o.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/St)}updateElements(e,t,r,i){const o=i==="reset",l=this.chart,c=l.chartArea,f=l.options.animation,g=(c.left+c.right)/2,y=(c.top+c.bottom)/2,w=o&&f.animateScale,T=w?0:this.innerRadius,N=w?0:this.outerRadius,{sharedOptions:A,includeOptions:I}=this._getSharedOptions(t,i);let V=this._getRotation(),F;for(F=0;F<t;++F)V+=this._circumference(F,o);for(F=t;F<t+r;++F){const U=this._circumference(F,o),B=e[F],q={x:g+this.offsetX,y:y+this.offsetY,startAngle:V,endAngle:V+U,circumference:U,outerRadius:N,innerRadius:T};I&&(q.options=A||this.resolveDataElementOptions(F,B.active?"active":i)),V+=U,this.updateElement(B,F,q,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?St*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=fy(t._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,o,l,c,h;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,c=l.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)h=c.resolveDataElementOptions(i),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);t=Math.max(t,o.offset||0,o.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Be(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class P4 extends R4{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function eo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ey{static override(e){Object.assign(Ey.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return eo()}parse(){return eo()}format(){return eo()}add(){return eo()}diff(){return eo()}startOf(){return eo()}endOf(){return eo()}}var N4={_date:Ey};function D4(n,e,t,r){const{controller:i,data:o,_sorted:l}=n,c=i._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&o.length){const f=c._reversePixels?gV:Zg;if(r){if(i._sharedOptions){const g=o[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const w=f(o,e,t-y),T=f(o,e,t+y);return{lo:w.lo,hi:T.hi}}}}else{const g=f(o,e,t);if(h){const{vScale:y}=i._cachedMeta,{_parsed:w}=n,T=w.slice(0,g.lo+1).reverse().findIndex(A=>!Ze(A[y.axis]));g.lo-=Math.max(0,T);const N=w.slice(g.hi).findIndex(A=>!Ze(A[y.axis]));g.hi+=Math.max(0,N)}return g}}return{lo:0,hi:o.length-1}}function lf(n,e,t,r,i){const o=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,h=o.length;c<h;++c){const{index:f,data:g}=o[c],{lo:y,hi:w}=D4(o[c],e,l,i);for(let T=y;T<=w;++T){const N=g[T];N.skip||r(N,f,T)}}}function O4(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function hg(n,e,t,r,i){const o=[];return!i&&!n.isPointInArea(e)||lf(n,t,e,function(c,h,f){!i&&!B1(c,n.chartArea,0)||c.inRange(e.x,e.y,r)&&o.push({element:c,datasetIndex:h,index:f})},!0),o}function M4(n,e,t,r){let i=[];function o(l,c,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],r),{angle:y}=O1(l,{x:e.x,y:e.y});Sd(y,f,g)&&i.push({element:l,datasetIndex:c,index:h})}return lf(n,t,e,o),i}function L4(n,e,t,r,i,o){let l=[];const c=O4(t);let h=Number.POSITIVE_INFINITY;function f(g,y,w){const T=g.inRange(e.x,e.y,i);if(r&&!T)return;const N=g.getCenterPoint(i);if(!(!!o||n.isPointInArea(N))&&!T)return;const I=c(e,N);I<h?(l=[{element:g,datasetIndex:y,index:w}],h=I):I===h&&l.push({element:g,datasetIndex:y,index:w})}return lf(n,t,e,f),l}function dg(n,e,t,r,i,o){return!o&&!n.isPointInArea(e)?[]:t==="r"&&!r?M4(n,e,t,i):L4(n,e,t,r,i,o)}function px(n,e,t,r,i){const o=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return lf(n,t,e,(h,f,g)=>{h[l]&&h[l](e[t],i)&&(o.push({element:h,datasetIndex:f,index:g}),c=c||h.inRange(e.x,e.y,i))}),r&&!c?[]:o}var V4={modes:{index(n,e,t,r){const i=no(e,n),o=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?hg(n,i,o,r,l):dg(n,i,o,!1,r,l),h=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=c[0].index,y=f.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:g})}),h):[]},dataset(n,e,t,r){const i=no(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?hg(n,i,o,r,l):dg(n,i,o,!1,r,l);if(c.length>0){const h=c[0].datasetIndex,f=n.getDatasetMeta(h).data;c=[];for(let g=0;g<f.length;++g)c.push({element:f[g],datasetIndex:h,index:g})}return c},point(n,e,t,r){const i=no(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return hg(n,i,o,r,l)},nearest(n,e,t,r){const i=no(e,n),o=t.axis||"xy",l=t.includeInvisible||!1;return dg(n,i,o,t.intersect,r,l)},x(n,e,t,r){const i=no(e,n);return px(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=no(e,n);return px(n,i,"y",t.intersect,r)}}};const Z1=["left","top","right","bottom"];function Zl(n,e){return n.filter(t=>t.pos===e)}function gx(n,e){return n.filter(t=>Z1.indexOf(t.pos)===-1&&t.box.axis===e)}function ec(n,e){return n.sort((t,r)=>{const i=e?r:t,o=e?t:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function F4(n){const e=[];let t,r,i,o,l,c;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:o,options:{stack:l,stackWeight:c=1}}=i,e.push({index:t,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:c});return e}function j4(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:o}=t;if(!r||!Z1.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function U4(n,e){const t=j4(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,c;for(o=0,l=n.length;o<l;++o){c=n[o];const{fullSize:h}=c.box,f=t[c.stack],g=f&&c.stackWeight/f.weight;c.horizontal?(c.width=g?g*r:h&&e.availableWidth,c.height=i):(c.width=r,c.height=g?g*i:h&&e.availableHeight)}return t}function z4(n){const e=F4(n),t=ec(e.filter(f=>f.box.fullSize),!0),r=ec(Zl(e,"left"),!0),i=ec(Zl(e,"right")),o=ec(Zl(e,"top"),!0),l=ec(Zl(e,"bottom")),c=gx(e,"x"),h=gx(e,"y");return{fullSize:t,leftAndTop:r.concat(o),rightAndBottom:i.concat(h).concat(l).concat(c),chartArea:Zl(e,"chartArea"),vertical:r.concat(i).concat(h),horizontal:o.concat(l).concat(c)}}function mx(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function eI(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function B4(n,e,t,r){const{pos:i,box:o}=t,l=n.maxPadding;if(!$e(i)){t.size&&(n[i]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?o.height:o.width),t.size=y.size/y.count,n[i]+=t.size}o.getPadding&&eI(l,o.getPadding());const c=Math.max(0,e.outerWidth-mx(l,n,"left","right")),h=Math.max(0,e.outerHeight-mx(l,n,"top","bottom")),f=c!==n.w,g=h!==n.h;return n.w=c,n.h=h,t.horizontal?{same:f,other:g}:{same:g,other:f}}function $4(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function H4(n,e){const t=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],t[l])}),o}return r(n?["left","right"]:["top","bottom"])}function uc(n,e,t,r){const i=[];let o,l,c,h,f,g;for(o=0,l=n.length,f=0;o<l;++o){c=n[o],h=c.box,h.update(c.width||e.w,c.height||e.h,H4(c.horizontal,e));const{same:y,other:w}=B4(e,t,c,r);f|=y&&i.length,g=g||w,h.fullSize||i.push(c)}return f&&uc(i,e,t,r)||g}function Dh(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function yx(n,e,t,r){const i=t.padding;let{x:o,y:l}=e;for(const c of n){const h=c.box,f=r[c.stack]||{placed:0,weight:1},g=c.stackWeight/f.weight||1;if(c.horizontal){const y=e.w*g,w=f.size||h.height;Lc(f.start)&&(l=f.start),h.fullSize?Dh(h,i.left,l,t.outerWidth-i.right-i.left,w):Dh(h,e.left+f.placed,l,y,w),f.start=l,f.placed+=y,l=h.bottom}else{const y=e.h*g,w=f.size||h.width;Lc(f.start)&&(o=f.start),h.fullSize?Dh(h,o,i.top,w,t.outerHeight-i.bottom-i.top):Dh(h,o,e.top+f.placed,w,y),f.start=o,f.placed+=y,o=h.right}}e.x=o,e.y=l}var Wn={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Qn(n.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(t-i.height,0),c=z4(n.boxes),h=c.vertical,f=c.horizontal;Qe(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const g=h.reduce((A,I)=>I.box.options&&I.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/g,hBoxMaxHeight:l/2}),w=Object.assign({},i);eI(w,Qn(r));const T=Object.assign({maxPadding:w,w:o,h:l,x:i.left,y:i.top},i),N=U4(h.concat(f),y);uc(c.fullSize,T,y,N),uc(h,T,y,N),uc(f,T,y,N)&&uc(h,T,y,N),$4(T),yx(c.leftAndTop,T,y,N),T.x+=T.w,T.y+=T.h,yx(c.rightAndBottom,T,y,N),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},Qe(c.chartArea,A=>{const I=A.box;Object.assign(I,n.chartArea),I.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class tI{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class W4 extends tI{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Zh="$chartjs",q4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},_x=n=>n===null||n==="";function K4(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[Zh]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",_x(i)){const o=ix(n,"width");o!==void 0&&(n.width=o)}if(_x(r))if(n.style.height==="")n.height=n.width/(e||2);else{const o=ix(n,"height");o!==void 0&&(n.height=o)}return n}const nI=ZV?{passive:!0}:!1;function G4(n,e,t){n&&n.addEventListener(e,t,nI)}function Q4(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,nI)}function Y4(n,e){const t=q4[n.type]||n.type,{x:r,y:i}=no(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Cd(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function X4(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Cd(c.addedNodes,r),l=l&&!Cd(c.removedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function J4(n,e,t){const r=n.canvas,i=new MutationObserver(o=>{let l=!1;for(const c of o)l=l||Cd(c.removedNodes,r),l=l&&!Cd(c.addedNodes,r);l&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Fc=new Map;let vx=0;function rI(){const n=window.devicePixelRatio;n!==vx&&(vx=n,Fc.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Z4(n,e){Fc.size||window.addEventListener("resize",rI),Fc.set(n,e)}function eF(n){Fc.delete(n),Fc.size||window.removeEventListener("resize",rI)}function tF(n,e,t){const r=n.canvas,i=r&&xy(r);if(!i)return;const o=F1((c,h)=>{const f=i.clientWidth;t(c,h),f<i.clientWidth&&t()},window),l=new ResizeObserver(c=>{const h=c[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||o(f,g)});return l.observe(i),Z4(n,o),l}function fg(n,e,t){t&&t.disconnect(),e==="resize"&&eF(n)}function nF(n,e,t){const r=n.canvas,i=F1(o=>{n.ctx!==null&&t(Y4(o,n))},n);return G4(r,e,i),i}class rF extends tI{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(K4(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Zh])return!1;const r=t[Zh].initial;["height","width"].forEach(o=>{const l=r[o];Ze(l)?t.removeAttribute(o):t.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{t.style[o]=i[o]}),t.width=t.width,delete t[Zh],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),l={attach:X4,detach:J4,resize:tF}[t]||nF;i[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:fg,detach:fg,resize:fg}[t]||Q4)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return JV(e,t,r,i)}isAttached(e){const t=e&&xy(e);return!!(t&&t.isConnected)}}function iF(n){return!wy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?W4:rF}class Oo{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Id(this.x)&&Id(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}}function sF(n,e){const t=n.options.ticks,r=oF(n),i=Math.min(t.maxTicksLimit||r,r),o=t.major.enabled?lF(e):[],l=o.length,c=o[0],h=o[l-1],f=[];if(l>i)return cF(e,f,o,l/i),f;const g=aF(o,e,i);if(l>0){let y,w;const T=l>1?Math.round((h-c)/(l-1)):null;for(Oh(e,f,g,Ze(T)?0:c-T,c),y=0,w=l-1;y<w;y++)Oh(e,f,g,o[y],o[y+1]);return Oh(e,f,g,h,Ze(T)?e.length:h+T),f}return Oh(e,f,g),f}function oF(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function aF(n,e,t){const r=uF(n),i=e.length/t;if(!r)return Math.max(i,1);const o=lV(r);for(let l=0,c=o.length-1;l<c;l++){const h=o[l];if(h>i)return h}return Math.max(i,1)}function lF(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function cF(n,e,t,r){let i=0,o=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===o&&(e.push(n[l]),i++,o=t[i*r])}function Oh(n,e,t,r,i){const o=Be(r,0),l=Math.min(Be(i,n.length),n.length);let c=0,h,f,g;for(t=Math.ceil(t),i&&(h=i-r,t=h/Math.floor(h/t)),g=o;g<0;)c++,g=Math.round(o+c*t);for(f=Math.max(o,0);f<l;f++)f===g&&(e.push(n[f]),c++,g=Math.round(o+c*t))}function uF(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const hF=n=>n==="left"?"right":n==="right"?"left":n,wx=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,xx=(n,e)=>Math.min(e||n,n);function Tx(n,e){const t=[],r=n.length/e,i=n.length;let o=0;for(;o<i;o+=r)t.push(n[Math.floor(o)]);return t}function dF(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),o=n._startPixel,l=n._endPixel,c=1e-6;let h=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(h-o,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(i-1))/2,h+=i<e?f:-f,h<o-c||h>l+c)))return h}function fF(n,e){Qe(n,t=>{const r=t.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete t.data[r[o]];r.splice(0,i)}})}function tc(n){return n.drawTicks?n.tickLength:0}function Ex(n,e){if(!n.display)return 0;const t=nn(n.font,e),r=Qn(n.padding);return(Pt(n.text)?n.text.length:1)*t.lineHeight+r.height}function pF(n,e){return Za(n,{scale:e,type:"scale"})}function gF(n,e,t){return Za(n,{tick:t,index:e,type:"tick"})}function mF(n,e,t){let r=dy(n);return(t&&e!=="right"||!t&&e==="right")&&(r=hF(r)),r}function yF(n,e,t,r){const{top:i,left:o,bottom:l,right:c,chart:h}=n,{chartArea:f,scales:g}=h;let y=0,w,T,N;const A=l-i,I=c-o;if(n.isHorizontal()){if(T=Zt(r,o,c),$e(t)){const V=Object.keys(t)[0],F=t[V];N=g[V].getPixelForValue(F)+A-e}else t==="center"?N=(f.bottom+f.top)/2+A-e:N=wx(n,t,e);w=c-o}else{if($e(t)){const V=Object.keys(t)[0],F=t[V];T=g[V].getPixelForValue(F)-I+e}else t==="center"?T=(f.left+f.right)/2-I+e:T=wx(n,t,e);N=Zt(r,l,i),y=t==="left"?-Nt:Nt}return{titleX:T,titleY:N,maxWidth:w,rotation:y}}class el extends Oo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=Rr(e,Number.POSITIVE_INFINITY),t=Rr(t,Number.NEGATIVE_INFINITY),r=Rr(r,Number.POSITIVE_INFINITY),i=Rr(i,Number.NEGATIVE_INFINITY),{min:Rr(e,r),max:Rr(t,i),minDefined:Gn(e),maxDefined:Gn(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:t,max:r};const c=this.getMatchingVisibleMetas();for(let h=0,f=c.length;h<f;++h)l=c[h].controller.getMinMax(this,e),i||(t=Math.min(t,l.min)),o||(r=Math.max(r,l.max));return t=o&&t>r?r:t,r=i&&t>r?t:r,{min:Rr(t,Rr(r,t)),max:Rr(r,Rr(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){st(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=VV(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?Tx(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=sF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){st(this.options.afterUpdate,[this])}beforeSetDimensions(){st(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){st(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),st(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){st(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=st(t.callback,[o.value,r,e],this)}afterTickToLabelConversion(){st(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){st(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=xx(this.ticks.length,e.ticks.maxTicksLimit),i=t.minRotation||0,o=t.maxRotation;let l=i,c,h,f;if(!this._isVisible()||!t.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const g=this._getLabelSizes(),y=g.widest.width,w=g.highest.height,T=wn(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/r:T/(r-1),y+6>c&&(c=T/(r-(e.offset?.5:1)),h=this.maxHeight-tc(e.grid)-t.padding-Ex(e.title,this.chart.options.font),f=Math.sqrt(y*y+w*w),l=dV(Math.min(Math.asin(wn((g.highest.height+6)/c,-1,1)),Math.asin(wn(h/f,-1,1))-Math.asin(wn(w/f,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){st(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){st(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const h=Ex(i,t.options.font);if(c?(e.width=this.maxWidth,e.height=tc(o)+h):(e.height=this.maxHeight,e.width=tc(o)+h),r.display&&this.ticks.length){const{first:f,last:g,widest:y,highest:w}=this._getLabelSizes(),T=r.padding*2,N=gi(this.labelRotation),A=Math.cos(N),I=Math.sin(N);if(c){const V=r.mirror?0:I*y.width+A*w.height;e.height=Math.min(this.maxHeight,e.height+V+T)}else{const V=r.mirror?0:A*y.width+I*w.height;e.width=Math.min(this.maxWidth,e.width+V+T)}this._calculatePadding(f,g,I,A)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:o,padding:l},position:c}=this.options,h=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,T=0;h?f?(w=i*e.width,T=r*t.height):(w=r*e.height,T=i*t.width):o==="start"?T=t.width:o==="end"?w=e.width:o!=="inner"&&(w=e.width/2,T=t.width/2),this.paddingLeft=Math.max((w-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((T-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;o==="start"?(g=0,y=e.height):o==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){st(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Ze(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Tx(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:i,_longestTextCache:o}=this,l=[],c=[],h=Math.floor(t/xx(t,r));let f=0,g=0,y,w,T,N,A,I,V,F,U,B,q;for(y=0;y<t;y+=h){if(N=e[y].label,A=this._resolveTickFontOptions(y),i.font=I=A.string,V=o[I]=o[I]||{data:{},gc:[]},F=A.lineHeight,U=B=0,!Ze(N)&&!Pt(N))U=Jw(i,V.data,V.gc,U,N),B=F;else if(Pt(N))for(w=0,T=N.length;w<T;++w)q=N[w],!Ze(q)&&!Pt(q)&&(U=Jw(i,V.data,V.gc,U,q),B+=F);l.push(U),c.push(B),f=Math.max(U,f),g=Math.max(B,g)}fF(o,t);const Y=l.indexOf(f),R=c.indexOf(g),b=D=>({width:l[D]||0,height:c[D]||0});return{first:b(0),last:b(t-1),widest:b(Y),highest:b(R),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return pV(this._alignToPixels?Zs(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=gF(this.getContext(),e,r))}return this.$context||(this.$context=pF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=gi(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,c=o?o.widest.width+l:0,h=o?o.highest.height+l:0;return this.isHorizontal()?h*r>c*i?c/r:h/i:h*i<c*r?h/r:c/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:c}=i,h=o.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),w=tc(o),T=[],N=c.setContext(this.getContext()),A=N.display?N.width:0,I=A/2,V=function(Ae){return Zs(r,Ae,A)};let F,U,B,q,Y,R,b,D,P,C,L,O;if(l==="top")F=V(this.bottom),R=this.bottom-w,D=F-I,C=V(e.top)+I,O=e.bottom;else if(l==="bottom")F=V(this.top),C=e.top,O=V(e.bottom)-I,R=F+I,D=this.top+w;else if(l==="left")F=V(this.right),Y=this.right-w,b=F-I,P=V(e.left)+I,L=e.right;else if(l==="right")F=V(this.left),P=e.left,L=V(e.right)-I,Y=F+I,b=this.left+w;else if(t==="x"){if(l==="center")F=V((e.top+e.bottom)/2+.5);else if($e(l)){const Ae=Object.keys(l)[0],we=l[Ae];F=V(this.chart.scales[Ae].getPixelForValue(we))}C=e.top,O=e.bottom,R=F+I,D=R+w}else if(t==="y"){if(l==="center")F=V((e.left+e.right)/2);else if($e(l)){const Ae=Object.keys(l)[0],we=l[Ae];F=V(this.chart.scales[Ae].getPixelForValue(we))}Y=F-I,b=Y-w,P=e.left,L=e.right}const ke=Be(i.ticks.maxTicksLimit,y),me=Math.max(1,Math.ceil(y/ke));for(U=0;U<y;U+=me){const Ae=this.getContext(U),we=o.setContext(Ae),re=c.setContext(Ae),ae=we.lineWidth,oe=we.color,$=re.dash||[],X=re.dashOffset,be=we.tickWidth,xe=we.tickColor,Ne=we.tickBorderDash||[],Ce=we.tickBorderDashOffset;B=dF(this,U,h),B!==void 0&&(q=Zs(r,B,ae),f?Y=b=P=L=q:R=D=C=O=q,T.push({tx1:Y,ty1:R,tx2:b,ty2:D,x1:P,y1:C,x2:L,y2:O,width:ae,color:oe,borderDash:$,borderDashOffset:X,tickWidth:be,tickColor:xe,tickBorderDash:Ne,tickBorderDashOffset:Ce}))}return this._ticksLength=y,this._borderValue=F,T}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:f,padding:g,mirror:y}=o,w=tc(r.grid),T=w+g,N=y?-g:T,A=-gi(this.labelRotation),I=[];let V,F,U,B,q,Y,R,b,D,P,C,L,O="middle";if(i==="top")Y=this.bottom-N,R=this._getXAxisLabelAlignment();else if(i==="bottom")Y=this.top+N,R=this._getXAxisLabelAlignment();else if(i==="left"){const me=this._getYAxisLabelAlignment(w);R=me.textAlign,q=me.x}else if(i==="right"){const me=this._getYAxisLabelAlignment(w);R=me.textAlign,q=me.x}else if(t==="x"){if(i==="center")Y=(e.top+e.bottom)/2+T;else if($e(i)){const me=Object.keys(i)[0],Ae=i[me];Y=this.chart.scales[me].getPixelForValue(Ae)+T}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")q=(e.left+e.right)/2-T;else if($e(i)){const me=Object.keys(i)[0],Ae=i[me];q=this.chart.scales[me].getPixelForValue(Ae)}R=this._getYAxisLabelAlignment(w).textAlign}t==="y"&&(h==="start"?O="top":h==="end"&&(O="bottom"));const ke=this._getLabelSizes();for(V=0,F=c.length;V<F;++V){U=c[V],B=U.label;const me=o.setContext(this.getContext(V));b=this.getPixelForTick(V)+o.labelOffset,D=this._resolveTickFontOptions(V),P=D.lineHeight,C=Pt(B)?B.length:1;const Ae=C/2,we=me.color,re=me.textStrokeColor,ae=me.textStrokeWidth;let oe=R;l?(q=b,R==="inner"&&(V===F-1?oe=this.options.reverse?"left":"right":V===0?oe=this.options.reverse?"right":"left":oe="center"),i==="top"?f==="near"||A!==0?L=-C*P+P/2:f==="center"?L=-ke.highest.height/2-Ae*P+P:L=-ke.highest.height+P/2:f==="near"||A!==0?L=P/2:f==="center"?L=ke.highest.height/2-Ae*P:L=ke.highest.height-C*P,y&&(L*=-1),A!==0&&!me.showLabelBackdrop&&(q+=P/2*Math.sin(A))):(Y=b,L=(1-C)*P/2);let $;if(me.showLabelBackdrop){const X=Qn(me.backdropPadding),be=ke.heights[V],xe=ke.widths[V];let Ne=L-X.top,Ce=0-X.left;switch(O){case"middle":Ne-=be/2;break;case"bottom":Ne-=be;break}switch(R){case"center":Ce-=xe/2;break;case"right":Ce-=xe;break;case"inner":V===F-1?Ce-=xe:V>0&&(Ce-=xe/2);break}$={left:Ce,top:Ne,width:xe+X.width,height:be+X.height,color:me.backdropColor}}I.push({label:B,font:D,textOffset:L,options:{rotation:A,color:we,strokeColor:re,strokeWidth:ae,textAlign:oe,textBaseline:O,translation:[q,Y],backdrop:$}})}return I}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-gi(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),c=e+o,h=l.widest.width;let f,g;return t==="left"?i?(g=this.right+o,r==="near"?f="left":r==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-c,r==="near"?f="right":r==="center"?(f="center",g-=h/2):(f="left",g=this.left)):t==="right"?i?(g=this.left+o,r==="near"?f="right":r==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+c,r==="near"?f="left":r==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:o,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const c=(h,f,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(h.x,h.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(o=0,l=i.length;o<l;++o){const h=i[o];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const c=i.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,y,w;this.isHorizontal()?(f=Zs(e,this.left,l)-l/2,g=Zs(e,this.right,c)+c/2,y=w=h):(y=Zs(e,this.top,l)-l/2,w=Zs(e,this.bottom,c)+c/2,f=g=h),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(f,y),t.lineTo(g,w),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&py(r,i);const o=this.getLabelItems(e);for(const l of o){const c=l.options,h=l.font,f=l.label,g=l.textOffset;Vc(r,f,0,g,h,c)}i&&gy(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const o=nn(r.font),l=Qn(r.padding),c=r.align;let h=o.lineHeight/2;t==="bottom"||t==="center"||$e(t)?(h+=l.bottom,Pt(r.text)&&(h+=o.lineHeight*(r.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:y,rotation:w}=yF(this,h,t,c);Vc(e,r.text,0,0,o,{color:r.color,maxWidth:y,rotation:w,textAlign:mF(c,t,i),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Be(e.grid&&e.grid.z,-1),i=Be(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==el.prototype.draw?[{z:t,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:t,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=t.length;o<l;++o){const c=t[o];c[r]===this.id&&(!e||c.type===e)&&i.push(c)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return nn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Mh{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;wF(t)&&(r=this.register(t));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,_F(e,l,r),this.override&&wt.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in wt[i]&&(delete wt[i][r],this.override&&delete Eo[r])}}function _F(n,e,t){const r=Mc(Object.create(null),[t?wt.get(t):{},wt.get(e),n.defaults]);wt.set(e,r),n.defaultRoutes&&vF(e,n.defaultRoutes),n.descriptors&&wt.describe(e,n.descriptors)}function vF(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),o=[n].concat(r).join("."),l=e[t].split("."),c=l.pop(),h=l.join(".");wt.route(o,i,h,c)})}function wF(n){return"id"in n&&"defaults"in n}class xF{constructor(){this.controllers=new Mh(Ty,"datasets",!0),this.elements=new Mh(Oo,"elements"),this.plugins=new Mh(Object,"plugins"),this.scales=new Mh(el,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Qe(i,l=>{const c=r||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,r){const i=uy(e);st(r["before"+i],[],r),t[e](r),st(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Nr=new xF;class TF{constructor(){this._init=void 0}notify(e,t,r,i){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,t,r);return t==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,i){i=i||{};for(const o of e){const l=o.plugin,c=l[r],h=[t,i,o.options];if(st(c,h,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Ze(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Be(r.options&&r.options.plugins,{}),o=EF(r);return i===!1&&!t?[]:IF(e,o,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(c=>!l.some(h=>c.plugin.id===h.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function EF(n){const e={},t=[],r=Object.keys(Nr.plugins.items);for(let o=0;o<r.length;o++)t.push(Nr.getPlugin(r[o]));const i=n.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function bF(n,e){return!e&&n===!1?null:n===!0?{}:n}function IF(n,{plugins:e,localIds:t},r,i){const o=[],l=n.getContext();for(const c of e){const h=c.id,f=bF(r[h],i);f!==null&&o.push({plugin:c,options:SF(n.config,{plugin:c,local:t[h]},f,l)})}return o}function SF(n,{plugin:e,local:t},r,i){const o=n.pluginScopeKeys(e),l=n.getOptionScopes(r,o);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function tm(n,e){const t=wt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function kF(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function AF(n,e){return n===e?"_index_":"_value_"}function bx(n){if(n==="x"||n==="y"||n==="r")return n}function CF(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function nm(n,...e){if(bx(n))return n;for(const t of e){const r=t.axis||CF(t.position)||n.length>1&&bx(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ix(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function RF(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Ix(n,"x",t[0])||Ix(n,"y",t[0])}return{}}function PF(n,e){const t=Eo[n.type]||{scales:{}},r=e.scales||{},i=tm(n.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const c=r[l];if(!$e(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=nm(l,c,RF(l,n),wt.scales[c.type]),f=AF(h,i),g=t.scales||{};o[l]=wc(Object.create(null),[{axis:h},c,g[h],g[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,h=l.indexAxis||tm(c,e),g=(Eo[c]||{}).scales||{};Object.keys(g).forEach(y=>{const w=kF(y,h),T=l[w+"AxisID"]||w;o[T]=o[T]||Object.create(null),wc(o[T],[{axis:w},r[T],g[y]])})}),Object.keys(o).forEach(l=>{const c=o[l];wc(c,[wt.scales[c.type],wt.scale])}),o}function iI(n){const e=n.options||(n.options={});e.plugins=Be(e.plugins,{}),e.scales=PF(n,e)}function sI(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function NF(n){return n=n||{},n.data=sI(n.data),iI(n),n}const Sx=new Map,oI=new Set;function Lh(n,e){let t=Sx.get(n);return t||(t=e(),Sx.set(n,t),oI.add(t)),t}const nc=(n,e,t)=>{const r=To(e,t);r!==void 0&&n.add(r)};class DF{constructor(e){this._config=NF(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),iI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Lh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Lh(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Lh(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Lh(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),c=l.get(t);if(c)return c;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>nc(h,e,y))),g.forEach(y=>nc(h,i,y)),g.forEach(y=>nc(h,Eo[o]||{},y)),g.forEach(y=>nc(h,wt,y)),g.forEach(y=>nc(h,em,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),oI.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Eo[t]||{},wt.datasets[t]||{},{type:t},wt,em]}resolveNamedOptions(e,t,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:c}=kx(this._resolverCache,e,i);let h=l;if(MF(l,t)){o.$shared=!1,r=Es(r)?r():r;const f=this.createResolver(e,r,c);h=qa(l,r,f)}for(const f of t)o[f]=h[f];return o}createResolver(e,t,r=[""],i){const{resolver:o}=kx(this._resolverCache,e,r);return $e(t)?qa(o,t,void 0,i):o}}function kx(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let o=r.get(i);return o||(o={resolver:yy(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},r.set(i,o)),o}const OF=n=>$e(n)&&Object.getOwnPropertyNames(n).some(e=>Es(n[e]));function MF(n,e){const{isScriptable:t,isIndexable:r}=H1(n);for(const i of e){const o=t(i),l=r(i),c=(l||o)&&n[i];if(o&&(Es(c)||OF(c))||l&&Pt(c))return!0}return!1}var LF="4.5.1";const VF=["top","bottom","left","right","chartArea"];function Ax(n,e){return n==="top"||n==="bottom"||VF.indexOf(n)===-1&&e==="x"}function Cx(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Rx(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),st(t&&t.onComplete,[n],e)}function FF(n){const e=n.chart,t=e.options.animation;st(t&&t.onProgress,[n],e)}function aI(n){return wy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ed={},Px=n=>{const e=aI(n);return Object.values(ed).filter(t=>t.canvas===e).pop()};function jF(n,e,t){const r=Object.keys(n);for(const i of r){const o=+i;if(o>=e){const l=n[i];delete n[i],(t>0||o>e)&&(n[o+t]=l)}}}function UF(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let tl=class{static defaults=wt;static instances=ed;static overrides=Eo;static registry=Nr;static version=LF;static getChart=Px;static register(...e){Nr.add(...e),Nx()}static unregister(...e){Nr.remove(...e),Nx()}constructor(e,t){const r=this.config=new DF(t),i=aI(e),o=Px(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||iF(i)),this.platform.updateConfig(r);const c=this.platform.acquireContext(i,l.aspectRatio),h=c&&c.canvas,f=h&&h.height,g=h&&h.width;if(this.id=eV(),this.ctx=c,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new TF,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_V(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],ed[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}ci.listen(this,"complete",Rx),ci.listen(this,"progress",FF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:o}=this;return Ze(e)?t&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Zw(this.canvas,this.ctx),this}stop(){return ci.stop(this),this}resize(e,t){ci.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,t,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,rx(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),st(r.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Qe(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((l,c)=>(l[c]=!1,l),{});let o=[];t&&(o=o.concat(Object.keys(t).map(l=>{const c=t[l],h=nm(l,c),f=h==="r",g=h==="x";return{options:c,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Qe(o,l=>{const c=l.options,h=c.id,f=nm(h,c),g=Be(c.type,l.dtype);(c.position===void 0||Ax(c.position,f)!==Ax(l.dposition))&&(c.position=l.dposition),i[h]=!0;let y=null;if(h in r&&r[h].type===g)y=r[h];else{const w=Nr.getScale(g);y=new w({id:h,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(c,e)}),Qe(i,(l,c)=>{l||delete r[c]}),Qe(r,l=>{Wn.configure(this,l,l.options),Wn.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Cx("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const o=t[r];let l=this.getDatasetMeta(r);const c=o.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=c,l.indexAxis=o.indexAxis||tm(c,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const h=Nr.getController(c),{datasetElementType:f,dataElementType:g}=wt.datasets[c];Object.assign(h,{dataElementType:Nr.getElement(g),datasetElementType:f&&Nr.getElement(f)}),l.controller=new h(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Qe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:y}=this.getDatasetMeta(f),w=!i&&o.indexOf(y)===-1;y.buildOrUpdateElements(w),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||Qe(o,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Cx("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Qe(this.scales,e=>{Wn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!$w(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of t){const l=r==="_removeElements"?-o:o;jF(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,c)=>c+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<t;o++)if(!$w(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Wn.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Qe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Es(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ci.has(this)?this.attached&&!ci.running(this)&&ci.start(this):(this.draw(),Rx({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,o;for(i=0,o=t.length;i<o;++i){const l=t[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=r4(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&py(t,i),e.controller.draw(),i&&gy(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return B1(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const o=V4.modes[t];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Za(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);Lc(t)?(o.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(c=>c.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ci.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Zw(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ed[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(o,l)=>{t.addEventListener(this,o,l),e[o]=l},i=(o,l,c)=>{o.offsetX=l,o.offsetY=c,this._eventHandler(o)};Qe(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},i=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},o=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){Qe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Qe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let o,l,c,h;for(t==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[l],index:l}});!Td(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const i=this.options.hover,o=(h,f)=>h.filter(g=>!f.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=o(t,e),c=r?e:o(e,t);l.length&&this.updateHoverStyle(l,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:o}=this,l=t,c=this._getActiveElements(e,i,r,l),h=oV(e),f=UF(e,this._lastEvent,r,h);r&&(this._lastEvent=null,st(o.onHover,[e,c,this],this),h&&st(o.onClick,[e,c,this],this));const g=!Td(c,i);return(g||t)&&(this._active=c,this._updateHoverStyles(c,i,t)),this._lastEvent=f,g}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}};function Nx(){return Qe(tl.instances,n=>n._plugins.invalidate())}function zF(n,e,t){const{startAngle:r,x:i,y:o,outerRadius:l,innerRadius:c,options:h}=e,{borderWidth:f,borderJoinStyle:g}=h,y=Math.min(f/l,Or(r-t));if(n.beginPath(),n.arc(i,o,l-f/2,r+y/2,t-y/2),c>0){const w=Math.min(f/c,Or(r-t));n.arc(i,o,c+f/2,t-w/2,r+w/2,!0)}else{const w=Math.min(f/2,l*Or(r-t));if(g==="round")n.arc(i,o,w,t-Je/2,r+Je/2,!0);else if(g==="bevel"){const T=2*w*w,N=-T*Math.cos(t+Je/2)+i,A=-T*Math.sin(t+Je/2)+o,I=T*Math.cos(r+Je/2)+i,V=T*Math.sin(r+Je/2)+o;n.lineTo(N,A),n.lineTo(I,V)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function BF(n,e,t){const{startAngle:r,pixelMargin:i,x:o,y:l,outerRadius:c,innerRadius:h}=e;let f=i/c;n.beginPath(),n.arc(o,l,c,r-f,t+f),h>i?(f=i/h,n.arc(o,l,h,t+f,r-f,!0)):n.arc(o,l,i,t+Nt,r-Nt),n.closePath(),n.clip()}function $F(n){return my(n,["outerStart","outerEnd","innerStart","innerEnd"])}function HF(n,e,t,r){const i=$F(n.options.borderRadius),o=(t-e)/2,l=Math.min(o,r*e/2),c=h=>{const f=(t-Math.min(o,h))*r/2;return wn(h,0,Math.min(o,f))};return{outerStart:c(i.outerStart),outerEnd:c(i.outerEnd),innerStart:wn(i.innerStart,0,l),innerEnd:wn(i.innerEnd,0,l)}}function ba(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function Rd(n,e,t,r,i,o){const{x:l,y:c,startAngle:h,pixelMargin:f,innerRadius:g}=e,y=Math.max(e.outerRadius+r+t-f,0),w=g>0?g+r+t+f:0;let T=0;const N=i-h;if(r){const me=g>0?g-r:0,Ae=y>0?y-r:0,we=(me+Ae)/2,re=we!==0?N*we/(we+r):N;T=(N-re)/2}const A=Math.max(.001,N*y-t/Je)/y,I=(N-A)/2,V=h+I+T,F=i-I-T,{outerStart:U,outerEnd:B,innerStart:q,innerEnd:Y}=HF(e,w,y,F-V),R=y-U,b=y-B,D=V+U/R,P=F-B/b,C=w+q,L=w+Y,O=V+q/C,ke=F-Y/L;if(n.beginPath(),o){const me=(D+P)/2;if(n.arc(l,c,y,D,me),n.arc(l,c,y,me,P),B>0){const ae=ba(b,P,l,c);n.arc(ae.x,ae.y,B,P,F+Nt)}const Ae=ba(L,F,l,c);if(n.lineTo(Ae.x,Ae.y),Y>0){const ae=ba(L,ke,l,c);n.arc(ae.x,ae.y,Y,F+Nt,ke+Math.PI)}const we=(F-Y/w+(V+q/w))/2;if(n.arc(l,c,w,F-Y/w,we,!0),n.arc(l,c,w,we,V+q/w,!0),q>0){const ae=ba(C,O,l,c);n.arc(ae.x,ae.y,q,O+Math.PI,V-Nt)}const re=ba(R,V,l,c);if(n.lineTo(re.x,re.y),U>0){const ae=ba(R,D,l,c);n.arc(ae.x,ae.y,U,V-Nt,D)}}else{n.moveTo(l,c);const me=Math.cos(D)*y+l,Ae=Math.sin(D)*y+c;n.lineTo(me,Ae);const we=Math.cos(P)*y+l,re=Math.sin(P)*y+c;n.lineTo(we,re)}n.closePath()}function WF(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:c}=e;let h=e.endAngle;if(o){Rd(n,e,t,r,h,i);for(let f=0;f<o;++f)n.fill();isNaN(c)||(h=l+(c%St||St))}return Rd(n,e,t,r,h,i),n.fill(),h}function qF(n,e,t,r,i){const{fullCircles:o,startAngle:l,circumference:c,options:h}=e,{borderWidth:f,borderJoinStyle:g,borderDash:y,borderDashOffset:w,borderRadius:T}=h,N=h.borderAlign==="inner";if(!f)return;n.setLineDash(y||[]),n.lineDashOffset=w,N?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let A=e.endAngle;if(o){Rd(n,e,t,r,A,i);for(let I=0;I<o;++I)n.stroke();isNaN(c)||(A=l+(c%St||St))}N&&BF(n,e,A),h.selfJoin&&A-l>=Je&&T===0&&g!=="miter"&&zF(n,e,A),o||(Rd(n,e,t,r,A,i),n.stroke())}class lI extends Oo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:o,distance:l}=O1(i,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:f,outerRadius:g,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,T=Be(y,h-c),N=Sd(o,c,h)&&c!==h,A=T>=St||N,I=oo(l,f+w,g+w);return A&&I}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:o,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:f}=this.options,g=(i+o)/2,y=(l+c+f+h)/2;return{x:t+Math.cos(g)*y,y:r+Math.sin(g)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/4,o=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>St?Math.floor(r/St):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*i,Math.sin(c)*i);const h=1-Math.sin(Math.min(Je,r||0)),f=i*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,WF(e,this,f,o,l),qF(e,this,f,o,l),e.restore()}}function cI(n,e){const{x:t,y:r,base:i,width:o,height:l}=n.getProps(["x","y","base","width","height"],e);let c,h,f,g,y;return n.horizontal?(y=l/2,c=Math.min(t,i),h=Math.max(t,i),f=r-y,g=r+y):(y=o/2,c=t-y,h=t+y,f=Math.min(r,i),g=Math.max(r,i)),{left:c,top:f,right:h,bottom:g}}function hs(n,e,t,r){return n?0:wn(e,t,r)}function KF(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,o=$1(r);return{t:hs(i.top,o.top,0,t),r:hs(i.right,o.right,0,e),b:hs(i.bottom,o.bottom,0,t),l:hs(i.left,o.left,0,e)}}function GF(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,o=Va(i),l=Math.min(e,t),c=n.borderSkipped,h=r||$e(i);return{topLeft:hs(!h||c.top||c.left,o.topLeft,0,l),topRight:hs(!h||c.top||c.right,o.topRight,0,l),bottomLeft:hs(!h||c.bottom||c.left,o.bottomLeft,0,l),bottomRight:hs(!h||c.bottom||c.right,o.bottomRight,0,l)}}function QF(n){const e=cI(n),t=e.right-e.left,r=e.bottom-e.top,i=KF(n,t/2,r/2),o=GF(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function pg(n,e,t,r){const i=e===null,o=t===null,c=n&&!(i&&o)&&cI(n,r);return c&&(i||oo(e,c.left,c.right))&&(o||oo(t,c.top,c.bottom))}function YF(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function XF(n,e){n.rect(e.x,e.y,e.w,e.h)}function gg(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,o=(n.x+n.w!==t.x+t.w?e:0)-r,l=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+o,h:n.h+l,radius:n.radius}}class JF extends Oo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:l}=QF(this),c=YF(l.radius)?kd:XF;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),c(e,gg(l,t,o)),e.clip(),c(e,gg(o,-t,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),c(e,gg(o,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return pg(this,e,t,r)}inXRange(e,t){return pg(this,e,null,t)}inYRange(e,t){return pg(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+i)/2:t,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Dx=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},ZF=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class Ox extends Oo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=st(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=nn(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=Dx(r,o);let f,g;t.font=i.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,o,c,h)+10):(g=this.maxHeight,f=this._fitCols(l,i,c,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=i+c;let y=e;o.textAlign="left",o.textBaseline="middle";let w=-1,T=-g;return this.legendItems.forEach((N,A)=>{const I=r+t/2+o.measureText(N.text).width;(A===0||f[f.length-1]+I+2*c>l)&&(y+=g,f[f.length-(A>0?0:1)]=0,T+=g,w++),h[A]={left:0,top:T,row:w,width:I,height:i},f[f.length-1]+=I+c}),y}_fitCols(e,t,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let y=c,w=0,T=0,N=0,A=0;return this.legendItems.forEach((I,V)=>{const{itemWidth:F,itemHeight:U}=e3(r,t,o,I,i);V>0&&T+U+2*c>g&&(y+=w+c,f.push({width:w,height:T}),N+=w+c,A++,w=T=0),h[V]={left:N,top:T,col:A,width:F,height:U},w=Math.max(w,F),T+=U+c}),y+=w,f.push({width:w,height:T}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:i},rtl:o}}=this,l=Fa(o,this.left,this.width);if(this.isHorizontal()){let c=0,h=Zt(r,this.left+i,this.right-this.lineWidths[c]);for(const f of t)c!==f.row&&(c=f.row,h=Zt(r,this.left+i,this.right-this.lineWidths[c])),f.top+=this.top+e+i,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+i}else{let c=0,h=Zt(r,this.top+e+i,this.bottom-this.columnSizes[c].height);for(const f of t)f.col!==c&&(c=f.col,h=Zt(r,this.top+e+i,this.bottom-this.columnSizes[c].height)),f.top=h,f.left+=this.left+i,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;py(e,this),this._draw(),gy(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,c=wt.color,h=Fa(e.rtl,this.left,this.width),f=nn(l.font),{padding:g}=l,y=f.size,w=y/2;let T;this.drawTitle(),i.textAlign=h.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=f.string;const{boxWidth:N,boxHeight:A,itemHeight:I}=Dx(l,y),V=function(Y,R,b){if(isNaN(N)||N<=0||isNaN(A)||A<0)return;i.save();const D=Be(b.lineWidth,1);if(i.fillStyle=Be(b.fillStyle,c),i.lineCap=Be(b.lineCap,"butt"),i.lineDashOffset=Be(b.lineDashOffset,0),i.lineJoin=Be(b.lineJoin,"miter"),i.lineWidth=D,i.strokeStyle=Be(b.strokeStyle,c),i.setLineDash(Be(b.lineDash,[])),l.usePointStyle){const P={radius:A*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:D},C=h.xPlus(Y,N/2),L=R+w;z1(i,P,C,L,l.pointStyleWidth&&N)}else{const P=R+Math.max((y-A)/2,0),C=h.leftForLtr(Y,N),L=Va(b.borderRadius);i.beginPath(),Object.values(L).some(O=>O!==0)?kd(i,{x:C,y:P,w:N,h:A,radius:L}):i.rect(C,P,N,A),i.fill(),D!==0&&i.stroke()}i.restore()},F=function(Y,R,b){Vc(i,b.text,Y,R+I/2,f,{strikethrough:b.hidden,textAlign:h.textAlign(b.textAlign)})},U=this.isHorizontal(),B=this._computeTitleHeight();U?T={x:Zt(o,this.left+g,this.right-r[0]),y:this.top+g+B,line:0}:T={x:this.left+g,y:Zt(o,this.top+B+g,this.bottom-t[0].height),line:0},G1(this.ctx,e.textDirection);const q=I+g;this.legendItems.forEach((Y,R)=>{i.strokeStyle=Y.fontColor,i.fillStyle=Y.fontColor;const b=i.measureText(Y.text).width,D=h.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),P=N+w+b;let C=T.x,L=T.y;h.setWidth(this.width),U?R>0&&C+P+g>this.right&&(L=T.y+=q,T.line++,C=T.x=Zt(o,this.left+g,this.right-r[T.line])):R>0&&L+q>this.bottom&&(C=T.x=C+t[T.line].width+g,T.line++,L=T.y=Zt(o,this.top+B+g,this.bottom-t[T.line].height));const O=h.x(C);if(V(O,L,Y),C=vV(D,C+N+w,U?C+P:this.right,e.rtl),F(h.x(C),L,Y),U)T.x+=P+g;else if(typeof Y.text!="string"){const ke=f.lineHeight;T.y+=uI(Y,ke)+g}else T.y+=q}),Q1(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=nn(t.font),i=Qn(t.padding);if(!t.display)return;const o=Fa(e.rtl,this.left,this.width),l=this.ctx,c=t.position,h=r.size/2,f=i.top+h;let g,y=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+f,y=Zt(e.align,y,this.right-w);else{const N=this.columnSizes.reduce((A,I)=>Math.max(A,I.height),0);g=f+Zt(e.align,this.top,this.bottom-N-e.labels.padding-this._computeTitleHeight())}const T=Zt(c,y,y+w);l.textAlign=o.textAlign(dy(c)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,Vc(l,t.text,T,g,r)}_computeTitleHeight(){const e=this.options.title,t=nn(e.font),r=Qn(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,i,o;if(oo(e,this.left,this.right)&&oo(t,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],oo(e,i.left,i.left+i.width)&&oo(t,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!r3(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=ZF(i,r);i&&!o&&st(t.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&st(t.onHover,[e,r,this],this)}else r&&st(t.onClick,[e,r,this],this)}}function e3(n,e,t,r,i){const o=t3(r,n,e,t),l=n3(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function t3(n,e,t,r){let i=n.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+t.size/2+r.measureText(i).width}function n3(n,e,t){let r=n;return typeof e.text!="string"&&(r=uI(e,t)),r}function uI(n,e){const t=n.text?n.text.length:0;return e*t}function r3(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var by={id:"legend",_element:Ox,start(n,e,t){const r=n.legend=new Ox({ctx:n.ctx,options:t,chart:n});Wn.configure(n,r,t),Wn.addBox(n,r)},stop(n){Wn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Wn.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,i=t.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:c}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),g=Qn(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:i||f.textAlign,borderRadius:l&&(c||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class hI extends Oo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const i=Pt(r.text)?r.text.length:1;this._padding=Qn(r.padding);const o=i*nn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:i,right:o,options:l}=this,c=l.align;let h=0,f,g,y;return this.isHorizontal()?(g=Zt(c,r,o),y=t+e,f=o-r):(l.position==="left"?(g=r+e,y=Zt(c,i,t),h=Je*-.5):(g=o-e,y=Zt(c,t,i),h=Je*.5),f=i-t),{titleX:g,titleY:y,maxWidth:f,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=nn(t.font),o=r.lineHeight/2+this._padding.top,{titleX:l,titleY:c,maxWidth:h,rotation:f}=this._drawArgs(o);Vc(e,t.text,0,0,r,{color:t.color,maxWidth:h,rotation:f,textAlign:dy(t.align),textBaseline:"middle",translation:[l,c]})}}function i3(n,e){const t=new hI({ctx:n.ctx,options:e,chart:n});Wn.configure(n,t,e),Wn.addBox(n,t),n.titleBlock=t}var Iy={id:"title",_element:hI,start(n,e,t){i3(n,t)},stop(n){const e=n.titleBlock;Wn.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Wn.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hc={average(n){if(!n.length)return!1;let e,t,r=new Set,i=0,o=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();r.add(h.x),i+=h.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((c,h)=>c+h)/r.size,y:i/o}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,c;for(o=0,l=n.length;o<l;++o){const h=n[o].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=fV(e,f);g<i&&(i=g,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,r=h.y}return{x:t,y:r}}};function Pr(n,e){return e&&(Pt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function ui(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function s3(n,e){const{element:t,datasetIndex:r,index:i}=e,o=n.getDatasetMeta(r).controller,{label:l,value:c}=o.getLabelAndValue(i);return{chart:n,label:l,parsed:o.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:c,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Mx(n,e){const t=n.chart.ctx,{body:r,footer:i,title:o}=n,{boxWidth:l,boxHeight:c}=e,h=nn(e.bodyFont),f=nn(e.titleFont),g=nn(e.footerFont),y=o.length,w=i.length,T=r.length,N=Qn(e.padding);let A=N.height,I=0,V=r.reduce((B,q)=>B+q.before.length+q.lines.length+q.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),V){const B=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;A+=T*B+(V-T)*h.lineHeight+(V-1)*e.bodySpacing}w&&(A+=e.footerMarginTop+w*g.lineHeight+(w-1)*e.footerSpacing);let F=0;const U=function(B){I=Math.max(I,t.measureText(B).width+F)};return t.save(),t.font=f.string,Qe(n.title,U),t.font=h.string,Qe(n.beforeBody.concat(n.afterBody),U),F=e.displayColors?l+2+e.boxPadding:0,Qe(r,B=>{Qe(B.before,U),Qe(B.lines,U),Qe(B.after,U)}),F=0,t.font=g.string,Qe(n.footer,U),t.restore(),I+=N.width,{width:I,height:A}}function o3(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function a3(n,e,t,r){const{x:i,width:o}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&i+o+l>e.width||n==="right"&&i-o-l<0)return!0}function l3(n,e,t,r){const{x:i,width:o}=t,{width:l,chartArea:{left:c,right:h}}=n;let f="center";return r==="center"?f=i<=(c+h)/2?"left":"right":i<=o/2?f="left":i>=l-o/2&&(f="right"),a3(f,n,e,t)&&(f="center"),f}function Lx(n,e,t){const r=t.yAlign||e.yAlign||o3(n,t);return{xAlign:t.xAlign||e.xAlign||l3(n,e,t,r),yAlign:r}}function c3(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function u3(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Vx(n,e,t,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=n,{xAlign:c,yAlign:h}=t,f=i+o,{topLeft:g,topRight:y,bottomLeft:w,bottomRight:T}=Va(l);let N=c3(e,c);const A=u3(e,h,f);return h==="center"?c==="left"?N+=f:c==="right"&&(N-=f):c==="left"?N-=Math.max(g,w)+i:c==="right"&&(N+=Math.max(y,T)+i),{x:wn(N,0,r.width-e.width),y:wn(A,0,r.height-e.height)}}function Vh(n,e,t){const r=Qn(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function Fx(n){return Pr([],ui(n))}function h3(n,e,t){return Za(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function jx(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const dI={beforeTitle:li,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:li,beforeBody:li,beforeLabel:li,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ze(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:li,afterBody:li,beforeFooter:li,footer:li,afterFooter:li};function yn(n,e,t,r){const i=n[e].call(t,r);return typeof i>"u"?dI[e].call(t,r):i}class Ux extends Oo{static positioners=hc;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,o=new Y1(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=h3(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=yn(r,"beforeTitle",this,e),o=yn(r,"title",this,e),l=yn(r,"afterTitle",this,e);let c=[];return c=Pr(c,ui(i)),c=Pr(c,ui(o)),c=Pr(c,ui(l)),c}getBeforeBody(e,t){return Fx(yn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,i=[];return Qe(e,o=>{const l={before:[],lines:[],after:[]},c=jx(r,o);Pr(l.before,ui(yn(c,"beforeLabel",this,o))),Pr(l.lines,yn(c,"label",this,o)),Pr(l.after,ui(yn(c,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,t){return Fx(yn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,i=yn(r,"beforeFooter",this,e),o=yn(r,"footer",this,e),l=yn(r,"afterFooter",this,e);let c=[];return c=Pr(c,ui(i)),c=Pr(c,ui(o)),c=Pr(c,ui(l)),c}_createItems(e){const t=this._active,r=this.chart.data,i=[],o=[],l=[];let c=[],h,f;for(h=0,f=t.length;h<f;++h)c.push(s3(this.chart,t[h]));return e.filter&&(c=c.filter((g,y,w)=>e.filter(g,y,w,r))),e.itemSort&&(c=c.sort((g,y)=>e.itemSort(g,y,r))),Qe(c,g=>{const y=jx(e.callbacks,g);i.push(yn(y,"labelColor",this,g)),o.push(yn(y,"labelPointStyle",this,g)),l.push(yn(y,"labelTextColor",this,g))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const c=hc[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const h=this._size=Mx(this,r),f=Object.assign({},c,h),g=Lx(this.chart,r,f),y=Vx(r,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,o={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const o=this.getCaretPosition(e,r,i);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:c}=r,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=Va(c),{x:w,y:T}=e,{width:N,height:A}=t;let I,V,F,U,B,q;return o==="center"?(B=T+A/2,i==="left"?(I=w,V=I-l,U=B+l,q=B-l):(I=w+N,V=I+l,U=B-l,q=B+l),F=I):(i==="left"?V=w+Math.max(h,g)+l:i==="right"?V=w+N-Math.max(f,y)-l:V=this.caretX,o==="top"?(U=T,B=U-l,I=V-l,F=V+l):(U=T+A,B=U+l,I=V+l,F=V-l),q=U),{x1:I,x2:V,x3:F,y1:U,y2:B,y3:q}}drawTitle(e,t,r){const i=this.title,o=i.length;let l,c,h;if(o){const f=Fa(r.rtl,this.x,this.width);for(e.x=Vh(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=nn(r.titleFont),c=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,h=0;h<o;++h)t.fillText(i[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,h+1===o&&(e.y+=r.titleMarginBottom-c)}}_drawColorBox(e,t,r,i,o){const l=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:h,boxWidth:f}=o,g=nn(o.bodyFont),y=Vh(this,"left",o),w=i.x(y),T=h<g.lineHeight?(g.lineHeight-h)/2:0,N=t.y+T;if(o.usePointStyle){const A={radius:Math.min(f,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},I=i.leftForLtr(w,f)+f/2,V=N+h/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,ex(e,A,I,V),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,ex(e,A,I,V)}else{e.lineWidth=$e(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const A=i.leftForLtr(w,f),I=i.leftForLtr(i.xPlus(w,1),f-2),V=Va(l.borderRadius);Object.values(V).some(F=>F!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,kd(e,{x:A,y:N,w:f,h,radius:V}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),kd(e,{x:I,y:N+1,w:f-2,h:h-2,radius:V}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(A,N,f,h),e.strokeRect(A,N,f,h),e.fillStyle=l.backgroundColor,e.fillRect(I,N+1,f-2,h-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:c,boxHeight:h,boxWidth:f,boxPadding:g}=r,y=nn(r.bodyFont);let w=y.lineHeight,T=0;const N=Fa(r.rtl,this.x,this.width),A=function(b){t.fillText(b,N.x(e.x+T),e.y+w/2),e.y+=w+o},I=N.textAlign(l);let V,F,U,B,q,Y,R;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=Vh(this,I,r),t.fillStyle=r.bodyColor,Qe(this.beforeBody,A),T=c&&I!=="right"?l==="center"?f/2+g:f+2+g:0,B=0,Y=i.length;B<Y;++B){for(V=i[B],F=this.labelTextColors[B],t.fillStyle=F,Qe(V.before,A),U=V.lines,c&&U.length&&(this._drawColorBox(t,e,B,N,r),w=Math.max(y.lineHeight,h)),q=0,R=U.length;q<R;++q)A(U[q]),w=y.lineHeight;Qe(V.after,A)}T=0,w=y.lineHeight,Qe(this.afterBody,A),e.y-=o}drawFooter(e,t,r){const i=this.footer,o=i.length;let l,c;if(o){const h=Fa(r.rtl,this.x,this.width);for(e.x=Vh(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=h.textAlign(r.footerAlign),t.textBaseline="middle",l=nn(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,c=0;c<o;++c)t.fillText(i[c],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:o,yAlign:l}=this,{x:c,y:h}=e,{width:f,height:g}=r,{topLeft:y,topRight:w,bottomLeft:T,bottomRight:N}=Va(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(c+y,h),l==="top"&&this.drawCaret(e,t,r,i),t.lineTo(c+f-w,h),t.quadraticCurveTo(c+f,h,c+f,h+w),l==="center"&&o==="right"&&this.drawCaret(e,t,r,i),t.lineTo(c+f,h+g-N),t.quadraticCurveTo(c+f,h+g,c+f-N,h+g),l==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(c+T,h+g),t.quadraticCurveTo(c,h+g,c,h+g-T),l==="center"&&o==="left"&&this.drawCaret(e,t,r,i),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=hc[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=Mx(this,e),h=Object.assign({},l,this._size),f=Lx(t,e,h),g=Vx(e,h,f,t);(i._to!==g.x||o._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=Qn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,t),G1(e,t.textDirection),o.y+=l.top,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),Q1(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:c,index:h})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[h],index:h}}),o=!Td(r,i),l=this._positionChanged(i,t);(o||l)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,t,r),c=this._positionChanged(l,e),h=t||!Td(l,o)||c;return h&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:i,options:o}=this,l=hc[o.position].call(this,e,t);return l!==!1&&(r!==l.x||i!==l.y)}}var Sy={id:"tooltip",_element:Ux,positioners:hc,afterInit(n,e,t){t&&(n.tooltip=new Ux({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:dI},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const d3=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function f3(n,e,t,r){const i=n.indexOf(e);if(i===-1)return d3(n,e,t,r);const o=n.lastIndexOf(e);return i!==o?t:i}const p3=(n,e)=>n===null?null:wn(Math.round(n),0,e);function zx(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class g3 extends el{static id="category";static defaults={ticks:{callback:zx}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:o}of t)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ze(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:f3(r,e,Be(t,e),this._addedLabels),p3(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&t===o.length-1?o:o.slice(e,t+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)i.push({value:l});return i}getLabelForValue(e){return zx.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function m3(n,e){const t=[],{bounds:i,step:o,min:l,max:c,precision:h,count:f,maxTicks:g,maxDigits:y,includeBounds:w}=n,T=o||1,N=g-1,{min:A,max:I}=e,V=!Ze(l),F=!Ze(c),U=!Ze(f),B=(I-A)/(y+1);let q=Ww((I-A)/N/T)*T,Y,R,b,D;if(q<1e-14&&!V&&!F)return[{value:A},{value:I}];D=Math.ceil(I/q)-Math.floor(A/q),D>N&&(q=Ww(D*q/N/T)*T),Ze(h)||(Y=Math.pow(10,h),q=Math.ceil(q*Y)/Y),i==="ticks"?(R=Math.floor(A/q)*q,b=Math.ceil(I/q)*q):(R=A,b=I),V&&F&&o&&uV((c-l)/o,q/1e3)?(D=Math.round(Math.min((c-l)/q,g)),q=(c-l)/D,R=l,b=c):U?(R=V?l:R,b=F?c:b,D=f-1,q=(b-R)/D):(D=(b-R)/q,Jh(D,Math.round(D),q/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(qw(q),qw(R));Y=Math.pow(10,Ze(h)?P:h),R=Math.round(R*Y)/Y,b=Math.round(b*Y)/Y;let C=0;for(V&&(w&&R!==l?(t.push({value:l}),R<l&&C++,Jh(Math.round((R+C*q)*Y)/Y,l,Bx(l,B,n))&&C++):R<l&&C++);C<D;++C){const L=Math.round((R+C*q)*Y)/Y;if(F&&L>c)break;t.push({value:L})}return F&&w&&b!==c?t.length&&Jh(t[t.length-1].value,c,Bx(c,B,n))?t[t.length-1].value=c:t.push({value:c}):(!F||b===c)&&t.push({value:b}),t}function Bx(n,e,{horizontal:t,minRotation:r}){const i=gi(r),o=(t?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+n).length;return Math.min(e/o,l)}class y3 extends el{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ze(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const l=h=>i=t?i:h,c=h=>o=r?o:h;if(e){const h=ms(i),f=ms(o);h<0&&f<0?c(0):h>0&&f>0&&l(0)}if(i===o){let h=o===0?1:Math.abs(o*.05);c(o+h),e||l(i-h)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},o=this._range||this,l=m3(i,o);return e.bounds==="ticks"&&hV(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return fy(e,this.chart.options.locale,this.options.ticks.format)}}class _3 extends y3{static id="linear";static defaults={ticks:{callback:U1.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Gn(e)?e:0,this.max=Gn(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=gi(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const cf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(cf);function $x(n,e){return n-e}function Hx(n,e){if(Ze(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:o}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),Gn(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(i&&(l=i==="week"&&(Id(o)||o===!0)?t.startOf(l,"isoWeek",o):t.startOf(l,i)),+l)}function Wx(n,e,t,r){const i=vn.length;for(let o=vn.indexOf(n);o<i-1;++o){const l=cf[vn[o]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=r)return vn[o]}return vn[i-1]}function v3(n,e,t,r,i){for(let o=vn.length-1;o>=vn.indexOf(t);o--){const l=vn[o];if(cf[l].common&&n._adapter.diff(i,r,l)>=e-1)return l}return vn[t?vn.indexOf(t):0]}function w3(n){for(let e=vn.indexOf(n)+1,t=vn.length;e<t;++e)if(cf[vn[e]].common)return vn[e]}function qx(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=hy(t,e),o=t[r]>=e?t[r]:t[i];n[o]=!0}}function x3(n,e,t,r){const i=n._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let c,h;for(c=o;c<=l;c=+i.add(c,1,r))h=t[c],h>=0&&(e[h].major=!0);return e}function Kx(n,e,t){const r=[],i={},o=e.length;let l,c;for(l=0;l<o;++l)c=e[l],i[c]=l,r.push({value:c,major:!1});return o===0||!t?r:x3(n,r,i,t)}class Gx extends el{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),i=this._adapter=new N4._date(e.adapters.date);i.init(t),wc(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Hx(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:c}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!c&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),i=Gn(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),o=Gn(o)&&!isNaN(o)?o:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,c=mV(i,o,l);return this._unit=t.unit||(r.autoSkip?Wx(t.minUnit,this.min,this.max,this._getLabelCapacity(o)):v3(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:w3(this._unit),this.initOffsets(i),e.reverse&&c.reverse(),Kx(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=wn(t,0,l),r=wn(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||Wx(o.minUnit,t,r,this._getLabelCapacity(t)),c=Be(i.ticks.stepSize,1),h=l==="week"?o.isoWeekday:!1,f=Id(h)||h===!0,g={};let y=t,w,T;if(f&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,f?"day":l),e.diff(r,t,l)>1e5*c)throw new Error(t+" and "+r+" are too far apart with stepSize of "+c+" "+l);const N=i.ticks.source==="data"&&this.getDataTimestamps();for(w=y,T=0;w<r;w=+e.add(w,c,l),T++)qx(g,w,N);return(w===r||i.bounds==="ticks"||T===1)&&qx(g,w,N),Object.keys(g).sort($x).map(A=>+A)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const i=this.options.time.displayFormats,o=this._unit,l=t||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,i){const o=this.options,l=o.ticks.callback;if(l)return st(l,[e,t,r],this);const c=o.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&c[h],y=f&&c[f],w=r[t],T=f&&y&&w&&w.major;return this._adapter.format(e,i||(T?y:g))}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=gi(this.isHorizontal()?t.maxRotation:t.minRotation),o=Math.cos(i),l=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*l,h:r*l+c*o}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Kx(this,[e],this._majorUnit),i),l=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Hx(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return L1(e.sort($x))}}function Fh(n,e,t){let r=0,i=n.length-1,o,l,c,h;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=Zg(n,"pos",e)),{pos:o,time:c}=n[r],{pos:l,time:h}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=Zg(n,"time",e)),{time:o,pos:c}=n[r],{time:l,pos:h}=n[i]);const f=l-o;return f?c+(h-c)*(e-o)/f:c}class j5 extends Gx{static id="timeseries";static defaults=Gx.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Fh(t,this.min),this._tableRange=Fh(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],o=[];let l,c,h,f,g;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,c=i.length;l<c;++l)g=i[l+1],h=i[l-1],f=i[l],Math.round((g+h)/2)!==f&&o.push({time:f,pos:l/(c-1)});return o}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Fh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Fh(this._table,r*this._tableRange+this._minPos,!0)}}const fI="label";function Qx(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function T3(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function pI(n,e){n.labels=e}function gI(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fI;const r=[];n.datasets=e.map(i=>{const o=n.datasets.find(l=>l[t]===i[t]);return!o||!i.data||r.includes(o)?{...i}:(r.push(o),Object.assign(o,i),o)})}function E3(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fI;const t={labels:[],datasets:[]};return pI(t,n.labels),gI(t,n.datasets,e),t}function b3(n,e){const{height:t=150,width:r=300,redraw:i=!1,datasetIdKey:o,type:l,data:c,options:h,plugins:f=[],fallbackContent:g,updateMode:y,...w}=n,T=ce.useRef(null),N=ce.useRef(null),A=()=>{T.current&&(N.current=new tl(T.current,{type:l,data:E3(c,o),options:h&&{...h},plugins:f}),Qx(e,N.current))},I=()=>{Qx(e,null),N.current&&(N.current.destroy(),N.current=null)};return ce.useEffect(()=>{!i&&N.current&&h&&T3(N.current,h)},[i,h]),ce.useEffect(()=>{!i&&N.current&&pI(N.current.config.data,c.labels)},[i,c.labels]),ce.useEffect(()=>{!i&&N.current&&c.datasets&&gI(N.current.config.data,c.datasets,o)},[i,c.datasets]),ce.useEffect(()=>{N.current&&(i?(I(),setTimeout(A)):N.current.update(y))},[i,h,c.labels,c.datasets,y]),ce.useEffect(()=>{N.current&&(I(),setTimeout(A))},[l]),ce.useEffect(()=>(A(),()=>I()),[]),et.createElement("canvas",{ref:T,role:"img",height:t,width:r,...w},g)}const I3=ce.forwardRef(b3);function mI(n,e){return tl.register(e),ce.forwardRef((t,r)=>et.createElement(I3,{...t,ref:r,type:n}))}const S3=mI("bar",A4),yI=mI("pie",P4);tl.register(JF,g3,_3,Sy,by,Iy);const k3=()=>{const n=di.filter(i=>i.type==="income").reduce((i,o)=>i+o.amount,0),e=di.filter(i=>i.type==="expense").reduce((i,o)=>i+o.amount,0),t={labels:["Income","Expenses"],datasets:[{label:"Total Amount ($)",data:[n,e],backgroundColor:["#4ade80","#f87171"],borderRadius:8}]},r={responsive:!0,plugins:{title:{display:!0,text:"Income vs Expense Overview",font:{size:18}},legend:{display:!1}}};return S.jsxs("div",{className:"bg-white shadow rounded-2xl p-5 flex flex-col md:flex-row gap-6 border border-[--color-appPurpleLight]",children:[S.jsx("div",{className:"max-w-md mx-auto p-3 bg-white rounded-2xl shadow",children:S.jsx(S3,{data:t,options:r})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-lg font-semibold text-[--color-appPurple] mb-3",children:"Context"}),S.jsxs("ul",{className:"flex flex-col gap-3",children:[S.jsxs("li",{className:"flex justify-between text-gray-600",children:[S.jsx("span",{children:"Income"}),S.jsxs("span",{children:["$",n]})]}),S.jsxs("li",{className:"flex justify-between text-gray-600",children:[S.jsx("span",{children:"Expense"}),S.jsxs("span",{children:["$",Number(e.toFixed(2))]})]}),S.jsxs("li",{className:"flex justify-between text-gray-600",children:[S.jsx("span",{children:"Net Balance"}),S.jsxs("span",{children:["$",n-e]})]})]})]})]})};tl.register(lI,Sy,by,Iy);const A3=()=>{const e=di.filter(c=>c.type==="expense").reduce((c,h)=>(c[h.category]=(c[h.category]||0)+h.amount,c),{}),t=Object.keys(e),r=Object.values(e),i={labels:t,datasets:[{label:"Expenses by Category ($)",data:r,backgroundColor:["#42224a","#8c6b96","#6b7280","#22c55e","#ef4444","#eab308","#3b82f6","#9ca3af"],borderColor:"#fff",borderWidth:2}]},o={responsive:!0,plugins:{title:{display:!0,text:"Expense Breakdown by Category",font:{size:18},color:"#42224a"},legend:{position:"right",labels:{color:"#42224a",font:{size:14}}}}},l=r.reduce((c,h)=>c+h,0);return S.jsxs("div",{className:"bg-white shadow rounded-2xl p-5 flex flex-col md:flex-row gap-6 border border-[--color-appPurpleLight]",children:[S.jsx("div",{className:"max-w-md mx-auto p-3 bg-white rounded-2xl shadow",children:S.jsx(yI,{data:i,options:o})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-lg font-semibold text-[--color-appPurple] mb-3",children:"Context"}),S.jsxs("ul",{className:"flex flex-col gap-3",children:[t.map((c,h)=>S.jsxs("li",{className:"flex justify-between text-gray-700",children:[S.jsx("span",{children:c}),S.jsxs("span",{children:["$",r[h].toFixed(2)]})]},c)),S.jsxs("li",{className:"flex justify-between text-[--color-appPurple] font-semibold border-t border-gray-300 pt-2",children:[S.jsx("span",{children:"Total"}),S.jsxs("span",{children:["$",l.toFixed(2)]})]})]})]})]})};tl.register(lI,Sy,by,Iy);const C3=()=>{const e=di.filter(c=>c.type==="income").reduce((c,h)=>(c[h.category]=(c[h.category]||0)+h.amount,c),{}),t=Object.keys(e),r=Object.values(e),i={labels:t,datasets:[{label:"Income by Source ($)",data:r,backgroundColor:["#42224a","#8c6b96","#6b7280","#22c55e","#3b82f6","#eab308","#9ca3af","#ef4444"],borderColor:"#fff",borderWidth:2}]},o={responsive:!0,plugins:{title:{display:!0,text:"Income Breakdown by Source",font:{size:18},color:"#42224a"},legend:{position:"right",labels:{color:"#42224a",font:{size:14}}}}},l=r.reduce((c,h)=>c+h,0);return S.jsxs("div",{className:"bg-white shadow rounded-2xl p-5 flex flex-col md:flex-row gap-6 border border-[--color-appPurpleLight]",children:[S.jsx("div",{className:"max-w-md mx-auto p-3 bg-white rounded-2xl shadow",children:S.jsx(yI,{data:i,options:o})}),S.jsxs("div",{className:"flex-1",children:[S.jsx("h3",{className:"text-lg font-semibold text-[--color-appPurple] mb-3",children:"Context"}),S.jsxs("ul",{className:"flex flex-col gap-3",children:[t.map((c,h)=>S.jsxs("li",{className:"flex justify-between text-gray-700",children:[S.jsx("span",{children:c}),S.jsxs("span",{children:["$",r[h].toFixed(2)]})]},c)),S.jsxs("li",{className:"flex justify-between text-[--color-appPurple] font-semibold border-t border-gray-300 pt-2",children:[S.jsx("span",{children:"Total"}),S.jsxs("span",{children:["$",l.toFixed(2)]})]})]})]})]})},R3=()=>{const{userData:n}=oy();ce.useEffect(()=>{console.log("Userdata on the main app page",n)},[n]);const{tab:e,setTab:t}=v1(),[r,i]=ce.useState("Today"),o=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});function l(P){const C=new Date;return P.filter(L=>{const O=new Date(L.date);return O.getDate()===C.getDate()&&O.getMonth()===C.getMonth()&&O.getFullYear()===C.getFullYear()})}function c(P){const C=new Date,L=new Date(C);L.setDate(C.getDate()-C.getDay()),L.setHours(0,0,0,0);const O=new Date(L);return O.setDate(L.getDate()+7),P.filter(ke=>{const me=new Date(ke.date);return me>=L&&me<O})}function h(P){const C=new Date;return P.filter(L=>{const O=new Date(L.date);return O.getMonth()===C.getMonth()&&O.getFullYear()===C.getFullYear()})}const f=l(di),g=c(di),y=h(di),[w,T]=ce.useState(""),[N,A]=ce.useState([]);ce.useEffect(()=>{if(w.trim()===""){A([]);return}const P=di.filter(C=>[C.title,C.description,C.category].some(L=>L.toLowerCase().includes(w.toLowerCase())));A(P)},[w]);const[I,V]=ce.useState("exp"),F=ce.useRef(),U=ce.useRef(),[B,q]=ce.useState({date:"",category:"",description:"",amount:null,image1:null,image2:null});ce.useEffect(()=>{console.log("Updating transaction info",B)},[B]);const Y=ce.useRef(null),R=ce.useRef(null),[b,D]=ce.useState({date:"",category:"",description:"",amount:"",image1:null,image2:null});return ce.useEffect(()=>{console.log("Updating Income info",b)},[b]),S.jsxs("div",{className:"flex flex-col justify-between border-4 border-green-600",children:[e==="home"?S.jsxs("div",{className:"grow p-2 pb-20",children:[S.jsxs("div",{className:"h-50 w-full  bg-appPurple border-4 rounded-xl bg my-4 text-white p-3",children:[S.jsxs("div",{className:"flex justify-between",children:[S.jsxs("div",{children:[S.jsxs("p",{children:["Hello, ",S.jsx("b",{children:n?.name})]}),S.jsxs("h1",{className:"text-4xl font-bold",children:["$",n&&n.balance!==void 0?n.balance.toLocaleString():"0.00"]})]}),S.jsx("h2",{className:"text-center",children:"October, 2025"})]}),S.jsxs("div",{className:"w-full p-4 flex justify-between align-baseline",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-amber-500",children:"Exp"}),S.jsx("p",{children:"25000"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-amber-500",children:"Exp"}),S.jsx("p",{children:"25000"})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("span",{className:"text-amber-500",children:"Exp"}),S.jsx("p",{children:"25000"})]})]})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"w-full flex justify-between align-middle gap-3 sticky top-0 left-0 right-0 py-4 bg-white",children:[S.jsx("button",{onClick:()=>i("Today"),className:`${r=="Today"?"bg-appPurpleLight":"bg-gray-200"} flex-1 p-2 py-3 rounded-3xl`,children:"Today"}),S.jsx("button",{onClick:()=>i("Weekly"),className:`${r=="Weekly"?"bg-appPurpleLight":"bg-gray-200"} flex-1 p-2 py-3 rounded-3xl`,children:"Weekly"}),S.jsx("button",{onClick:()=>i("Monthly"),className:`${r=="Monthly"?"bg-appPurpleLight":"bg-gray-200"} flex-1 p-2 py-3 rounded-3xl`,children:"Monthly"})]}),S.jsx("h1",{children:r}),S.jsx("div",{className:"overflow-y-scroll",children:r=="Today"?S.jsx(S.Fragment,{children:f.map((P,C)=>S.jsx(S.Fragment,{children:S.jsxs("div",{className:"one-trans flex justify-between align-middle py-3.5",children:[S.jsxs("div",{className:"flex align-middle justify-start gap-2.5 min-w-0",children:[S.jsx("div",{className:"min-w-14 min-h-14 bg-appPurpleLight  rounded-full flex justify-center align-middle",children:S.jsx("button",{children:S.jsx("i",{class:`${P.icon} text-appPurple text-2xl`})})}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-xl font-semibold",children:P.title}),S.jsx("p",{className:"text-gray-500 truncate",children:P.description})]})]}),S.jsx("div",{className:"flex align-middle",children:S.jsxs("span",{className:"text-xl flex align-middle",children:[P.type==="income"?"+":"","$",P.amount]})})]},C)}))}):r=="Weekly"?S.jsx(S.Fragment,{children:g.map((P,C)=>S.jsx(S.Fragment,{children:S.jsxs("div",{className:"one-trans flex justify-between align-middle py-3.5",children:[S.jsxs("div",{className:"flex align-middle justify-start gap-2.5 min-w-0",children:[S.jsx("div",{className:"min-w-14 min-h-14 bg-appPurpleLight  rounded-full flex justify-center align-middle",children:S.jsx("button",{children:S.jsx("i",{class:`${P.icon} text-appPurple text-2xl`})})}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-xl font-semibold",children:P.title}),S.jsx("p",{className:"text-gray-500 truncate",children:P.description})]})]}),S.jsx("div",{className:"flex align-middle",children:S.jsxs("span",{className:"text-xl flex align-middle",children:[P.type==="income"?"+":"","$",P.amount]})})]},C)}))}):r=="Monthly"?S.jsx(S.Fragment,{children:y.map((P,C)=>S.jsx(S.Fragment,{children:S.jsxs("div",{className:"one-trans flex justify-between align-middle py-3.5",children:[S.jsxs("div",{className:"flex align-middle justify-start gap-2.5 min-w-0",children:[S.jsx("div",{className:"min-w-14 min-h-14 bg-appPurpleLight  rounded-full flex justify-center align-middle",children:S.jsx("button",{children:S.jsx("i",{class:`${P.icon} text-appPurple text-2xl`})})}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-xl font-semibold",children:P.title}),S.jsx("p",{className:"text-gray-500 truncate",children:P.description})]})]}),S.jsx("div",{className:"flex align-middle",children:S.jsxs("span",{className:"text-xl flex align-middle",children:[P.type==="income"?"+":"","$",P.amount]})})]},C)}))}):""})]})]}):e=="receipts"?S.jsxs("div",{className:"grow p-2 pb-20",children:[S.jsxs("div",{className:"flex w-full justify-between bg-white align-middle py-2 sticky top-0 left-0 right-0",children:[S.jsx("button",{children:S.jsx("i",{className:"bxr bx-arrow-left-stroke text-3xl"})}),S.jsx("h3",{className:"text-appPurple text-center text-xl font-bold",children:"Receipts"}),S.jsx("button",{children:S.jsx("i",{className:"bxr  bx-cog text-3xl"})})]}),S.jsxs("div",{className:"w-full flex align-middle justify-between my-5 bg-gray-200 rounded-3xl h-10 px-4",children:[S.jsx("input",{placeholder:"Search by title, description, or category...",value:w,onChange:P=>T(P.target.value),className:"w-[80%] outline-0",type:"text"}),S.jsx("button",{className:"",children:S.jsx("i",{className:"bxr  bx-search text-2xl"})})]}),S.jsx("div",{className:"border-2 border-green-500",children:N.length>0?N.map((P,C)=>S.jsxs("div",{className:"one-receipt flex justify-between my-2",children:[S.jsxs("div",{className:"flex justify-start align-middle gap-2 min-w-0",children:[S.jsx("div",{className:"min-h-20 min-w-20 border-2 border-blue-600"}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-lg font-semibold text-gray-600",children:P.title}),S.jsx("p",{className:"text-appPurple font-bold",children:o(P.date)}),S.jsx("p",{className:"text-gray-500 truncate",children:P.description})]})]}),S.jsx("div",{children:S.jsx("button",{})})]},C)):di.map((P,C)=>S.jsxs("div",{className:"one-receipt flex justify-between my-2",children:[S.jsxs("div",{className:"flex justify-start align-middle gap-2 min-w-0",children:[S.jsx("div",{className:"min-h-20 min-w-20 border-2 border-blue-600"}),S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-lg font-semibold text-gray-600",children:P.title}),S.jsx("p",{className:"text-appPurple font-bold",children:o(P.date)}),S.jsx("p",{className:"text-gray-500 truncate",children:P.description})]})]}),S.jsx("div",{children:S.jsx("button",{})})]},C))})]}):e=="new-shii"?S.jsxs("div",{className:"grow p-2 pb-20",children:[S.jsxs("div",{className:"flex w-full justify-between bg-white align-middle py-2 sticky top-0 left-0 right-0",children:[S.jsx("button",{children:S.jsx("i",{className:"bxr bx-arrow-left-stroke text-3xl"})}),S.jsxs("h3",{className:"text-appPurple text-center text-xl font-bold",children:["New ",`${I=="exp"?"Expense":"Income"}`]}),S.jsx("button",{children:S.jsx("i",{className:"bxr  bx-cog text-3xl"})})]}),S.jsxs("div",{className:"my-5 w-5/6 mx-auto flex justify-between align-middle h-10 rounded-3xl bg-gray-300",children:[S.jsx("button",{onClick:()=>V("exp"),className:`${I=="exp"?"bg-appPurple text-white":""} flex-1 font-bold rounded-tl-3xl rounded-bl-3xl`,children:"Expense"}),S.jsx("button",{onClick:()=>V("inc"),className:`${I=="inc"?"bg-appPurple text-white":""} flex-1 font-bold rounded-br-3xl rounded-tr-3xl`,children:"Income"})]}),S.jsx("div",{className:"border-2 border-green-500",children:I=="exp"?S.jsxs("form",{children:[S.jsx("input",{onChange:P=>{const C=P.target.value,L=new Date(C).toISOString();q(O=>({...O,date:L}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl mb-4 placeholder:text-appPurple font-bold",type:"date"}),S.jsxs("select",{onChange:P=>{const C=P.target.value;q(L=>({...L,category:C}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl mb-5 placeholder:text-appPurple font-bold",defaultValue:"",children:[S.jsx("option",{value:"",disabled:!0,children:"Select Category"}),S.jsx("option",{value:"groceries",children:"Groceries"}),S.jsx("option",{value:"bills",children:"Bills & Utilities"}),S.jsx("option",{value:"shopping",children:"Shopping"}),S.jsx("option",{value:"transport",children:"Transport"}),S.jsx("option",{value:"entertainment",children:"Entertainment"}),S.jsx("option",{value:"health",children:"Health & Fitness"}),S.jsx("option",{value:"education",children:"Education"}),S.jsx("option",{value:"subscriptions",children:"Subscriptions"}),S.jsx("option",{value:"others",children:"Others"})]}),S.jsx("input",{onChange:P=>{const C=P.target.value;q(L=>({...L,description:C}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl mb-5 placeholder:text-gray-500 font-semibold",placeholder:"Description (Optional)",type:"text"}),S.jsx("input",{onChange:P=>{const C=P.target.value;q(L=>({...L,amount:Number.parseFloat(C)}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl placeholder:text-gray-500 font-semibold",placeholder:"Amount",type:"text"}),S.jsx("p",{className:"my-3 font-bold text-gray-500",children:"Expense Receipt Images"}),S.jsxs("div",{className:"flex justify-between align-middle gap-3",children:[S.jsx("div",{className:"flex justify-center align-middle h-30 flex-1 border-2 border-appPurple",children:B.image1?S.jsx("img",{className:"w-full object-center",src:URL.createObjectURL(B.image1),alt:""}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>F.current.click(),type:"button",children:S.jsx("i",{className:"bxr  bx-plus"})}),S.jsx("input",{onChange:P=>{q(C=>({...C,image1:P.target.files[0]}))},ref:F,type:"file",accept:"image/*",className:"hidden"})]})}),S.jsx("div",{className:"flex justify-center align-middle h-30 flex-1 border-2 border-appPurple",children:B.image2?S.jsx("img",{className:"w-full object-center",src:URL.createObjectURL(B.image2),alt:""}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>U.current.click(),type:"button",children:S.jsx("i",{className:"bxr  bx-plus"})}),S.jsx("input",{onChange:P=>{q(C=>({...C,image2:P.target.files[0]}))},ref:U,type:"file",accept:"image/*",className:"hidden"})]})})]}),S.jsxs("div",{className:"flex justify-between align-middle gap-3 my-5",children:[S.jsx("button",{onClick:()=>t("home"),className:"text-lg font-semibold text-white bg-appPurple flex-1 p-1 rounded-3xl",children:"Cancel"}),S.jsx("button",{type:"button",onClick:()=>{uploadNewExpense(B)},className:"text-lg font-semibold text-white bg-appPurple flex-1 p-1 rounded-3xl",children:"Save"})]})]}):I=="inc"?S.jsxs("form",{children:[S.jsx("input",{onChange:P=>{const C=P.target.value,L=new Date(C).toISOString();D(O=>({...O,date:L}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl mb-4 placeholder:text-appPurple font-bold",type:"date"}),S.jsxs("select",{onChange:P=>{const C=P.target.value;D(L=>({...L,category:C}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl mb-5 placeholder:text-appPurple font-bold",defaultValue:"",children:[S.jsx("option",{value:"",disabled:!0,children:"Select Income Source"}),S.jsx("option",{value:"salary",children:"Salary"}),S.jsx("option",{value:"freelance",children:"Freelance / Side Jobs"}),S.jsx("option",{value:"business",children:"Business"}),S.jsx("option",{value:"investment",children:"Investment"}),S.jsx("option",{value:"gift",children:"Gifts & Donations"}),S.jsx("option",{value:"rental",children:"Rental Income"}),S.jsx("option",{value:"refund",children:"Refunds / Reimbursements"}),S.jsx("option",{value:"allowance",children:"Allowance / Stipend"}),S.jsx("option",{value:"others",children:"Others"})]}),S.jsx("input",{onChange:P=>{const C=P.target.value;D(L=>({...L,description:C}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl mb-5 placeholder:text-gray-500 font-semibold",placeholder:"Description (Optional)",type:"text"}),S.jsx("input",{onChange:P=>{const C=P.target.value;D(L=>({...L,amount:Number.parseFloat(C)}))},className:"p-2 px-4 w-full bg-gray-300 rounded-3xl placeholder:text-gray-500 font-semibold",placeholder:"Amount",type:"text"}),S.jsx("p",{className:"my-3 font-bold text-gray-500",children:"Income Proof Images"}),S.jsxs("div",{className:"flex justify-between align-middle gap-3",children:[S.jsx("div",{className:"flex justify-center align-middle h-30 flex-1 border-2 border-appPurple",children:b.image1?S.jsx("img",{className:"w-full object-center",src:URL.createObjectURL(b.image1),alt:""}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>Y.current.click(),type:"button",children:S.jsx("i",{className:"bxr bx-plus"})}),S.jsx("input",{onChange:P=>{D(C=>({...C,image1:P.target.files[0]}))},ref:Y,type:"file",accept:"image/*",className:"hidden"})]})}),S.jsx("div",{className:"flex justify-center align-middle h-30 flex-1 border-2 border-appPurple",children:b.image2?S.jsx("img",{className:"w-full object-center",src:URL.createObjectURL(b.image2),alt:""}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>R.current.click(),type:"button",children:S.jsx("i",{className:"bxr bx-plus"})}),S.jsx("input",{onChange:P=>{D(C=>({...C,image2:P.target.files[0]}))},ref:R,type:"file",accept:"image/*",className:"hidden"})]})})]}),S.jsxs("div",{className:"flex justify-between align-middle gap-3 my-5",children:[S.jsx("button",{className:"text-lg font-semibold text-white bg-appPurple flex-1 p-1 rounded-3xl",children:"Cancel"}),S.jsx("button",{className:"text-lg font-semibold text-white bg-appPurple flex-1 p-1 rounded-3xl",children:"Save"})]})]}):""})]}):e=="charts"?S.jsxs("div",{className:"w-full p-2 flex flex-col gap-6",children:[S.jsxs("div",{className:"flex w-full justify-between bg-white align-middle py-2 sticky top-0 left-0 right-0",children:[S.jsx("button",{children:S.jsx("i",{className:"bxr bx-arrow-left-stroke text-3xl"})}),S.jsx("h3",{className:"text-appPurple text-center text-xl font-bold",children:"Charts"}),S.jsx("button",{children:S.jsx("i",{className:"bxr  bx-cog text-3xl"})})]}),S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[S.jsxs("div",{className:"bg-white shadow rounded-2xl p-4 text-center border border-[--color-appPurpleLight]",children:[S.jsx("p",{className:"text-gray-500 text-sm",children:"Total Income"}),S.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"$2,350"})]}),S.jsxs("div",{className:"bg-white shadow rounded-2xl p-4 text-center border border-[--color-appPurpleLight]",children:[S.jsx("p",{className:"text-gray-500 text-sm",children:"Total Expense"}),S.jsx("h2",{className:"text-2xl font-bold text-red-500",children:"$1,820"})]}),S.jsxs("div",{className:"bg-white shadow rounded-2xl p-4 text-center border border-[--color-appPurpleLight]",children:[S.jsx("p",{className:"text-gray-500 text-sm",children:"Balance"}),S.jsx("h2",{className:"text-2xl font-bold text-[--color-appPurple]",children:"$530"})]}),S.jsxs("div",{className:"bg-white shadow rounded-2xl p-4 text-center border border-[--color-appPurpleLight]",children:[S.jsx("p",{className:"text-gray-500 text-sm",children:"Transactions"}),S.jsx("h2",{className:"text-2xl font-bold text-[--color-appPurple]",children:"28"})]})]}),S.jsx(k3,{}),S.jsx(A3,{}),S.jsx(C3,{}),S.jsxs("div",{className:"bg-[--color-appPurple] text-white p-5 rounded-2xl shadow",children:[S.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Insights"}),S.jsxs("p",{className:"text-sm text-[--color-appPurpleLight]",children:["You spent ",S.jsx("span",{className:"font-semibold text-white",children:"25% more"})," this week than last week. Try reducing transport and food expenses."]})]})]}):"",S.jsx(QM,{page:e})]})},Yx=({size:n="md",className:e=""})=>{const t={sm:{dot:"w-3 h-3",text:"text-lg"},md:{dot:"w-4 h-4",text:"text-2xl"},lg:{dot:"w-5 h-5",text:"text-3xl"}},r=t[n]||t.md;return S.jsxs("div",{className:`flex items-center w-fit gap-3 ${e}`,"aria-label":"PhinTrackr logo",children:[S.jsx("span",{className:`${r.dot} rounded-full bg-orange-500 inline-block shrink-0`,"aria-hidden":"true"}),S.jsx("span",{className:`${r.text} font-semibold text-appPurple) tracking-tight`,children:"PhinTrackr"})]})},P3=()=>{const[n,e]=ce.useState("login"),{login:t,signUp:r}=oy(),[i,o]=ce.useState({name:"",email:"",password:""}),[l,c]=ce.useState({email:"",password:""}),h=async g=>{g.preventDefault();try{console.log("Object",{name:i.name,email:i.email,password:i.password});const y=await r(i.name,i.email,i.password);console.log("Response from sign up",y)}catch(y){console.log("Error Signing up",y),y.code==="auth/email-already-in-use"&&De.error("This email is associated with another account.")}},f=async g=>{g.preventDefault();try{console.log("Object",{email:l.email,password:l.password});const y=await t(l.email,l.password);console.log("Response from sign in",y)}catch(y){console.log("Error Signing in",y),(y.code==="auth/invalid-email"||y.code==="auth/invalid-credential")&&De.error("Invalid email or password")}};return S.jsx(S.Fragment,{children:n==="signup"?S.jsxs("div",{children:[S.jsx("div",{className:"min-h-[70vh] flex items-center justify-center bg-white",children:S.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl shadow-md p-8",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-appPurple",children:"Create Account"}),S.jsxs("form",{onSubmit:h,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Full Name"}),S.jsx("input",{type:"text",value:i.name,onChange:g=>o({...i,name:g.target.value}),placeholder:"John Doe",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-appPurpleLight",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),S.jsx("input",{type:"email",value:i.email,onChange:g=>o({...i,email:g.target.value}),placeholder:"johndoe@email.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-appPurpleLight",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password"}),S.jsx("input",{type:"password",value:i.password,onChange:g=>o({...i,password:g.target.value}),placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-appPurpleLight",required:!0})]}),S.jsx("button",{type:"submit",className:"w-full py-2 bg-appPurple text-white font-semibold rounded-lg hover:bg-appPurpleLight hover:text-appPurple transition-all duration-300",children:"Sign Up"})]}),S.jsxs("p",{className:"text-center text-sm text-gray-500 mt-5",children:["Already have an account?"," ",S.jsx("a",{onClick:()=>e("login"),className:"text-appPurple hover:underline cursor-pointer",children:"Log In"})]})]})}),S.jsx("div",{className:"text-center w-full flex align-middle justify-center mb-1",children:S.jsx(Yx,{})}),S.jsx("p",{className:"text-center",children:"a mini app by Philips Edun"})]}):S.jsxs("div",{children:[S.jsx("div",{className:"min-h-[70vh] flex items-center justify-center bg-white",children:S.jsxs("div",{className:"w-full max-w-md bg-gray-50 rounded-2xl shadow-md p-8",children:[S.jsx("h2",{className:"text-2xl font-semibold text-center mb-6 text-appPurple",children:"Log In"}),S.jsxs("form",{onSubmit:f,className:"space-y-5",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Email"}),S.jsx("input",{type:"email",value:l.email,onChange:g=>c({...l,email:g.target.value}),placeholder:"johndoe@email.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-appPurpleLight",required:!0})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Password"}),S.jsx("input",{type:"password",value:l.password,onChange:g=>c({...l,password:g.target.value}),placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-appPurpleLight",required:!0})]}),S.jsx("button",{type:"submit",className:"w-full py-2 bg-appPurple text-white font-semibold rounded-lg hover:bg-appPurpleLight hover:text-appPurple transition-all duration-300",children:"Log In"})]}),S.jsxs("p",{className:"text-center text-sm text-gray-500 mt-5",children:["Don't have an account?"," ",S.jsx("a",{onClick:()=>e("signup"),className:"text-appPurple hover:underline cursor-pointer",children:"Sign Up"})]})]})}),S.jsx("div",{className:"text-center w-full flex align-middle justify-center mb-1",children:S.jsx(Yx,{})}),S.jsx("p",{className:"text-center",children:"a mini app by Philips Edun"})]})})};function N3(){const{user:n}=oy();return ce.useEffect(()=>{n&&(console.log("This is the user gotten from the AuthContext",n),console.log("Current user UID",n.uid))},[]),S.jsxs("div",{className:"w-screen border-green-800",children:[S.jsx(RL,{}),n?S.jsx(R3,{}):S.jsx(P3,{})]})}var mg={exports:{}},yg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function D3(){if(Xx)return yg;Xx=1;var n=Ld();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue;return yg.useSyncExternalStoreWithSelector=function(h,f,g,y,w){var T=i(null);if(T.current===null){var N={hasValue:!1,value:null};T.current=N}else N=T.current;T=l(function(){function I(q){if(!V){if(V=!0,F=q,q=y(q),w!==void 0&&N.hasValue){var Y=N.value;if(w(Y,q))return U=Y}return U=q}if(Y=U,t(F,q))return Y;var R=y(q);return w!==void 0&&w(Y,R)?(F=q,Y):(F=q,U=R)}var V=!1,F,U,B=g===void 0?null:g;return[function(){return I(f())},B===null?void 0:function(){return I(B())}]},[f,g,y,w]);var A=r(h,T[0],T[1]);return o(function(){N.hasValue=!0,N.value=A},[A]),c(A),A},yg}var Jx;function O3(){return Jx||(Jx=1,mg.exports=D3()),mg.exports}O3();function M3(n){n()}function L3(){let n=null,e=null;return{clear(){n=null,e=null},notify(){M3(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var Zx={notify(){},get:()=>[]};function V3(n,e){let t,r=Zx,i=0,o=!1;function l(A){g();const I=r.subscribe(A);let V=!1;return()=>{V||(V=!0,I(),y())}}function c(){r.notify()}function h(){N.onStateChange&&N.onStateChange()}function f(){return o}function g(){i++,t||(t=n.subscribe(h),r=L3())}function y(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=Zx)}function w(){o||(o=!0,g())}function T(){o&&(o=!1,y())}const N={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:h,isSubscribed:f,trySubscribe:w,tryUnsubscribe:T,getListeners:()=>r};return N}var F3=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j3=F3(),U3=()=>typeof navigator<"u"&&navigator.product==="ReactNative",z3=U3(),B3=()=>j3||z3?ce.useLayoutEffect:ce.useEffect,$3=B3(),H3=Symbol.for("react-redux-context"),W3=typeof globalThis<"u"?globalThis:{};function q3(){if(!ce.createContext)return{};const n=W3[H3]??=new Map;let e=n.get(ce.createContext);return e||(e=ce.createContext(null),n.set(ce.createContext,e)),e}var K3=q3();function G3(n){const{children:e,context:t,serverState:r,store:i}=n,o=ce.useMemo(()=>{const h=V3(i);return{store:i,subscription:h,getServerState:r?()=>r:void 0}},[i,r]),l=ce.useMemo(()=>i.getState(),[i]);$3(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),l!==i.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,l]);const c=t||K3;return ce.createElement(c.Provider,{value:o},e)}var Q3=G3;function $t(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Y3=typeof Symbol=="function"&&Symbol.observable||"@@observable",eT=Y3,_g=()=>Math.random().toString(36).substring(7).split("").join("."),X3={INIT:`@@redux/INIT${_g()}`,REPLACE:`@@redux/REPLACE${_g()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_g()}`},Pd=X3;function ky(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function _I(n,e,t){if(typeof n!="function")throw new Error($t(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error($t(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error($t(1));return t(_I)(n,e)}let r=n,i=e,o=new Map,l=o,c=0,h=!1;function f(){l===o&&(l=new Map,o.forEach((I,V)=>{l.set(V,I)}))}function g(){if(h)throw new Error($t(3));return i}function y(I){if(typeof I!="function")throw new Error($t(4));if(h)throw new Error($t(5));let V=!0;f();const F=c++;return l.set(F,I),function(){if(V){if(h)throw new Error($t(6));V=!1,f(),l.delete(F),o=null}}}function w(I){if(!ky(I))throw new Error($t(7));if(typeof I.type>"u")throw new Error($t(8));if(typeof I.type!="string")throw new Error($t(17));if(h)throw new Error($t(9));try{h=!0,i=r(i,I)}finally{h=!1}return(o=l).forEach(F=>{F()}),I}function T(I){if(typeof I!="function")throw new Error($t(10));r=I,w({type:Pd.REPLACE})}function N(){const I=y;return{subscribe(V){if(typeof V!="object"||V===null)throw new Error($t(11));function F(){const B=V;B.next&&B.next(g())}return F(),{unsubscribe:I(F)}},[eT](){return this}}}return w({type:Pd.INIT}),{dispatch:w,subscribe:y,getState:g,replaceReducer:T,[eT]:N}}function J3(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Pd.INIT})>"u")throw new Error($t(12));if(typeof t(void 0,{type:Pd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($t(13))})}function Z3(n){const e=Object.keys(n),t={};for(let o=0;o<e.length;o++){const l=e[o];typeof n[l]=="function"&&(t[l]=n[l])}const r=Object.keys(t);let i;try{J3(t)}catch(o){i=o}return function(l={},c){if(i)throw i;let h=!1;const f={};for(let g=0;g<r.length;g++){const y=r[g],w=t[y],T=l[y],N=w(T,c);if(typeof N>"u")throw c&&c.type,new Error($t(14));f[y]=N,h=h||N!==T}return h=h||r.length!==Object.keys(l).length,h?f:l}}function Nd(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function e5(...n){return e=>(t,r)=>{const i=e(t,r);let o=()=>{throw new Error($t(15))};const l={getState:i.getState,dispatch:(h,...f)=>o(h,...f)},c=n.map(h=>h(l));return o=Nd(...c)(i.dispatch),{...i,dispatch:o}}}function t5(n){return ky(n)&&"type"in n&&typeof n.type=="string"}var vI=Symbol.for("immer-nothing"),tT=Symbol.for("immer-draftable"),Dn=Symbol.for("immer-state");function ar(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object.getPrototypeOf;function bo(n){return!!n&&!!n[Dn]}function bi(n){return n?wI(n)||Array.isArray(n)||!!n[tT]||!!n.constructor?.[tT]||tu(n)||hf(n):!1}var n5=Object.prototype.constructor.toString();function wI(n){if(!n||typeof n!="object")return!1;const e=Ka(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===n5}function Dd(n,e){uf(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function uf(n){const e=n[Dn];return e?e.type_:Array.isArray(n)?1:tu(n)?2:hf(n)?3:0}function rm(n,e){return uf(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function xI(n,e,t){const r=uf(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function r5(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function tu(n){return n instanceof Map}function hf(n){return n instanceof Set}function ro(n){return n.copy_||n.base_}function im(n,e){if(tu(n))return new Map(n);if(hf(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=wI(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Dn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const l=i[o],c=r[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[l]})}return Object.create(Ka(n),r)}else{const r=Ka(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Ay(n,e=!1){return df(n)||bo(n)||!bi(n)||(uf(n)>1&&Object.defineProperties(n,{set:{value:jh},add:{value:jh},clear:{value:jh},delete:{value:jh}}),Object.freeze(n),e&&Object.values(n).forEach(t=>Ay(t,!0))),n}function jh(){ar(2)}function df(n){return Object.isFrozen(n)}var i5={};function Io(n){const e=i5[n];return e||ar(0,n),e}var jc;function TI(){return jc}function s5(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nT(n,e){e&&(Io("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function sm(n){om(n),n.drafts_.forEach(o5),n.drafts_=null}function om(n){n===jc&&(jc=n.parent_)}function rT(n){return jc=s5(jc,n)}function o5(n){const e=n[Dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iT(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Dn].modified_&&(sm(e),ar(4)),bi(n)&&(n=Od(e,n),e.parent_||Md(e,n)),e.patches_&&Io("Patches").generateReplacementPatches_(t[Dn].base_,n,e.patches_,e.inversePatches_)):n=Od(e,t,[]),sm(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==vI?n:void 0}function Od(n,e,t){if(df(e))return e;const r=e[Dn];if(!r)return Dd(e,(i,o)=>sT(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return Md(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,l=!1;r.type_===3&&(o=new Set(i),i.clear(),l=!0),Dd(o,(c,h)=>sT(n,r,i,c,h,t,l)),Md(n,i,!1),t&&n.patches_&&Io("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function sT(n,e,t,r,i,o,l){if(bo(i)){const c=o&&e&&e.type_!==3&&!rm(e.assigned_,r)?o.concat(r):void 0,h=Od(n,i,c);if(xI(t,r,h),bo(h))n.canAutoFreeze_=!1;else return}else l&&t.add(i);if(bi(i)&&!df(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Od(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(tu(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&Md(n,i)}}function Md(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Ay(e,t)}function a5(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:TI(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Cy;t&&(i=[r],o=Uc);const{revoke:l,proxy:c}=Proxy.revocable(i,o);return r.draft_=c,r.revoke_=l,c}var Cy={get(n,e){if(e===Dn)return n;const t=ro(n);if(!rm(t,e))return l5(n,t,e);const r=t[e];return n.finalized_||!bi(r)?r:r===vg(n.base_,e)?(wg(n),n.copy_[e]=lm(r,n)):r},has(n,e){return e in ro(n)},ownKeys(n){return Reflect.ownKeys(ro(n))},set(n,e,t){const r=EI(ro(n),e);if(r?.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=vg(ro(n),e),o=i?.[Dn];if(o&&o.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(r5(t,i)&&(t!==void 0||rm(n.base_,e)))return!0;wg(n),am(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return vg(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,wg(n),am(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=ro(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){ar(11)},getPrototypeOf(n){return Ka(n.base_)},setPrototypeOf(){ar(12)}},Uc={};Dd(Cy,(n,e)=>{Uc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Uc.deleteProperty=function(n,e){return Uc.set.call(this,n,e,void 0)};Uc.set=function(n,e,t){return Cy.set.call(this,n[0],e,t,n[0])};function vg(n,e){const t=n[Dn];return(t?ro(t):n)[e]}function l5(n,e,t){const r=EI(e,t);return r?"value"in r?r.value:r.get?.call(n.draft_):void 0}function EI(n,e){if(!(e in n))return;let t=Ka(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=Ka(t)}}function am(n){n.modified_||(n.modified_=!0,n.parent_&&am(n.parent_))}function wg(n){n.copy_||(n.copy_=im(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var c5=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const l=this;return function(h=o,...f){return l.produce(h,g=>t.call(this,g,...f))}}typeof t!="function"&&ar(6),r!==void 0&&typeof r!="function"&&ar(7);let i;if(bi(e)){const o=rT(this),l=lm(e,void 0);let c=!0;try{i=t(l),c=!1}finally{c?sm(o):om(o)}return nT(o,r),iT(i,o)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===vI&&(i=void 0),this.autoFreeze_&&Ay(i,!0),r){const o=[],l=[];Io("Patches").generateReplacementPatches_(e,i,o,l),r(o,l)}return i}else ar(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,h=>e(h,...c));let r,i;return[this.produce(e,t,(l,c)=>{r=l,i=c}),r,i]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){bi(n)||ar(8),bo(n)&&(n=u5(n));const e=rT(this),t=lm(n,void 0);return t[Dn].isManual_=!0,om(e),t}finishDraft(n,e){const t=n&&n[Dn];(!t||!t.isManual_)&&ar(9);const{scope_:r}=t;return nT(r,e),iT(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Io("Patches").applyPatches_;return bo(n)?r(n,e):this.produce(n,i=>r(i,e))}};function lm(n,e){const t=tu(n)?Io("MapSet").proxyMap_(n,e):hf(n)?Io("MapSet").proxySet_(n,e):a5(n,e);return(e?e.scope_:TI()).drafts_.push(t),t}function u5(n){return bo(n)||ar(10,n),bI(n)}function bI(n){if(!bi(n)||df(n))return n;const e=n[Dn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=im(n,e.scope_.immer_.useStrictShallowCopy_)}else t=im(n,!0);return Dd(t,(r,i)=>{xI(t,r,bI(i))}),e&&(e.finalized_=!1),t}var h5=new c5,II=h5.produce;function SI(n){return({dispatch:t,getState:r})=>i=>o=>typeof o=="function"?o(t,r,n):i(o)}var d5=SI(),f5=SI,p5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nd:Nd.apply(null,arguments)};function oT(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(_i(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>t5(r)&&r.type===n,t}var kI=class dc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,dc.prototype)}static get[Symbol.species](){return dc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new dc(...e[0].concat(this)):new dc(...e.concat(this))}};function aT(n){return bi(n)?II(n,()=>{}):n}function Uh(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function g5(n){return typeof n=="boolean"}var m5=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let l=new kI;return t&&(g5(t)?l.push(d5):l.push(f5(t.extraArgument))),l},y5="RTK_autoBatch",lT=n=>e=>{setTimeout(e,n)},_5=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,o=!1,l=!1;const c=new Set,h=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lT(10):n.type==="callback"?n.queueNotification:lT(n.timeout),f=()=>{l=!1,o&&(o=!1,c.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const y=()=>i&&g(),w=r.subscribe(y);return c.add(g),()=>{w(),c.delete(g)}},dispatch(g){try{return i=!g?.meta?.[y5],o=!i,o&&(l||(l=!0,h(f))),r.dispatch(g)}finally{i=!0}}})},v5=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new kI(n);return r&&i.push(_5(typeof r=="object"?r:void 0)),i};function w5(n){const e=m5(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:l=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(ky(t))c=Z3(t);else throw new Error(_i(1));let h;typeof r=="function"?h=r(e):h=e();let f=Nd;i&&(f=p5({trace:!1,...typeof i=="object"&&i}));const g=e5(...h),y=v5(g);let w=typeof l=="function"?l(y):y();const T=f(...w);return _I(c,o,T)}function AI(n){const e={},t=[];let r;const i={addCase(o,l){const c=typeof o=="string"?o:o.type;if(!c)throw new Error(_i(28));if(c in e)throw new Error(_i(29));return e[c]=l,i},addAsyncThunk(o,l){return l.pending&&(e[o.pending.type]=l.pending),l.rejected&&(e[o.rejected.type]=l.rejected),l.fulfilled&&(e[o.fulfilled.type]=l.fulfilled),l.settled&&t.push({matcher:o.settled,reducer:l.settled}),i},addMatcher(o,l){return t.push({matcher:o,reducer:l}),i},addDefaultCase(o){return r=o,i}};return n(i),[e,t,r]}function x5(n){return typeof n=="function"}function T5(n,e){let[t,r,i]=AI(e),o;if(x5(n))o=()=>aT(n());else{const c=aT(n);o=()=>c}function l(c=o(),h){let f=[t[h.type],...r.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return f.filter(g=>!!g).length===0&&(f=[i]),f.reduce((g,y)=>{if(y)if(bo(g)){const T=y(g,h);return T===void 0?g:T}else{if(bi(g))return II(g,w=>y(w,h));{const w=y(g,h);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return g},c)}return l.getInitialState=o,l}var E5=Symbol.for("rtk-slice-createasyncthunk");function b5(n,e){return`${n}/${e}`}function I5({creators:n}={}){const e=n?.asyncThunk?.[E5];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(_i(11));const l=(typeof r.reducers=="function"?r.reducers(A5()):r.reducers)||{},c=Object.keys(l),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(U,B){const q=typeof U=="string"?U:U.type;if(!q)throw new Error(_i(12));if(q in h.sliceCaseReducersByType)throw new Error(_i(13));return h.sliceCaseReducersByType[q]=B,f},addMatcher(U,B){return h.sliceMatchers.push({matcher:U,reducer:B}),f},exposeAction(U,B){return h.actionCreators[U]=B,f},exposeCaseReducer(U,B){return h.sliceCaseReducersByName[U]=B,f}};c.forEach(U=>{const B=l[U],q={reducerName:U,type:b5(i,U),createNotation:typeof r.reducers=="function"};R5(B)?N5(q,B,f,e):C5(q,B,f)});function g(){const[U={},B=[],q=void 0]=typeof r.extraReducers=="function"?AI(r.extraReducers):[r.extraReducers],Y={...U,...h.sliceCaseReducersByType};return T5(r.initialState,R=>{for(let b in Y)R.addCase(b,Y[b]);for(let b of h.sliceMatchers)R.addMatcher(b.matcher,b.reducer);for(let b of B)R.addMatcher(b.matcher,b.reducer);q&&R.addDefaultCase(q)})}const y=U=>U,w=new Map,T=new WeakMap;let N;function A(U,B){return N||(N=g()),N(U,B)}function I(){return N||(N=g()),N.getInitialState()}function V(U,B=!1){function q(R){let b=R[U];return typeof b>"u"&&B&&(b=Uh(T,q,I)),b}function Y(R=y){const b=Uh(w,B,()=>new WeakMap);return Uh(b,R,()=>{const D={};for(const[P,C]of Object.entries(r.selectors??{}))D[P]=S5(C,R,()=>Uh(T,R,I),B);return D})}return{reducerPath:U,getSelectors:Y,get selectors(){return Y(q)},selectSlice:q}}const F={name:i,reducer:A,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:I,...V(o),injectInto(U,{reducerPath:B,...q}={}){const Y=B??o;return U.inject({reducerPath:Y,reducer:A},q),{...F,...V(Y,!0)}}};return F}}function S5(n,e,t,r){function i(o,...l){let c=e(o);return typeof c>"u"&&r&&(c=t()),n(c,...l)}return i.unwrapped=n,i}var k5=I5();function A5(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function C5({type:n,reducerName:e,createNotation:t},r,i){let o,l;if("reducer"in r){if(t&&!P5(r))throw new Error(_i(17));o=r.reducer,l=r.prepare}else o=r;i.addCase(n,o).exposeCaseReducer(e,o).exposeAction(e,l?oT(n,l):oT(n))}function R5(n){return n._reducerDefinitionType==="asyncThunk"}function P5(n){return n._reducerDefinitionType==="reducerWithPrepare"}function N5({type:n,reducerName:e},t,r,i){if(!i)throw new Error(_i(18));const{payloadCreator:o,fulfilled:l,pending:c,rejected:h,settled:f,options:g}=t,y=i(n,o,g);r.exposeAction(e,y),l&&r.addCase(y.fulfilled,l),c&&r.addCase(y.pending,c),h&&r.addCase(y.rejected,h),f&&r.addMatcher(y.settled,f),r.exposeCaseReducer(e,{fulfilled:l||zh,pending:c||zh,rejected:h||zh,settled:f||zh})}function zh(){}function _i(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const D5={transactions:[]},CI=k5({name:"transactions",initialState:D5,reducers:{addTransaction:(n,e)=>{n.transactions.push(e.payload)},deleteTransaction:(n,e)=>{n.transactions=n.transactions.filter(t=>t.id!==e.payload)}}}),{addTransaction:U5,deleteTransaction:z5}=CI.actions,O5=CI.reducer,M5=w5({reducer:{transactions:O5}});WS.createRoot(document.getElementById("root")).render(S.jsx(S.Fragment,{children:S.jsx(Q3,{store:M5,children:S.jsx(GM,{children:S.jsx(PL,{children:S.jsx(N3,{})})})})}));
